<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>lxpfrontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">lxpfrontend documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li >CustomDateFormatter</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/learner/pages/learner-new-my-course/learner-new-my-course.component.ts</code>
        </p>



            <p class="comment">
                <h3>Extends</h3>
            </p>
            <p class="comment">
                    <code>CalendarDateFormatter</code>
            </p>


            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#weekViewColumnHeader" >weekViewColumnHeader</a>
                            </li>
                            <li>
                                <a href="#weekViewColumnSubHeader" >weekViewColumnSubHeader</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>


            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weekViewColumnHeader"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>weekViewColumnHeader</b></span>
                        <a href="#weekViewColumnHeader"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>weekViewColumnHeader(undefined: DateFormatterParams)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="41"
                            class="link-to-prism">src/app/learner/pages/learner-new-my-course/learner-new-my-course.component.ts:41</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                            <code>DateFormatterParams</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weekViewColumnSubHeader"></a>
                    <span class="name">
                        <span ><b>weekViewColumnSubHeader</b></span>
                        <a href="#weekViewColumnSubHeader"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>weekViewColumnSubHeader(undefined: DateFormatterParams)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="37"
                            class="link-to-prism">src/app/learner/pages/learner-new-my-course/learner-new-my-course.component.ts:37</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                            <code>DateFormatterParams</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, HostListener, Injectable, TemplateRef, ViewChild } from &quot;@angular/core&quot;;
import { OwlOptions } from &#x27;ngx-owl-carousel-o&#x27;;
import { AUTO_STYLE, animate, state, style, transition, trigger } from &#x27;@angular/animations&#x27;;
import { Subject } from &quot;rxjs&quot;;
import * as moment from &#x27;moment&#x27;;
import { CalendarEvent, CalendarDateFormatter, DateFormatterParams, } from &#x27;angular-calendar&#x27;;
import { CommonServicesService } from &#x27;@core/services/common-services.service&#x27;;
import { GlobalServiceService } from &#x27;@core/services/handlers/global-service.service&#x27;;
import { LearnerServicesService } from &#x27;@learner/services/learner-services.service&#x27;;
import { formatDate } from &quot;@angular/common&quot;;
import { MatDialog } from &quot;@angular/material&quot;;
import { environment } from &quot;@env/environment&quot;;
import { Router } from &quot;@angular/router&quot;;
import { DragScrollComponent } from &#x27;ngx-drag-scroll&#x27;;
import { ChartOptions, ChartType, ChartDataSets } from &#x27;chart.js&#x27;;
import { Label } from &#x27;ng2-charts&#x27;;
import * as pluginDataLabels from &#x27;chartjs-plugin-datalabels&#x27;;
declare const Chart;
const DEFAULT_DURATION &#x3D; 300;
import {MomentDateAdapter} from &#x27;@angular/material-moment-adapter&#x27;;
import {DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE} from &#x27;@angular/material/core&#x27;;


export const MY_FORMATS &#x3D; {
  parse: {
    dateInput: &#x27;DD/MM/YYYY&#x27;,
  },
  display: {
    dateInput: &#x27;DD/MM/YYYY&#x27;,
    monthYearLabel: &#x27;MMM YYYY&#x27;,
    dateA11yLabel: &#x27;LL&#x27;,
    monthYearA11yLabel: &#x27;MMMM YYYY&#x27;,
  },
};
@Injectable()
export class CustomDateFormatter extends CalendarDateFormatter {
  weekViewColumnSubHeader({ date, locale, }: DateFormatterParams): string {
    return formatDate(date, &#x27;dd&#x27;, locale);
  }

  public weekViewColumnHeader({ date, locale }: DateFormatterParams): string {
    return formatDate(date, &#x27;EEE&#x27;, locale);
  }
}
@Component({
  selector: &quot;app-learner-new-my-course&quot;,
  templateUrl: &quot;./learner-new-my-course.component.html&quot;,
  styleUrls: [&quot;./learner-new-my-course.component.scss&quot;],
  animations: [
    trigger(&#x27;collapse&#x27;, [
      state(&#x27;false&#x27;, style({ height: AUTO_STYLE, visibility: AUTO_STYLE })),
      state(&#x27;true&#x27;, style({ height: &#x27;0&#x27;, visibility: &#x27;hidden&#x27; })),
      transition(&#x27;false &#x3D;&gt; true&#x27;, animate(DEFAULT_DURATION + &#x27;ms ease-in&#x27;)),
      transition(&#x27;true &#x3D;&gt; false&#x27;, animate(DEFAULT_DURATION + &#x27;ms ease-out&#x27;))
    ]),
    trigger(
      &#x27;collapseprogress&#x27;, [
        transition(&#x27;:enter&#x27;, [
          style({opacity: 0}),
          animate(&#x27;900ms ease-in&#x27;, style({opacity: 1}))
        ]),
        transition(&#x27;:leave&#x27;, [
          style({opacity: 1}),
          animate(&#x27;100ms ease-out&#x27;, style({opacity: 0}))
        ])
      ]
    )
  ],
  providers: [
    {
      provide: CalendarDateFormatter,
      useClass: CustomDateFormatter,
    },
    {provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE]},
    {provide: MAT_DATE_FORMATS, useValue: MY_FORMATS},

  ],
})

export class LearnerNewMyCourseComponent implements OnInit {
  @ViewChild(&#x27;completedTopics&#x27;, { read: DragScrollComponent }) ds: DragScrollComponent;
  @ViewChild(&#x27;inProgress&#x27;, { read: DragScrollComponent }) dsInProgress: DragScrollComponent;
  showJobRole &#x3D; false;
  isReadMore &#x3D; true;
  show &#x3D; true;
  innerWidth: number;
  expandcollapse &#x3D; true;
  viewDate: Date &#x3D; new Date();
  refresh: Subject&lt;any&gt; &#x3D; new Subject();
  events: CalendarEvent[] &#x3D; [];
  runnablePlatforms &#x3D; [&#x27;MacIntel&#x27;, &#x27;Win32&#x27;, &#x27;Linux x86_64&#x27;];
  jobroleCategoryId &#x3D; &#x27;All&#x27;;
  showSkeleton &#x3D; false;
  leftNavDisabled &#x3D; false;
  rightNavDisabled &#x3D; false;
  leftNavDisabledInProgress &#x3D; false;
  rightNavDisabledInProgress &#x3D; false;
  //Carousel
  missedTopicsKnowledgeCheck: OwlOptions &#x3D; {
    loop: true,
    mouseDrag: false,
    touchDrag: false,
    pullDrag: false,
    autoplay: true,
    dots: false,
    navSpeed: 700,
    navText: [&#x27;&#x27;, &#x27;&#x27;],
    responsive: {
      0: {
        items: 1
      },
      400: {
        items: 2
      },
      740: {
        items: 3
      },
      940: {
        items: 4
      }
    },
    nav: false
  }
  weekDaysdat: any;
  userDetailes: any;
  @ViewChild(&#x27;infoPopup&#x27;) infoPopWindow: TemplateRef&lt;any&gt;;
  availableCource: any;
  screenWidth: number;
  keyboardUp: boolean &#x3D; true;
  chatbotShow: boolean &#x3D; false;
  disableDropdown: any;
  selectedIndex: number &#x3D; 0;
  componentCssClass: string;
  isMobile: boolean &#x3D; false;
  onGoingCourseCount: number;
  completedCourseCount: number;
  allCourseCount: number;
  courseDetailsList: any[];
  enrolledCourses: any;
  blobKey &#x3D; environment.blobKey;
  // externalWeb &#x3D; environment.teachercommunity;
  public UserDetails: any;
  public selectedDate: any;
  userId: any;
  sortValue &#x3D; &#x27;All&#x27;;
  filterValue &#x3D; &#x27;All&#x27;;
  showErrorCard: boolean;
  learnerActivityList: any;
  learnerActivitycontiner: any;
  errorMessage: any;
  dayMonth: any;
  noActivity: boolean;
  courseSkel: boolean &#x3D; false;
  inProgress: boolean &#x3D; false;
  recentlyCompleted: boolean &#x3D; false;
  mode &#x3D; &#x27;determinate&#x27;;
  bufferValue &#x3D; 100;
  selectedJobRoleData &#x3D; {
    jobroleCategoryName : &quot;All&quot;
  };
  dynamicTextChange: string &#x3D; &#x27;ongoing&#x27;;
  dateSelected: string;
  vocationalselectjobRole&#x3D; [];
  testvals: any;
  shotDotSearch:boolean &#x3D; true;
  inProgressModule: any;
  completedTopic: any;
  displaySlides &#x3D; false;
  tooltipJobRole: any;
  //Week wise chart
  weekWiseChartDatalabel:any &#x3D; [];
  weekWiseChartData:any &#x3D; [];
  totalhoursSpend:string &#x3D; &quot;0 mins&quot;;
  public chartPlugins &#x3D; [pluginDataLabels];
  public WeekbarChartOptions: ChartOptions &#x3D; {
    responsive: true, 
    tooltips:{
      enabled: true,
      displayColors: false,
      callbacks: {
        label: function(tooltipItem, data) {
          return  data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[&#x27;index&#x27;]][&#x27;hourString&#x27;];
        }
      }
    },
    plugins: {
      datalabels: {
        display: false
      }
    },
    layout:{
      padding: {
        left: 0,
        right: 0,
        top: 30,
        bottom: 0
    }
    },
    scales:{
      xAxes:[{
        gridLines:{
          display:false
        },
      }],
      yAxes:[{
        gridLines:{
          borderDash: [1, 3],
          color: &quot;#2280C1&quot;
        },
        ticks: {
          min: 0,
          max: 8,
          stepSize:1,
          callback: function(value) {
            return value + &#x27;  &#x27;
          }
        }
      }],
    },
    elements:
    {
      point:
      {
        radius: 1,
        hitRadius: 5,
        hoverRadius: 10,
        hoverBorderWidth: 2
      }
    }
  };
  public WeekbarChartLabels: Label[] &#x3D; [];
  public WeekbarChartType: ChartType &#x3D; &#x27;bar&#x27;;
  public WeekbarChartLegend &#x3D; false;
  public WeekbarChartPlugins &#x3D; [];
  public WeekbarChartData: ChartDataSets[] &#x3D; [ 
    {
      data: [],
      backgroundColor: &#x27;#2280C1&#x27;,
      hoverBackgroundColor:&#x27;#2280C1&#x27;,
      barThickness: 12,
    }
   ];
  //Course Wise Chart
  courseWiseChartDatalabel:any &#x3D; [];
  courseChartData:any &#x3D; [];
  courseChartBackGround:any &#x3D;[];
  public courseChartOptions: ChartOptions &#x3D; {
    responsive: true, 
    tooltips:{
      enabled : true,
      displayColors: false,
      backgroundColor: &#x27;white&#x27;,
      mode: &#x27;index&#x27;,
      titleFontColor: &#x27;#c02222&#x27;,
      bodyFontColor: &#x27;#49ae31&#x27;,
      borderColor: &#x27;#999&#x27;,
      borderWidth: 1,
      // xPadding: 15,
      // yPadding: 15,
      footerFontColor:&#x27;#333333&#x27;,
      footerMarginTop:8,
      footerSpacing:8,
      callbacks: {
        label: function(tooltipItem, data) {
          var text  &#x3D; [];
          text.push(&#x27;Self Learning :    &#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[&#x27;index&#x27;]][&#x27;y&#x27;] + &#x27;%&#x27;);
          return  text;
        },
        footer:function(tooltipItem, data) {
        var subtext &#x3D;[];
         subtext.push(&#x27;Modules                        &#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;module&#x27;][&#x27;completedCount&#x27;] + &#x27;/&#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;module&#x27;][&#x27;totalCount&#x27;]);
         subtext.push(&#x27;Topics                           &#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;topic&#x27;][&#x27;completedCount&#x27;] + &#x27;/&#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;topic&#x27;][&#x27;totalCount&#x27;]);
         subtext.push(&#x27;Other Activities:   &#x27;);
        //  subtext.push(&#x27;Live Interactions         &#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;liveclassroom&#x27;][&#x27;completedCount&#x27;] + &#x27;/&#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;liveclassroom&#x27;][&#x27;totalCount&#x27;]);
        //  subtext.push(&#x27;Assignment                 &#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;assignment&#x27;][&#x27;completedCount&#x27;] + &#x27;/&#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;assignment&#x27;][&#x27;totalCount&#x27;]);
        //  subtext.push(&#x27;Perform                        &#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;perform&#x27;][&#x27;completedCount&#x27;] + &#x27;/&#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;perform&#x27;][&#x27;totalCount&#x27;]);
         subtext.push(&#x27;Project                         &#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;project&#x27;][&#x27;completedCount&#x27;] + &#x27;/&#x27; + data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[0].index][&#x27;myprop&#x27;][&#x27;project&#x27;][&#x27;totalCount&#x27;]);
          return subtext;
        }
      }
    },
    plugins: {
      datalabels: {
        anchor: &#x27;end&#x27;,
        align: &#x27;end&#x27;,
        font: {
          size: 12,
        },
        formatter: (value, ctx) &#x3D;&gt; {
          let percentage &#x3D; value.y + &quot;%&quot;;
          return percentage;
      },
      }
    },
    layout:{
      padding: {
        left: 0,
        right: 0,
        top: 30,
        bottom: 0
    }
    },
    scales:{
      xAxes:[{
        ticks: {
          display: false,
      },
        gridLines:{
          display:false
        },
      }],
      yAxes:[{
        gridLines:{
          borderDash: [1, 3],
          color: &quot;#2280C1&quot;
        },
        ticks: {
          min: 0,
          max: 100,
          stepSize:25,
          callback: function(value) {
            return value + &#x27;  &#x27;
          }
        }
      }],
    },
    elements:
    {
      point:
      {
        radius: 1,
        hitRadius: 5,
        hoverRadius: 10,
        hoverBorderWidth: 2
      }
    }
  };
  public coursebarChartLabels: Label[] &#x3D; [];
  public coursebarChartType: ChartType &#x3D; &#x27;bar&#x27;;
  public coursebarChartLegend &#x3D; false;
  public courseChartPlugins &#x3D; [];
  public coursebarChartData: ChartDataSets[] &#x3D; [
    {
      data: [],
      backgroundColor: [],
      hoverBackgroundColor:&#x27;#2280C1&#x27;,
      barThickness: 12,
    }
  ];
  showProgressChart:boolean &#x3D; false;
  today &#x3D; new Date();
  weekWiseDate;
  courseStartDate;
  courseEndDate;
  minCourseDate;
  nochartdata:boolean &#x3D; true;
  currentYear: number;


  constructor(private dialog: MatDialog, private router: Router,
    public learnerService: LearnerServicesService,
    private gs: GlobalServiceService, public CommonServices: CommonServicesService) {
    this.userDetailes &#x3D; this.gs.checkLogout();
    if(!this.userDetailes?.is_password_updated){
      this.router.navigate([&#x27;/Learner/profile&#x27;]);
      return
    }
    if (this.userDetailes) {
      this.getDashboardMyCourse(this.userDetailes.user_id, this.userDetailes._id);
    }
  }

  @HostListener(&#x27;window:resize&#x27;, [&#x27;$event&#x27;])

  ngOnInit() {
    this.innerWidth &#x3D; window.innerWidth;
    let showAppBanner &#x3D; localStorage.getItem(&#x27;appBanner&#x27;);
    if (!showAppBanner) {
      this.openInfoPopup();
    }
    if (this.userDetailes) {
      this.insidengOnInit();
    }
    // this.getCountForCategories(); sigin performance fix by maha
    if (!this.runnablePlatforms.includes(navigator.platform)) {
      this.isMobile &#x3D; true;
    }
    this.UserDetails &#x3D; JSON.parse(localStorage.getItem(&#x27;UserDetails&#x27;)) || null;
    this.userId &#x3D; this.UserDetails.user_id;
    this.selectedDate &#x3D; moment().format();
    this.getLearnerActivity(this.selectedDate);
    // this.triggerAvailablecourse &#x3D; setInterval(() &#x3D;&gt; {
    //   this.getCountForCategories();
    // }, 500);
    this.getMyJobRole();
    if(this.userDetailes.org_type !&#x3D; &quot;collegeconnect&quot;){
      this.shotDotSearch &#x3D; false;
    }
    this.getModuleStatus();
    this.currentYear &#x3D; new Date().getFullYear()
  }

  //Recently completed topics
  moveLeft() {
    this.ds.moveLeft();
  }
  moveRight() {
    this.ds.moveRight();
  }
  leftBoundStat(reachesLeftBound: boolean) {
    this.leftNavDisabled &#x3D; reachesLeftBound;
  }
  rightBoundStat(reachesRightBound: boolean) {
    this.rightNavDisabled &#x3D; reachesRightBound;
  }

  //InProgress Module
  moveLeftInProgress() {
    this.dsInProgress.moveLeft();
  }
  moveRightInProgress() {
    this.dsInProgress.moveRight();
  }
  leftBoundStatInProgress(reachesLeftBound: boolean) {
    this.leftNavDisabledInProgress &#x3D; reachesLeftBound;
  }
  rightBoundStatInProgress(reachesRightBound: boolean) {
    this.rightNavDisabledInProgress &#x3D; reachesRightBound;
  }
  //

  redirect() {
    window.open(&#x27;https://stepui-lmsdev.lntiggnite.com/sso?site&#x3D;ltlmsedutech&amp;token&#x3D;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDY2MCwiZXhwIjoxOTU1MTgzOTIyfQ.G4JRPi5dHYknmWJrv2dWVd5Hf4FW5r635rzZj-_tVEE&amp;new_user&#x3D;False&amp;referer&#x3D;lms&amp;is_subscription&#x3D;0&amp;is_proctor&#x3D;false&amp;callbackurl&#x3D;callbackurl&amp;return_path&#x3D;/mycourse%3fcourse_id%3d488&#x27;, &#x27;stepURL&#x27;);
  }

  insidengOnInit() {
    this.CommonServices.openAvailCourcePopup.subscribe((data: any) &#x3D;&gt; {
      this.availableCource &#x3D; data;
    });
    if (this.screenWidth &lt; 800) {
      this.keyboardUp &#x3D; false;
    }
    this.CommonServices.openNotification.subscribe((data: any) &#x3D;&gt; {
      this.disableDropdown &#x3D; data;
    });
    this.selectedIndex &#x3D; 0;
    this.gs.theme.subscribe(value &#x3D;&gt;
      this.componentCssClass &#x3D; value
    );

  }
  openInfoPopup() {
    this.dialog.open(this.infoPopWindow, {
      width: &#x27;55%,&#x27;,
      panelClass: &#x27;dialogContainer&#x27;,
      closeOnNavigation: true,
      disableClose: true,
    });
  }
  closeBannerPopup() {
    this.dialog.closeAll()
    localStorage.setItem(&#x27;appBanner&#x27;, &#x27;false&#x27;)
  }

  onResize(event) {
    this.innerWidth &#x3D; window.innerWidth;
  }

  expandtoggle() {
    this.expandcollapse &#x3D; !this.expandcollapse;
  }

  showText() {
    this.isReadMore &#x3D; !this.isReadMore
  }

  info &#x3D; &quot;It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using &#x27;Content here, content here&#x27;, making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for &#x27;lorem ipsum&#x27; will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like). like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for &#x27;lorem ipsum&#x27; will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like). like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for &#x27;lorem ipsum&#x27; will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).&quot;

  // NEW API T0 GET DASHBOARD DATA

  getDashboardMyCourse(userId, userObjId) {
    this.courseSkel &#x3D; false
    this.courseDetailsList &#x3D; [];
    let requestType &#x3D; &#x27;ongoing&#x27;;
    if (this.selectedIndex &#x3D;&#x3D;&#x3D; 0) {
      this.dynamicTextChange &#x3D; &#x27;ongoing&#x27;;
      requestType &#x3D; &#x27;ongoing&#x27;;
    } else if (this.selectedIndex &#x3D;&#x3D;&#x3D; 1) {
      this.dynamicTextChange &#x3D; &#x27;completed&#x27;;
      requestType &#x3D; &#x27;completed&#x27;;
    } else if (this.selectedIndex &#x3D;&#x3D;&#x3D; 2) {
      this.dynamicTextChange &#x3D; &#x27;&#x27;;
      requestType &#x3D; &#x27;all&#x27;;
    }
    let jobRoleId &#x3D; this.jobroleCategoryId;
    let jobRoleIdSEQ &#x3D; this.jobroleCategoryId;
    //condition for vocational &amp; course Sequence
    if (this.jobroleCategoryId &#x3D;&#x3D;&#x3D; &#x27;All&#x27;) {
      jobRoleIdSEQ &#x3D; &#x27;all&#x27;;
    } else {
      jobRoleIdSEQ &#x3D; this.jobroleCategoryId;
    }
    if (this.jobroleCategoryId &#x3D;&#x3D;&#x3D; &#x27;All&#x27;) { jobRoleId &#x3D; null; }
    this.learnerService.get_batchwise_learner_dashboard_data(userId, requestType, jobRoleIdSEQ).subscribe((BcourseData: any) &#x3D;&gt; {
      BcourseData?.data?.get_batchwise_learner_dashboard_data?.message?.forEach(elem &#x3D;&gt; {
        elem.isBatchCourse &#x3D; true;
        if (this.isMobile) {
          elem.progresslistExp &#x3D; true;
          elem.courseInfoExp &#x3D; true;
        }
      });
      const tmpBcourseDetail &#x3D; BcourseData.data.get_batchwise_learner_dashboard_data.message;
      this.courseDetailsList &#x3D; tmpBcourseDetail &amp;&amp; tmpBcourseDetail !&#x3D;&#x3D; null ? tmpBcourseDetail : [];
      // this.courseDetailsList &#x3D; [];
      this.learnerService.getLearnerDashboard(userId, userObjId, &#x27;undefined&#x27;, requestType, &#x27;enrolment&#x27;).subscribe((EcourseData: any) &#x3D;&gt; {
        const EcourseDetail &#x3D; EcourseData.data.get_learner_dashboard.message.enrolled_course_details;
        this.enrolledCourses &#x3D; EcourseDetail &amp;&amp; EcourseDetail !&#x3D;&#x3D; null ? EcourseDetail : [];
        this.enrolledCourses.forEach(elem &#x3D;&gt; {
          elem.isBatchCourse &#x3D; false;
          if (this.isMobile) {
            elem.progresslistExp &#x3D; true;
            elem.courseInfoExp &#x3D; true;
          }
        });
        this.courseDetailsList.push(...this.enrolledCourses);
        this.courseDetailsList.forEach((value)&#x3D;&gt;{
            value.weekPercentage &#x3D; (value.current_week_count !&#x3D;&#x3D; null ?
              value.current_week_count : 0) + &#x27;/&#x27; + (value.actual_total_week !&#x3D;&#x3D; null ? value.actual_total_week : 0);
          if(value.self_paced_learning_progression){
            value.self_paced_learning_progression &#x3D; Math.round(value.self_paced_learning_progression)
            if(value.self_paced_learning_progression &lt;&#x3D; 40) {
              value.progressClass&#x3D;&quot;start&quot;
            } else if(value.self_paced_learning_progression &lt;&#x3D; 70){
              value.progressClass&#x3D;&quot;midway&quot;
            } else {
              value.progressClass&#x3D;&quot;end&quot;
            }
          }
        })
        this.courseSkel &#x3D; true

      });
    });
    // Course batch count reset
    // this.onGoingCourseCount &#x3D; 0;
    // this.completedCourseCount &#x3D; 0;
    // this.allCourseCount &#x3D; 0;
    this.learnerService.get_learner_dashboard_count(userId, userObjId, jobRoleId).subscribe((result: any) &#x3D;&gt; {
      this.onGoingCourseCount &#x3D; result.data.get_learner_dashboard_count.message.ongoing_count;
      this.completedCourseCount &#x3D; result.data.get_learner_dashboard_count.message.completed_count;
      this.allCourseCount &#x3D; result.data.get_learner_dashboard_count.message.all_count;
    });
  }

  courseTabChange(event, userId, userObjId) {
    this.getDashboardMyCourse(userId, userObjId);
  }

  openClassroom(value) {
    window.open(value);
  }

  //PLAYER PAGE NAVIGATION
  gotoDesc(c) {
    c.batch_end_date_Timer &#x3D; new Date(c.batch_end_date).getTime();

    const detail &#x3D; {
      id: c.course_id,
      wishlist: c.wishlisted || false,
      wishlist_id: c.wishlist_id || null,
      enrollment_status: null,
      course_name: c.course_name,
      course_status: c.course_status,
      batch_id: c.batchid,
      batchEndTime: c.batch_end_date_Timer,
      // persentage : c.coursePlayerStatus.course_percentage || 0
    };
    // if (this.screenWidth &lt; 800) {
    // } else {
    localStorage.setItem(&#x27;currentBatchEndDate&#x27;, c.batch_end_date_Timer)
    localStorage.setItem(&#x27;Courseid&#x27;, c.course_id);
    localStorage.setItem(&#x27;persentage&#x27;, c &amp;&amp; c.coursePlayerStatus &amp;&amp; c.coursePlayerStatus.course_percentage ? c.coursePlayerStatus.course_percentage : &#x27;&#x27;);
    localStorage.setItem(&#x27;currentBatchId&#x27;, c.batchid);
    this.router.navigateByUrl(&#x27;/Learner/courseDetail&#x27;, { state: { detail } });

    // }
  }
  //INSTRUCTOR LED PAGE NAVIGATION
  goInstructorLed(c) {
    localStorage.setItem(&#x27;Courseid&#x27;, c.course_id);
    const detail &#x3D; {
      id: btoa(c.course_id),
      name: c.course_name
    };
    localStorage.setItem(&#x27;course&#x27;, btoa(JSON.stringify(detail)));
    // this.router.navigateByUrl(&#x27;/Learner/instructorLed&#x27;, { state: { detail } });
    this.router.navigate([&#x27;/Learner/instructorLed&#x27;], { queryParams: detail }); // [&#x27;/booking&#x27;],{queryParams: {Id :id}}
  }
  //ASK A QUESTION
  gotoAskQuestions(c) {
    c.batch_end_date_Timer &#x3D; new Date(c.batch_end_date).getTime();
      const detail &#x3D; {
        course_name: c.course_name,
        course_id: c.course_id,
        batch_id: c.batchid,
        batchEndTime: c.batch_end_date_Timer,
      }
      localStorage.setItem(&#x27;Courseid&#x27;, c.course_id);
      localStorage.setItem(&#x27;currentBatchId&#x27;, c.batchid);
      localStorage.setItem(&#x27;CourseName&#x27;, c.course_name);
      localStorage.setItem(&#x27;currentBatchEndDate&#x27;, c.batch_end_date_Timer)
      if(c.course_status!&#x3D;&#x3D;&#x27;start&#x27;){
      this.router.navigateByUrl(&#x27;/Learner/askQuestions&#x27;, { state: { detail } });
    }
  }
// ACTIVITY NAVIGATION 
  gotoSubmissionDetails(course) {
    localStorage.removeItem(&#x27;userTabLocation&#x27;);
    const data1 &#x3D; {
      courseId: course.course_id,
      courseName: course.course_name,
    };
    localStorage.setItem(&#x27;Courseid&#x27;, data1.courseId);
    localStorage.setItem(&#x27;CourseName&#x27;, data1.courseName);
    //this.router.navigateByUrl(&#x27;/Learner/activities&#x27;, { state: { data: data1 } });
    this.router.navigate([&#x27;/Learner/activities&#x27;],{
      queryParams: 
      { 
        courseId: btoa(course.course_id),
        courseName: btoa(course.course_name),
        batchId: btoa(course.batchid)
      }
    });
  }

  gotoProgression(course) {
    let data &#x3D; {
      courseId : course.course_id,
      courseName: course.course_name
    }
    this.router.navigate([&#x27;/Learner/progressionReport&#x27;], {
      queryParams:
      {
        CourseId: btoa(course.course_id),
        CourseName: btoa(course.course_name)
      }
    });
  }

  gotoquestionanswer(course) {
    this.router.navigate([&#x27;/Learner/questionanswer&#x27;])
    localStorage.setItem(&#x27;Courseid&#x27;, course.course_id);
    localStorage.setItem(&#x27;CourseName&#x27;, course.course_name);
    localStorage.setItem(&#x27;currentBatchId&#x27;, course.batchid);
  }

  getTodaydate() {
      this.dateSelected &#x3D; moment(this.viewDate).format(&#x27;YYYY-MM-DD&#x27;);
      this.getLearnerActivity(this.viewDate);
      var parentcal &#x3D; document.getElementsByClassName(&#x27;cal-day-headers&#x27;);
            parentcal[0].childNodes.forEach((element:any) &#x3D;&gt; {
                  if(element?.style){
                     var currdate &#x3D;  moment(this.viewDate).format(&#x27;DD&#x27;);
                     var ele &#x3D; element.children[2].innerHTML;  
                     element.classList.remove(&quot;cal-today&quot;);

                     if(currdate &#x3D;&#x3D; ele){
                      element.classList.add(&quot;cal-today&quot;);
                     }               
                  }       
            });
  }


  highlightSelectday(data){
    var parentcal &#x3D; document.getElementsByClassName(&#x27;cal-day-headers&#x27;);
          parentcal[0].childNodes.forEach((element:any) &#x3D;&gt; {
                if(element?.style){                     
                   element.classList.remove(&quot;cal-today&quot;);
                }       
          });
      data.sourceEvent.currentTarget.classList.add(&quot;cal-today&quot;);
  }

  getLearnerActivity(selectedDate) {
    this.viewDate &#x3D; new Date(selectedDate)    
    const dateValue &#x3D; moment(selectedDate).format(&#x27;YYYY-MM-DD&#x27;);
    this.dayMonth &#x3D; selectedDate;
    const empty &#x3D; undefined;
    this.learnerActivityList &#x3D; [];
    this.showSkeleton &#x3D; true;
    this.learnerService.getLearnerActivity(&#x27;&#x27;,&#x27;&#x27;,&#x27;day&#x27;,dateValue,&#x27;&#x27;,this.userId).subscribe((result:any)&#x3D;&gt;{
      if(result?.data?.getActivityCalendar?.data?.activities?.length &gt; 0){
        this.noActivity &#x3D; false;
        this.showSkeleton &#x3D; false;
        this.showErrorCard &#x3D; false;
        this.learnerActivityList &#x3D;  result?.data?.getActivityCalendar?.data?.activities;
      } else {
        this.noActivity &#x3D; true;
        this.showSkeleton &#x3D; false;
        this.errorMessage &#x3D;  result?.data?.getActivityCalendar?.error_msg;
        this.showErrorCard &#x3D; true;
        this.learnerActivityList &#x3D; [];
      }
    },
    err &#x3D;&gt;{
    })
  }

  getMyJobRole() {
    this.learnerService.getCountForJobroleCategories(this.userDetailes._id, this.userDetailes.user_id).subscribe((data: any) &#x3D;&gt; {
      this.vocationalselectjobRole &#x3D; data.data.getCountForJobroleCategories.data
      if(this.vocationalselectjobRole?.length &gt; 0) {
        this.showJobRole &#x3D; true;
      }
      else {
        this.showJobRole &#x3D; false;
      }
    });
  }

  onSelectionChange(event){
    this.getDashboardMyCourse(this.userDetailes.user_id, this.userDetailes._id)
    // console.log(event, &#x27;fadsfasdfasdf&#x27;)
    if(this.vocationalselectjobRole?.length &gt; 0) {
      this.vocationalselectjobRole.forEach((jobRole) &#x3D;&gt; {
        // console.log(jobRole, &#x27;349258324098520&#x27;);
        if(jobRole.jobroleCategoryId &#x3D;&#x3D; event.value) {
          this.tooltipJobRole &#x3D; jobRole.jobroleCategoryName;
        }
      })
    }
  }

  jobRoleSelectedFunction(event,value){
    if(event.source.selected){
      this.selectedJobRoleData &#x3D; value
    }
  }

  openGallery(c){
    this.router.navigate([&#x27;/Learner/coursegallery&#x27;], {
      queryParams:
      {
        id: btoa(c.course_id),
        name: c.course_name
      }
    });
  }

  openReport(c){
    this.router.navigate([&#x27;/Learner/coursereport&#x27;], {
      queryParams:
      {
        id: btoa(c.course_id),
        name: c.course_name,
        batchId: btoa(c.batchid),
        QA_totalweeks : c.QA_totalweeks,
        selflearning_totalweeks : c.selflearning_totalweeks
      }
    });
  
  }

  goToForum(c) {
    localStorage.setItem(&#x27;Courseid&#x27;, c.course_id);
    const bt &#x3D; c.batchid ? {
      batchid: c.batchid,
      batchenddate: c.batch_end_date,
      batch_start_date: c.batch_start_date,
      batchname: c.batch_name
    } : null;
    const detail &#x3D; {
      id: c.course_id,
      name: c.course_name,
      batchdetails: bt
    };
    localStorage.setItem(&#x27;course&#x27;, btoa(JSON.stringify(detail)));
    this.router.navigateByUrl(&#x27;/Learner/discussionForum&#x27;, { state: { detail } });
  }


  updateColor(progress) {
    if (parseInt(progress)&lt;21){
       return &#x27;primary&#x27;;
    } else if (parseInt(progress)&gt;80){
       return &#x27;accent&#x27;;
    } else {
      return &#x27;warn&#x27;;
    }
 }

 getModuleStatus(){
  // this.inProgressRecently &#x3D; true;
   this.learnerService.recentlycourse(this.userDetailes.user_id).subscribe((data: any)&#x3D;&gt;{
     this.inProgressModule &#x3D; data?.data?.recentlycourse?.data?.inProgressModule;
    //  this.inProgressModule &#x3D; null
     this.completedTopic &#x3D; data?.data?.recentlycourse?.data?.completedTopic;
     ///
     if(this.inProgressModule?.length &gt; 0) {
      this.inProgress &#x3D; true;
     }
     else {
       this.inProgress &#x3D; false;
     }
    ///
     if(this.completedTopic?.length &gt; 0) {
      this.recentlyCompleted &#x3D; true;
     }
     else {
       this.recentlyCompleted &#x3D; false;
     }
    setTimeout(()&#x3D;&gt;{
      this.displaySlides &#x3D; true;
    },1000)
   })
 }

 getCourseProgress(){
  this.setdateForprogress();
  this.getoverAllCourseProgressData()
  this.getWeekCourseData();
  this.showProgressChart &#x3D; true;
}
//Date initialize
setdateForprogress(){
  //week wise date
 var curr &#x3D; new Date;
 var first &#x3D; curr.getDate() - curr.getDay();
 var firstday &#x3D; new Date(curr.setDate(first)).toUTCString();
 this.weekWiseDate &#x3D; new Date(firstday,);
 //Course Start &amp; End date
 this.courseStartDate  &#x3D; this.UserDetails.created_on;
 this.minCourseDate &#x3D; this.courseStartDate;
 this.courseEndDate &#x3D; new Date();
}

//Overll course chart data
getoverAllCourseProgressData(){
  this.courseWiseChartDatalabel &#x3D; [];
  this.courseChartData &#x3D; [];
  this.courseChartBackGround &#x3D; [];
  this.learnerService.getoverAllCourseProgressByUserId(this.userId,moment(this.courseStartDate).startOf(&#x27;day&#x27;).toISOString(),moment(this.courseEndDate).endOf(&#x27;day&#x27;).toISOString()).subscribe((result:any)&#x3D;&gt;{
    if(result.data.overAllCourseProgressByUserId.success){
      result.data.overAllCourseProgressByUserId.data.forEach((data:any)&#x3D;&gt;{
        this.courseWiseChartDatalabel.push(data.courseName);
        this.courseChartData.push({&quot;y&quot;:data.coursePercentage,&quot;myprop&quot;:data})
        this.courseChartBackGround.push(data.colourCode);
      });
    }
    else{
      this.courseWiseChartDatalabel &#x3D; [];
      this.courseChartData &#x3D; [];
      this.courseChartBackGround &#x3D; [];
    }
    this.generateCourseChart();
  });
}
generateCourseChart(){
  this.coursebarChartLabels &#x3D; this.courseWiseChartDatalabel;
  this.coursebarChartData &#x3D; [
    {
      data: this.courseChartData,
      backgroundColor: this.courseChartBackGround,
      hoverBackgroundColor:this.courseChartBackGround,
      barThickness: 12,
    }
  ];
}

changeCourseDate(){
  this.minCourseDate &#x3D; this.courseStartDate;
  this.getoverAllCourseProgressData();
}

getWeekCourseData(){
  this.weekWiseChartDatalabel &#x3D; [];
  this.weekWiseChartData &#x3D; [];
  var myFormattedDate &#x3D; moment(this.weekWiseDate).format(&#x27;yyyy-MM-DD&#x27;);
  this.learnerService.getweekWiseCourseChart(&quot;&quot;,this.userId,myFormattedDate,&quot;allcourse&quot;).subscribe((result:any)&#x3D;&gt;{

    if(result.data.weekWiseCourseChart.success){
      this.totalhoursSpend &#x3D; result.data.weekWiseCourseChart.data.totalhoursSpend;
      result.data.weekWiseCourseChart.data.chartdata.forEach((data:any)&#x3D;&gt;{
        this.weekWiseChartDatalabel.push(data.day);
        this.weekWiseChartData.push({y:data.hours,hourString:data.hourString});
      });
    }
    else{
      this.weekWiseChartDatalabel &#x3D; [&#x27;Sun&#x27;,&#x27;Mon&#x27;,&#x27;Tue&#x27;,&#x27;Wed&#x27;,&#x27;Thu&#x27;,&#x27;Fri&#x27;,&#x27;Sat&#x27;];
      this.weekWiseChartData &#x3D; [0,0,0,0,0,0,0,0];
    }
    this.generateWeekwiseChart();
  });
}
generateWeekwiseChart(){
  this.WeekbarChartLabels &#x3D; this.weekWiseChartDatalabel;
  this.WeekbarChartData &#x3D; [
    {
      data: this.weekWiseChartData,
      backgroundColor: &#x27;#2280C1&#x27;,
      hoverBackgroundColor:&#x27;#2280C1&#x27;,
      barThickness: 12,
    }
  ];
}
changeWeekDate(){
  this.getWeekCourseData();
}

goToCourse(value){
  const detail &#x3D; {
    id: value.course_id,
    wishlist: false,
    wishlist_id: null,
    enrollment_status: null,
    course_name: value.course_name,
    course_status: null,
    batch_id: value.batchid,
    batchEndTime: null,
    fromCalendar : false,
    fromSuggestion: true,
    url:value.link,
    week:value.week,
    moduleName:value.module,
    moduleIndex:value.moduleIndex,
    topicName:value.topic,
    topicIndex:value.topicIndex
  };
console.log(detail)
  localStorage.setItem(&#x27;currentBatchEndDate&#x27;, value.batch_end_date_Timer)
  localStorage.setItem(&#x27;Courseid&#x27;, value.course_id);
  localStorage.setItem(&#x27;persentage&#x27;, null);
  localStorage.setItem(&#x27;currentBatchId&#x27;, value.batch_id);
  this.router.navigateByUrl(&#x27;/Learner/courseDetail&#x27;, { state: { detail } });
}
}
</code></pre>
    </div>

</div>












                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'CustomDateFormatter-1.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
