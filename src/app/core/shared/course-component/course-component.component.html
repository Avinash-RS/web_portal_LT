<!-- ////NEW DESIGN -->

<!-- for logged out user -->
<!-- <div class="containerOverlay" *ngIf="userDetail == null">
  <img class="pointer m-b-10 course-image1 center" src="{{ course.course_img_url }}" alt="">
  <div class="overlay p-5px" style="margin-bottom: 0;">
    <p class="course_description1 f_size_12">
      {{(course.course_description?.length>120)? (course.course_description | slice:0:120)+'...':(course.course_description) }}
    </p>
  </div>
</div>
<div class="row card-bottom color_blue width_80 center f_wt_500 m-b-10 m-t-10" *ngIf="userDetail == null">
  <div class="col-lg-8 col-md-8 col-sm-8 col-8 float_left">
    <span class="f_size_15 f_wt_500"
      style="word-wrap: break-word; vertical-align: middle;">{{course.course_name}}</span>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-4 col-4 float_right">
    <button class="f_size_12 enroll_btn" (click)="enrollCourse()">Enrol</button>
  </div>
</div> -->
<!-- end for logged out user -->

<!-- for logged in user -->
<!-- <mat-card class="containerOverlay1 p-5px course-card shadow width_80 m-l-10" *ngIf="userDetail != null">
  <div class="row wishlist" *ngIf="showWishlist">
    <button mat-icon-button aria-label="Example icon button with a heart icon" (click)="selectWishlist(course)"
      class="wishlist_btn no_padding">
      <mat-icon *ngIf="course.wishlisted == true" style="color:red;">favorite</mat-icon>
      <mat-icon *ngIf="course.wishlisted == false" style="color:red;">favorite_border</mat-icon>
    </button>
  </div>
  <img *ngIf="course.course_img_url != 'null'" alt="course image" class="pointer m-b-10 course-image center"
    src="{{course.course_img_url}}" width="100%" (click)="gotoDescription()">
  <img   *ngIf="course.course_img_url == 'null'" class="pointer m-b-10 course-image center"
    src="../../../../assets/learner/kl.jpg" (click)="gotoDescription()">
  <div class="overlay1 p-5px" style="margin-bottom: 0;">
    <p class="course_description1 f_size_12">
      {{(course.course_description?.length>120)? (course.course_description | slice:0:120)+'...':(course.course_description) }}
    </p>
  </div>
  <mat-card-content class="card-bottom1">
    <div class="conten no_padding" (click)="gotoDescription()">
      <div class="mask display_flex user-rating no_padding" (click)="gotoDescription()">
        <bar-rating [readOnly]="true" *ngIf="showRating" [rate]="course.rating || 1" [max]="5"></bar-rating>
        &nbsp;&nbsp; <strong class="f_size_13"
          *ngIf="showRating">{{(course.rating ? course.rating : 1 )| number:'1.1-1'}}</strong>
      </div>
      <p class="f_wt_500 f_size_14 course-name" *ngIf="course.course_name.length > 40"
        matTooltip="{{course.course_name}}">
        {{(course.course_name  | slice:0:40)+'...'}}
      </p>
      <p class="f_wt_500 f_size_14 course-name" *ngIf="course.course_name.length < 40">
        {{course.course_name}}
      </p>
    </div>
    <mat-card-action>
      <div class="row no_margin enroll_row">
        <div class="col-lg-6 col-md-6 col-sm-6 col-6 f_size_14 float_left no_padding learner-count"
          (click)="gotoDescription()">
          <span *ngIf="showCount" class="material-icons color_grey f_size_18" style="vertical-align: bottom;">
            people
          </span> <small *ngIf="showCount" class="color_grey">2,500 learners</small>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-6 float_right width_80 no_padding" *ngIf="showEnroll">

          <button id="enroll_now" (click)="publish()" *ngIf="btnType && btnType === 'Publish'">
            Publish
          </button>

          <button id="enroll_now" *ngIf="course.enrollment_status == null && showStatus == false && 
          ((btnType && btnType != 'Publish') || !btnType)" (click)="enrollCourse()"> Enroll
          </button>
          <button id="enroll_now" *ngIf="course.enrollment_status == 'pending' && showStatus == false"
            disabled="{{course.enrollment_status == 'pending'}}">Requested
          </button>
          <button id="enroll_now" *ngIf="course.enrollment_status == 'rejected' && showStatus == false"
            (click)="clickRejected()">Rejected
          </button>
          <button id="enroll_now" *ngIf="course.enrollment_status == 'approved' && showStatus == false"
            disabled="{{course.enrollment_status == 'approved'}}">Enrolled
          </button>
          <button id="enroll_now" *ngIf="showStatus" [disabled]="course?.coursePlayerStatus?.status === 'Completed'"
            (click)="goTocourse(course?.coursePlayerStatus?.status || 'Start')"
            [ngStyle]="{'background-color':course?.coursePlayerStatus?.status === null ? 
          '#1f3777' : course?.coursePlayerStatus?.status === 'Resume' ? '#2661ff' : course?.coursePlayerStatus?.status === 'Completed' ? '#028514' : '#1f3777' }">
            {{course?.coursePlayerStatus?.status || 'Start'}}</button>
        </div>
      </div>
    </mat-card-action>
  </mat-card-content>
</mat-card> <br> -->

<!-- end for logged in user -->

<div class="grid__item"  *ngIf="userDetail == null">
  <a class="grid__item-top">
    <img *ngIf="course.course_img_url != 'null'" alt="course image" 
    src="{{course.course_img_url}}" style="height: 190px;" (click)="gotoDescription()">
    <div class="top-holder">
      <!-- <div><i class="material-icons">favorite</i></div> -->
    </div>
    <div class="overlay">
      <p> {{(course.course_description?.length>120)? (course.course_description | slice:0:120)+'...':(course.course_description) }}</p>
     
      </div> 
    </a>
  <div class="grid__item-bottom">
    <p> {{course.course_name}}</p>
    <button  id="enroll_now" (click)="enrollCourse()">
      <div class="eff-5"></div>
            <a>Enrol</a>
    </button>
  </div>
  </div>



  <!-- after login -->

  <div class="grid__item" *ngIf="userDetail != null">
    <a class="grid__item-top">
      <img *ngIf="course.course_img_url != 'null'" alt="course image" 
      src="{{course.course_img_url}}" class="courseImg" (click)="gotoDescription()">
      <div class="top-holder">
        <div class="favorite" *ngIf="showWishlist">
          <button mat-icon-button aria-label="Example icon button with a heart icon" (click)="selectWishlist(course)">
            <mat-icon class="favIcon" *ngIf="course.wishlisted == true">favorite</mat-icon>
            <mat-icon class="unfavIcon" *ngIf="course.wishlisted == false">favorite_border</mat-icon>
          </button>
        </div>
      </div>
      <div class="overlay">
        <p class="shortdesc"> {{(course.course_description?.length>120)? (course.course_description | slice:0:120)+'...':(course.course_description) }}</p>

        </div> 
      </a>
      <div class="hoverr">
    <div class="grid__item-bottom">
      <p  class="coursename" > {{course.course_name}}</p>
      <div class="row no_margin enroll_row">
        <div class="col-lg-6 col-md-6 col-sm-6 col-6 f_size_14 float_left no_padding learner-count"
          (click)="gotoDescription()">
          <!-- <span *ngIf="showCount" class="material-icons color_grey f_size_18" style="vertical-align: bottom;">
            people
          </span> <small *ngIf="showCount" class="color_grey">2,500 learners</small> -->
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-6 float_right width_80 no_padding" *ngIf="showEnroll">

          <button  id="enroll_now" (click)="publish()" *ngIf="btnType && btnType === 'Publish'">
            <div class="eff-5"></div>
            <a>Publish</a>
          </button>

          <button   id="enroll_now" *ngIf="course.enrollment_status == null && showStatus == false && 
          ((btnType && btnType != 'Publish') || !btnType)" (click)="enrollCourse()"> 
          <div class="eff-5"></div>
          <a >Enroll</a>
          </button>
          <button  id="enroll_now" *ngIf="course.enrollment_status == 'pending' && showStatus == false"
            disabled="{{course.enrollment_status == 'pending'}}">Requested
          </button>
          <button  id="enroll_now" *ngIf="course.enrollment_status == 'rejected' && showStatus == false"
            (click)="clickRejected()">
            <div class="eff-5"></div>
            <a>Rejected</a>
          </button>
          <button  id="enroll_now" *ngIf="course.enrollment_status == 'approved' && showStatus == false"
            disabled="{{course.enrollment_status == 'approved'}}">Enrolled
          
          </button>
          <button  id="enroll_now" *ngIf="showStatus" [disabled]="course?.coursePlayerStatus?.status === 'Completed'"
            (click)="goTocourse(course?.coursePlayerStatus?.status || 'Start')">
          <!-- [ngStyle]="{'background-color':course?.coursePlayerStatus?.status === null ? 
          '#1f3777' : course?.coursePlayerStatus?.status === 'Resume' ? '#2661ff' : course?.coursePlayerStatus?.status === 'Completed' ? '#028514' : '#1f3777' }" -->
         
            <div class="eff-5"></div>
            <a> {{course?.coursePlayerStatus?.status || 'Start'}}</a>
          </button>
        </div>
      </div>
      <!-- <div class="tag tag-default">Laravel</div>-->
      <!-- <div class="tag tag-default"></div>  -->
    </div>
    </div>
  </div>