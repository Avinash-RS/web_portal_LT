<app-header></app-header>
<app-performance-page-mobile [performDetailPageData]="perfornDetaildata" *ngIf="performdetailPageView"></app-performance-page-mobile>
<div class="activitiesWrapper" *ngIf="!performdetailPageView">

  <!-- <div style="margin-bottom: 5px;" class="">
    <div class="commonBackStyle">
      <i class="lxp-Arrow backArrow" (click)="goToCourse()"></i>
      <span (click)="goToCourse()">Back</span>
      <div class="courseNameBreadcrum">
        <span class="pipeLine"> | </span>
        <span>{{courseName}}</span>
        <i class="lxp-Arrow"></i>
        <span>Activities</span>
      </div>
    </div>
  </div> -->

  <ul class="breadcrumb">
    <li><em (click)="goToCourse()" class="lxp-Go backArrow"></em> <span class="name">{{courseName}}</span> <span class="bar">/</span> </li>
    <li>{{'Activities' | translate}}</li>
  </ul>

  <mat-tab-group class="activitiesTab" animationDuration="1000ms" (selectedTabChange)="tabChanged($event); activeTab($event)"
  [(selectedIndex)]="demo1TabIndex">
    <mat-tab label="{{'Assignment' | translate}}">
      <!-- Content starts -->
      <ng-container *ngIf="assignmentContent?.length > 0">
        <div class="box-0-1" *ngFor="let assignment of assignmentContent; let i = index">
          <mat-icon class="f_size_16 expansionarr" aria-hidden="false" (click)="resourseAccord(assignmentContent, i);">{{assignment.isOpen?'keyboard_arrow_up':'keyboard_arrow_down'}}</mat-icon>
          <div class="d-flex justify-content-between">
            <div class="w-100 projectActivityDetails">
              <div class="d-flex justify-content-between assignmentActivityDetails">
                <div class="projectLeftContent">
                  <div class="topic text-left d-flex">
                    <mat-icon class="assignIcon">assignment</mat-icon>
                    <span class="f_size_16 f_wt_600 projHead">{{assignment.files.module_id}}</span>
                  </div>
                  <div class="t-l-1 ml-4">
                   {{assignment.files.topic_id}}
                  </div>
                  <div class="t-l-1 ml-4">
                    {{'Activity Description:' | translate}} {{assignment.files.activityname}}
                  </div>
                  <div class="t-l-1 ml-4" *ngIf="assignment?.files?.activityoutcome">
                    {{'Activity Outcome:' | translate}} {{assignment.files.activityoutcome}}
                  </div>
                </div>
                <div class="projectRightContent">
                  <div class="text-right activityStatus">
                    <span class="f_wt_600 alignRight status" *ngIf="assignment.files.submit_status === 'notsubmitted' && assignment.files.grade_status != 'Evaluated'">
                      <span class="dot"></span>{{'Yet to submit' | translate}}
                    </span>
                    <span class="f_wt_600 alignRight projectSubmitstatus submitted"*ngIf="assignment.files.submit_status !== 'notsubmitted' && assignment.files.grade_status === 'Not Evaluated'">
                      <span class="submitdot"></span>{{'Submitted' | translate}}
                    </span>
                    <span class="f_wt_600 alignRight graded" *ngIf="assignment.files.grade_status === 'Evaluated'">
                      <span class="gradedot"></span>{{'Graded' | translate}}
                    </span>
                  </div>
                  <div class="projTotalScore">
                    <div class="text-right">
                      <span class="totscore">
                        {{'Total score:' | translate}} <span *ngIf="assignment.files.score_mark == 0">0</span> <span *ngIf="!assignment.files.score_mark && assignment.files.score_mark != 0">-</span> <span *ngIf="assignment.files.score_mark">{{assignment.files.score_mark}}</span>
                        /{{assignment.files.total_mark}}</span>
                    </div>
                  </div>
                  <div class="d-flex justify-content-end projDate">
                    <div class="">
                      <span class="font-weight-bold">{{'Start date:' | translate}}</span>
                      <span class="textGrayColor1"> {{assignment.files.activitystartdate | date:'MMM dd, yyyy hh:mm a'}}</span>
                    </div>
                    <div class="projEndDate">
                      <span class="font-weight-bold">{{'End date:' | translate}}</span>
                      <span class="textGrayColor1"> {{assignment.files.activityenddate | date:'MMM dd, yyyy hh:mm a'}}</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="panel1" *ngIf="assignment.isOpen">
                <hr>
                <div class="row">
                  <div class="col-md-8 col-sm-12 col-12 second">
                    <!-- Materials for activity -->
                    <div style="margin-bottom: 10px;" class="f_size_16 f_wt_600">
                      {{'Materials for activity' | translate}} ({{assignment.files.materialDetails.length}})
                    </div>
                    <!-- New carousel -->
                    <h3 *ngIf="assignment.files.materialDetails && assignment.files.materialDetails.length == 0">{{'No materials found for this activity' | translate}}</h3>
                    <div class="materialsWrapper">
                      <drag-scroll #navActivity (reachesLeftBound)="leftBoundStatActivity($event)" (reachesRightBound)="rightBoundStatActivity($event)" class="trendingCategoriesScrollActivity assignmentActivity" [scrollbar-hidden] = true [drag-scroll-y-disabled] = true>
                        <span drag-scroll-item class="slideLoop" *ngFor="let material of assignment.files.materialDetails; let i = index">
                          <div [ngClass]="assignment.files.materialDetails.length >= 4 ? 'carouselCol': 'carouselCol1'">
                            <mat-card class="p-0 carouselCard" (click)="projectPreviewDoc(projectPreviewDialog, videoDialog, material, 'material')">
                              <div class="row ml-0 mr-0 carouselRow1">
                                <div class="col-12 m-auto">
                                  <!-- <mat-icon class="imageIcon" *ngIf="material.doc_type =='image/jpeg'  || material.doc_type == 'image/png' || material.doc_type == 'image/jpg'">
                                    photo_size_select_actual</mat-icon> -->
                                  <em class="lxp-photo imageIcon" *ngIf="material.doc_type =='image/jpeg'  || material.doc_type == 'image/png' || material.doc_type == 'image/jpg'"></em>
                                  <!-- <mat-icon class="imageIcon" *ngIf="material.doc_type =='video/mp4' || material.doc_type =='video/quicktime'">play_circle_outline</mat-icon> -->
                                  <em class="lxp-PlayCircle imageIcon" *ngIf="material.doc_type =='video/mp4' || material.doc_type =='video/quicktime'"></em>
                                  <!-- <i class="fa fa-file-pdf-o pdfIcon" *ngIf="material.doc_type =='application/pdf'"
                                    aria-hidden="true"></i> -->
                                    <em class="lxp-pdf pdfIcon" *ngIf="material.doc_type =='application/pdf'"></em>
                                </div>
                              </div>
                              <div class="row ml-0 mr-0 carouselRow">
                                <div class="col-12 text-center mt-2 mb-2 pl-0 pr-0">
                                  <span class="carouselText" *ngIf="material.filename?.length > 19"
                                    matTooltip="{{material.filename}}" matTooltipClass="custom-mat-tooltip">{{(material.filename| slice:0:20)+'...'}}</span>
                                  <span class="carouselText" *ngIf="material.filename?.length < 19">{{material.filename}}</span>
                                </div>
                              </div>
                            </mat-card>
                          </div>
                        </span>
                      </drag-scroll>
                      <div class="draggable-button-container">
                        <div class="leftArrow">
                          <button [disabled]="leftNavDisabledActivity" [ngClass]="leftNavDisabledActivity ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveLeftActivity()" class="draggable-button float-left"> <mat-icon> chevron_left </mat-icon> </button>
                        </div>
                        <div class="rightArrow">
                          <button [disabled]="rightNavDisabledActivity" [ngClass]="rightNavDisabledActivity ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveRightActivity()" class="draggable-button float-right"> <mat-icon> chevron_right </mat-icon> </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4 col-sm-12 col-12 third">
                    <div class="f_size_16 f_wt_600 align-center work">{{'Your work' | translate}}</div>
                    <div class="box-0-3">

                      <div class="fileData ml-auto mr-auto mb-3 d-flex" *ngIf="assignment?.files?.filename">

                        <mat-icon *ngIf="assignment.files.doc_type == 'image/jpeg'|| assignment.files.doc_type == 'image/png' || assignment.files.doc_type =='image/jpg'" class="videoPlay float-left">photo</mat-icon>
                        <mat-icon *ngIf="assignment.files.doc_type == 'application/pdf'" class="videoPlay float-left">picture_as_pdf </mat-icon>                     
                        <span class="uploadfileName assignementName" style="margin-top: 4px;position: inherit;" matTooltip="{{assignment.files.filename}}" matTooltipClass="custom-mat-tooltip">
                          {{assignment.files.filename}}
                        </span>
                        <mat-icon class="deleteIcon float-right" *ngIf="assignment.files.grade_status !== 'Evaluated'" (click)="deleteAssigmnemtData(assignment.files)">delete</mat-icon>

                        <ng-container *ngIf="assignment.files.grade_status == 'Evaluated'">
                        <span (click)="previewAssignment(previewDialog,assignment.files)" matTooltip="View" matTooltipClass="custom-mat-tooltip">
                          <!-- <mat-icon matTooltipClass="custom-mat-tooltip" class="assignmentpdf"  *ngIf="assignment.files.doc_type == 'image/jpeg'|| assignment.files.doc_type == 'image/png' || assignment.files.doc_type =='image/jpg'">photo_size_select_actual</mat-icon> -->
                          <em class="lxp-photo assignmentpdf"  *ngIf="assignment.files.doc_type == 'image/jpeg'|| assignment.files.doc_type == 'image/png' || assignment.files.doc_type =='image/jpg'"></em>
                          <!-- <i class="fa fa-file-pdf-o assignmentpdf" *ngIf="assignment.files.doc_type == 'application/pdf'" aria-hidden="true"></i> -->
                          <em class="lxp-pdf assignmentpdf" *ngIf="assignment.files.doc_type == 'application/pdf'" aria-hidden="true"></em>
                        </span>
                        <span (click)="downloadDoc(assignment.files, 'material')">
                          <!-- <i matTooltip="Download" matTooltipClass="custom-mat-tooltip" class="fa fa-download assignmentdownload" aria-hidden="true"></i> -->
                          <em  matTooltip="Download" matTooltipClass="custom-mat-tooltip" class="lxp-filedownload assignmentdownload"></em>
                        </span>
                      </ng-container>

                      </div>

                      <div class="align-center">
                        <input class="form-control border-right-0" type='file' accept="image/png,image/jpeg,image/jpg,application/pdf" id="upload-photo" #fileInput (change)="uploadAssignmentsFile($event,assignment.files)">
                        <button mat-stroked-button class="upload-btn" (click)="fileInput.click()" [disabled]="assignment.files.grade_status != 'Evaluated' && !assignment.files?.enableUpload" *ngIf="assignment.files.grade_status !== 'Evaluated'"> <mat-icon class="icon-color m-t-m-2">add</mat-icon> {{'Upload files' | translate}} </button>
                        <p class="uploadMessage" *ngIf="assignment.files.grade_status !== 'Evaluated'" >{{'Max File Size : 10 MB, Format : JPEG,JPG,PNG,PDF' | translate}}</p>
                        <div>

                          <ng-container *ngIf="assignment?.files?.filename">
                            <button *ngIf="assignment?.files.submit_status == 'notsubmitted'" mat-stroked-button class="submit-btn mt-2"(click)="submitAssigmnemtData(assignment.files)">{{'Submit' | translate}}</button>
                            <button *ngIf="assignment?.files.submit_status == 'ontime' || assignment?.files.submit_status == 'late'" mat-stroked-button class="submitted-btn mt-2">{{'Submitted' | translate}}</button>
                            <div class="uploadedFile"  *ngIf="assignment?.files.submit_status == 'ontime' || assignment?.files.submit_status == 'late'">{{'Submitted on :' | translate}} {{assignment?.files.submitted_on | date:'MMM dd, yyyy'}}</div>
                          </ng-container>
                        </div>
                        <!-- Feed Back -->
                        <div class="" *ngIf ="assignment?.files?.comments">
                          <div class="text-left">
                            <p class="feedBackTxt">{{'Feedback' | translate}}</p>
                              <textarea disabled class="textArea">{{assignment?.files?.comments}}</textarea>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
      <div class="item2 mt-4" *ngIf="assignmentLoader">
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
    </div>
      <!-- Content ends -->
      <div class="noCard" *ngIf="emptyAssignment && !assignmentLoader">
        <figure>
          <img src="https://assets.lntedutech.com/application_images/noassignment.webp" alt="assignment">
        </figure>
        <p> {{'You have no Assignment activity at the moment!' | translate}}</p>
      </div>

    </mat-tab>

    <mat-tab label="{{'Perform' | translate}}">
      <!-- mobile starts -->
      <div class="mr-0 ml-0" *ngIf="performDetails?.length > 0 && mobileResponsive">
        <div class="">
          <mat-card class="performCard" (click)="performdetailPage(i+1, perform);performdetailPageView = true" *ngFor="let perform of performDetails; let i = index">
            <div class="d-flex flex-column">
              <div class="performHeading">
                <p class="subTittle"><img class="perfimg" src="https://assets.lntedutech.com/application_images/perform1.webp" alt="perform">&nbsp; {{perform.performActivity.module_id}}</p>
                <span>{{perform.performActivity.topic_id}}
                </span>
              </div>
              <div class="d-flex justify-content-between iterationSubmit">
                <div class="">
                  <span class="textGrayColor1">{{'Iterations:' | translate}} <span class="textGrayColor1" *ngIf="perform.performActivity.submittedTotal > 0">{{perform.performActivity.submittedTotal}} / </span>{{perform.performActivity.iterationTotal}}</span>
                </div>
                <div class="">
                  <span class="textGrayColor1" *ngIf="perform.performActivity.submit_status == 'notsubmitted'">
                    <span class="dot"></span>{{'Yet to Submit' | translate}}</span>
                  <span class="submitstatus1" *ngIf=" perform.performActivity.submit_status == 'submitted'">
                    <span class="submitdot"></span>{{'Submitted' | translate}}</span>
                  <span class="gradeStatus1" *ngIf="perform.performActivity.submit_status == 'graded'">
                    <span class="gradedot"></span>{{'Graded' | translate}}</span>
                </div>
              </div>
              <div class="d-flex justify-content-between SEDate">
                <div class="">
                  <span class="font-weight-bold">{{'Start date:' | translate}}</span><br />
                  <span class="textGrayColor1"> {{perform.performActivity.activitystartdate | date:'MMM dd, yyyy hh:mm a'}}</span>
                </div>
                <div class="">
                  <span class="font-weight-bold">{{'End date:' | translate}}</span><br />
                  <span class="textGrayColor1"> {{perform.performActivity.activityenddate | date:'MMM dd, yyyy hh:mm a'}}</span>
                </div>
              </div>
            </div>
          </mat-card>
        </div>
      </div>
      <!-- desktop starts -->
      <ng-container *ngIf="performDetails?.length > 0 && !mobileResponsive">
        <div class="box-0-1" *ngFor="let perform of performDetails; let i = index">
          <div class="d-flex justify-content-between">
            <div class="performLeftContent">
              <div class="f_size_16 f_wt_600"><img class="perfimg" src="https://assets.lntedutech.com/application_images/perform1.webp" alt="perform"> 
                <span class="ml-13">{{perform.performActivity.module_id}}</span>
              </div>
              <div class="t-l">{{perform.performActivity.topic_id}}</div>
              <div class="t-l">{{'Activity Description:' | translate}} {{perform.performActivity.activityname}}</div>
              <div class="t-l" *ngIf="perform?.performActivity?.activityoutcome">{{'Activity Outcome:' | translate}} {{perform.performActivity.activityoutcome}}</div>
            </div>

            <div class="performRightContent">
              <span class="f_wt_600 statusTxt" *ngIf="perform.performActivity.submit_status == 'notsubmitted'">
                <span class="dot"></span><!-- 'notsubmitted' --> {{'Yet to submit' | translate}}</span>

              <span class="f_wt_600 submitstatus" *ngIf=" perform.performActivity.submit_status == 'submitted'">
                <span class="submitdot"></span>{{'Submitted' | translate}}</span>

              <span class="f_wt_600 gradeStatus" *ngIf="perform.performActivity.submit_status == 'graded'">
                <span class="gradedot"></span>{{'Graded' | translate}}</span>
              
              <mat-icon class="f_size_16 arr" aria-hidden="false" (click)="resourseAccord(performDetails, i);">{{perform.isOpen?'keyboard_arrow_up':'keyboard_arrow_down'}}</mat-icon>
              <!-- <mat-icon class="f_size_16 arr" aria-hidden="false" *ngIf="!isperformColaps || performId !== i" (click)="resourseAccord(performDetails, i)">keyboard_arrow_down</mat-icon>
              <mat-icon class="f_size_16 arr" aria-hidden="false" *ngIf="isperformColaps && performId === i" (click)="isperformColaps = !isperformColaps; performId = i; selectedIndex = null">keyboard_arrow_up</mat-icon> -->

              <div *ngIf="perform.performActivity.submittedTotal == 0" [ngClass]="perform.performActivity.submittedTotal > 0 ? 'mt-2 mb-2 itrationTxts' : 'mt-2 mb-2 itrationTxt'"
                class=""> {{'Iterations :' | translate}} <span *ngIf="perform.performActivity.submittedTotal > 0">{{perform.performActivity.submittedTotal}} / </span>{{perform.performActivity.iterationTotal}}
              </div>

              <div *ngIf="perform.performActivity.submittedTotal > 0" [ngClass]="perform.performActivity.submittedTotal > 0 ? 'mt-2 mb-2 itrCount' : 'mt-2 mb-2 itrationTxt'"
                class=""> {{'Completed iterations :' | translate}} <span *ngIf="perform.performActivity.submittedTotal > 0">{{perform.performActivity.submittedTotal}} / </span>{{perform.performActivity.iterationTotal}}
              </div>
              <div class="startEndDate d-flex justify-content-end">
                <div class="startDate">
                  <span class="f_wt_600">{{'Start date' | translate}}: </span>{{perform.performActivity.activitystartdate | date:'MMM dd, yyyy hh:mm a'}}
                </div>
                <div class="endDate">
                  <span class="f_wt_600">{{'End date:' | translate}} </span>{{perform.performActivity.activityenddate | date:'MMM dd, yyyy hh:mm a'}}
                </div>
              </div>
            </div>
          </div>

          <div class="panel" *ngIf="perform.isOpen">
            <hr>
            <div class="row">
              <div class="col-7">
                <div class="f_size_16 f_wt_600 mb-3">{{'Materials for activity' | translate}} ({{perform.performActivity.materialDetails.length}})</div>
                <h3 *ngIf="perform.performActivity.materialDetails && perform.performActivity.materialDetails.length == 0"> {{'No materials found for this activity' | translate}} </h3>
                <div class="materialsWrapper">
                  <drag-scroll #nav (reachesLeftBound)="leftBoundStat($event)" (reachesRightBound)="rightBoundStat($event)" class="materialsScrollActivity" [scrollbar-hidden] = true [drag-scroll-y-disabled] = true>
                    <span drag-scroll-item class="slideLoop row ml-0 mr-0" *ngFor="let material of perform.performActivity.materialDetails; let i = index">
                      <div [ngClass]="perform.performActivity.materialDetails.length >= 4 ? 'carouselCol': 'carouselCol1'">
                        <mat-card class="p-0 carouselCard" (click)="playVideo(projectPreviewDialog, videoDialog, material, material.doc_type)">
                          <div class="row ml-0 mr-0 carouselRow1">
                            <div class="col-12 m-auto">
                              <!-- <mat-icon class="imageIcon"
                                *ngIf="material.doc_type =='image/jpeg'  || material.doc_type == 'image/png' || material.doc_type == 'image/jpg'">
                                photo_size_select_actual</mat-icon> -->
                                <em class="lxp-photo imageIcon"   *ngIf="material.doc_type =='image/jpeg'  || material.doc_type == 'image/png' || material.doc_type == 'image/jpg'"></em>
                              <!-- <mat-icon class="imageIcon" *ngIf="material.doc_type =='video/mp4' || material.doc_type =='video/quicktime'">play_circle_outline
                              </mat-icon> -->
                              <em class="lxp-PlayCircle imageIcon" *ngIf="material.doc_type =='video/mp4' || material.doc_type =='video/quicktime'"></em>
                              <!-- <i class="fa fa-file-pdf-o pdfIcon" *ngIf="material.doc_type =='application/pdf'"
                                aria-hidden="true"></i> -->
                                <em class="lxp-pdf pdfIcon" *ngIf="material.doc_type =='application/pdf'"></em>
                            </div>
                          </div>
                          <div class="row ml-0 mr-0 carouselRow">
                            <div class="col-12 text-center mt-2 mb-2 pl-0 pr-0">
                              <span class="carouselText" *ngIf="material.filename?.length > 19"
                                matTooltip="{{material.filename}}" matTooltipClass="custom-mat-tooltip">{{(material.filename| slice:0:20)+'...'}}</span>
                              <span class="carouselText" *ngIf="material.filename?.length < 19">{{material.filename}}</span>
                              <br>
                            </div>
                          </div>
                        </mat-card>
                      </div>
                    </span>
                  </drag-scroll>
                  <div class="draggable-button-container">
                    <div class="leftArrow">
                      <button [disabled]="leftNavDisabled" [ngClass]="leftNavDisabled ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveLeft()" class="draggable-button float-left"> <mat-icon> chevron_left </mat-icon> </button>
                    </div>
                    <div class="rightArrow">
                      <button [disabled]="rightNavDisabled" [ngClass]="rightNavDisabled ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveRight()" class="draggable-button float-right"> <mat-icon> chevron_right </mat-icon> </button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-5">
                <div class="f_size_16 f_wt_600 align-center margin-b-9">{{'Your work' | translate}}</div>
                <mat-accordion class="iterationAccordion" *ngFor="let itrdata of perform.performActivity.iterationDetails; let i = index" (click)="getSelectedIndex(i);">
                  <mat-expansion-panel [expanded]="selectedIndex === i">
                    <mat-expansion-panel-header>
                      <mat-panel-title class="mr-0"> {{'Iteration' | translate}} {{itrdata.iterationcount}} </mat-panel-title>
                      <mat-panel-description>
                        <div class="row ml-0 mr-0 w-100">
                          <div class="col-6 pl-0 text-center w-100">
                            <span>{{'Score:' | translate}} {{itrdata.score_mark}} / {{itrdata.total_mark}}</span>
                          </div>
                          <div class="col-6 pr-0 pl-0 text-right w-100">
                            <span class="f_wt_600" *ngIf="itrdata.submit_status == 'notsubmitted' && itrdata.grade_status !== 'Evaluated'"> 
                              <span class="dot"></span>{{'Yet to submit' | translate}}
                            </span>
                            <span class="f_wt_600 iterSubmit" *ngIf="itrdata.grade_status == 'Not Evaluated' && itrdata.submitAction == 'submit'"> 
                              <span class="submitdot"></span> {{'Submitted' | translate}}
                            </span>
                            <span class="f_wt_600 iterGrade" *ngIf="itrdata.grade_status == 'Evaluated'"> 
                              <span class="gradedot"></span> {{'Graded' | translate}} 
                              <span *ngIf="itrdata.grade_status == 'Evaluated' && itrdata.instructor_status !== null" [ngClass]="itrdata.instructor_status == 'Pass'?'colorGreen ml-1': 'colorRed ml-1'">{{itrdata.instructor_status | titlecase}}</span>
                            </span>
                          </div>
                        </div>
                      </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="align-center" *ngIf="itrdata.grade_status !== 'Evaluated'">
                      <div class="videoPreview d-flex align-items-center mt-2 ml-auto mr-auto mb-3" *ngFor="let videoName of itrdata.videodetails">
                        <mat-icon class="videoPlay" *ngIf="videoName.doc_type == 'application/pdf'">picture_as_pdf</mat-icon>
                        <!-- <mat-icon class="videoPlay" *ngIf="videoName.doc_type == 'video/mp4' || videoName.doc_type == 'video/quicktime'">play_circle_outline</mat-icon> -->
                        <em class="lxp-PlayCircle imageIcon" *ngIf="videoName.doc_type == 'video/mp4' || videoName.doc_type == 'video/quicktime'"></em>
                        <span class="videoName"  matTooltip="{{videoName.name}}" matTooltipClass="custom-mat-tooltip">{{(videoName.name| slice:0:18)+'...'}}</span>
                        <mat-icon class="deleteBtn" *ngIf="itrdata.submit_status == 'notsubmitted'" (click)="submitDeleteVideo(videoName, itrdata, perform.performActivity , submitType = 'delete')">close</mat-icon>
                      </div>
                      <input type="file" accept="video/mp4,video/quicktime,application/pdf" style="display: none" #videoInput [(ngModel)]="fileName" (change)="uploadDocument($event,itrdata)" />
                        <button *ngIf="itrdata.submit_status == 'notsubmitted'" mat-stroked-button [disabled]="perform.performSubmitType == false || perform.itrationStarted == false" class="upload-bltn mt-3" (click)="uploadDocuments($event, itrdata, perform, submitType = 'upload')">
                        <mat-icon class="icon-color m-t-m-2 addIcon">add</mat-icon> <span>{{'Upload' | translate}}</span> </button>
                        <p class="uploadMessage" *ngIf="itrdata.submit_status == 'notsubmitted'" >{{'Max File Size : 150 MB, Format : MP4, MOV, PDF' | translate}}</p>
                      <button mat-stroked-button class="submit-btn mt-2"
                        *ngIf="itrdata.submit_status == 'notsubmitted' && itrdata.videodetails.length > 0 && (perform.itrationStarted && perform.performSubmitType)"
                        (click)="submitType = 'submit'; submitDeleteVideo({}, itrdata, perform.performActivity)">
                        {{'Submit' | translate}}
                      </button>
                      <button mat-stroked-button
                      *ngIf="itrdata.submit_status == 'notsubmitted' &&  (itrdata.videodetails.length == 0 && perform.itrationStarted) && perform.performSubmitType"
                      class="submitted-btn mt-2"> {{'Submit' | translate}} </button>
                      <button mat-stroked-button *ngIf="itrdata.submitAction == 'submit'" class="submitted-btn mt-2">
                        {{'Submitted' | translate}} </button>
                    
                    </div>
                    <div class="align-center   mt-2" *ngIf="itrdata.grade_status !== 'Evaluated'">
                      <span *ngIf="itrdata.submit_status == 'notsubmitted'" class="submitedFile">{{'Submitted files cannot be edited' | translate}}</span>
                      <span class="uploadedFile" *ngIf="itrdata.submitAction == 'submit'">{{'Submitted on :' | translate}} {{itrdata.submitted_date | date:'MMM dd, yyyy'}}</span>
                    </div>
                    <div class="align-center mt-2 itdata scrollingData" *ngIf="itrdata.grade_status === 'Evaluated'">
                      <div class="workWrapper">
                        <drag-scroll #navWork (reachesLeftBound)="leftBoundStatWork($event)" (reachesRightBound)="rightBoundStatWork($event)" [scrollbar-hidden] = true [drag-scroll-y-disabled] = true>
                          <span drag-scroll-item class="slideLoop" *ngFor="let videoName of itrdata.videodetails; let i = index">
                            <div class="">
                              <mat-card class="materialCard p-0 mr-2 .m-l" (mouseover)="hoverfile = true; mouseover(i)" (mouseleave)="hoverfile = false">
                                <div class="row ml-0 mr-0 matCardIconRow1">
                                  <div class="col-12 pl-0 pr-0" (click)="playVideo(projectPreviewDialog, videoDialog, videoName, videoName.doc_type)">
                                    <!-- <i class="fa fa-file-pdf-o icons" *ngIf="videoName.doc_type == 'file/pdf' || videoName.doc_type == 'application/pdf'" aria-hidden="true"></i> -->
                                    <em class="lxp-pdf icons" *ngIf="videoName.doc_type == 'file/pdf' || videoName.doc_type == 'application/pdf'" ></em>
                                    <!-- <mat-icon class="icons" *ngIf="videoName.doc_type == 'image/png' || videoName.doc_type == 'image/jpg' || videoName.doc_type == 'image/jpeg'">photo_size_select_actual</mat-icon> -->
                                    <em class="lxp-photo icons"   *ngIf="videoName.doc_type == 'image/png' || videoName.doc_type == 'image/jpg' || videoName.doc_type == 'image/jpeg'"></em>
                                    <!-- <mat-icon class="icons" *ngIf="videoName.doc_type =='video/mp4' || videoName.doc_type =='video/quicktime'">play_circle_outline</mat-icon> -->
                                    <em class="lxp-PlayCircle icons" *ngIf="videoName.doc_type =='video/mp4' || videoName.doc_type =='video/quicktime'"></em>
                                  </div>
                                
                                  <div class="row ml-0 mr-0 h-40 fileSelDetHover" >
                                    <div class="fileNameCol">
                                      <span class="fileColor">{{(videoName.name| slice:0:18)+'...'}}</span>
                                      <div class="row ml-0 mr-0">
                                        <div class="col-12 pl-0 pr-0">
                                          <div class="row ml-0 mr-0 playActions">
                                            <div  (click)="playVideo(projectPreviewDialog, videoDialog, videoName, videoName.doc_type)" class="col-5 text-left pr-0 colAction">
                                              <!-- <mat-icon class="position-absolute text-white playBtnmobile" *ngIf="videoName.doc_type =='video/mp4' || videoName.doc_type =='video/quicktime'">play_circle_outline</mat-icon> -->
                                              <em class="lxp-PlayCircle position-absolute text-white playBtnmobile" *ngIf="videoName.doc_type =='video/mp4' || videoName.doc_type =='video/quicktime'"></em>
                                              <!-- <mat-icon class="position-absolute text-white playBtn" *ngIf="videoName.doc_type =='image/jpeg'">photo_size_select_actual</mat-icon> -->
                                              <em class="lxp-photo position-absolute text-white playBtn"  *ngIf="videoName.doc_type =='image/jpeg'"></em>
                                                <!-- <i class="fa fa-file-pdf-o position-absolute text-white playBtnmobile" *ngIf="videoName.doc_type =='application/pdf'"
                                                aria-hidden="true"></i> -->
                                                <em class="lxp-pdf position-absolute text-white playBtnmobile" *ngIf="videoName.doc_type =='application/pdf'"></em>
                                              <span class="text-white actionBtnmobile" *ngIf="videoName.doc_type =='video/mp4' || videoName.doc_type =='video/quicktime'">{{'Play' | translate}}</span>
                                              <span class="text-white actionBtnmobile" *ngIf="videoName.doc_type == 'image/jpeg' || videoName.doc_type == 'application/pdf'">{{'View' | translate}}</span>
                                            </div>
                                            <div class="col-7 text-center pr-0 colActionDownload">
                                              <!-- <a (click)="downloadDoc(videoName, 'files')"> -->
                                                <a (click)="downloadProject(videoName.videourl + blobKey, videoName.name)">
                                                <!-- <i class="fa fa-download text-white position-absolute downloadBtnMobile" aria-hidden="true"></i> -->
                                                <em class="lxp-filedownload text-white position-absolute downloadBtn"></em>
                                                <span class="text-white actionBtn1Mobile">{{'Download' | translate}}</span>
                                              </a>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </mat-card>
                            </div>
                          </span>
                        </drag-scroll>
                        <div class="draggable-button-container">
                          <div class="leftArrow">
                            <button [disabled]="leftNavDisabledWork" [ngClass]="leftNavDisabledWork ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveLeftWork()" class="draggable-button float-left"> <mat-icon> chevron_left </mat-icon> </button>
                          </div>
                          <div class="rightArrow">
                            <button [disabled]="rightNavDisabledWork" [ngClass]="rightNavDisabledWork ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveRightWork()" class="draggable-button float-right"> <mat-icon> chevron_right </mat-icon> </button>
                          </div>
                        </div>
                      </div>
                      <!-- <owl-carousel-o [options]="trendingItration" [ngClass]="itrdata.videodetails.length >= 4 ? 'arrow' : 'owlItration arrow'">
                        <ng-template carouselSlide *ngFor="let videoName of itrdata.videodetails; let i = index">
                          <div class="col-6">
                            <mat-card class="materialCard p-0 mr-2 .m-l" (mouseover)="hoverfile = true; mouseover(i)" (mouseleave)="hoverfile = false">
                              <div class="row ml-0 mr-0 matCardIconRow1">
                                <div class="col-12 pl-0 pr-0">
                                  <i class="fa fa-file-pdf-o icons" *ngIf="videoName.doc_type == 'file/pdf' || videoName.doc_type == 'application/pdf'" aria-hidden="true"></i>
                                  <mat-icon class="icons" *ngIf="videoName.doc_type == 'image/png' || videoName.doc_type == 'image/jpg' || videoName.doc_type == 'image/jpeg'">photo_size_select_actual</mat-icon>
                                  <mat-icon class="icons" *ngIf="videoName.doc_type =='video/mp4'">play_circle_outline</mat-icon> 
                                </div>
                              </div>
                              <div class="row ml-0 mr-0 h-40" (mouseleave)="hoverfile = false; mouseover(i)" [ngClass]="hoverfile && mouseOverIndex == i ? 'row ml-0 mr-0 fileSelDetHover' : 'row ml-0 mr-0 fileSelDet'">
                                <div class="col-12 pr-0 fileNameCol">
                                  <span class="fileColor">{{(videoName.name| slice:0:18)+'...'}}</span>
                                  <div class="row ml-0 mr-0" *ngIf="hoverfile && mouseOverIndex == i">
                                    <div class="col-12 pl-0 pr-0">
                                      <div class="row ml-0 mr-0 playActions">
                                        <div class="col-5 text-left pr-0 colAction" (click)="playVideo(projectPreviewDialog, videoDialog, videoName, videoName.doc_type)">
                                          <mat-icon class="position-absolute text-white playBtnmobile" *ngIf="videoName.doc_type =='video/mp4'">play_circle_outline</mat-icon>
                                          <mat-icon class="position-absolute text-white playBtn" *ngIf="videoName.doc_type =='image/jpeg'">photo_size_select_actual</mat-icon>
                                            <i class="fa fa-file-pdf-o position-absolute text-white playBtn" *ngIf="videoName.doc_type =='application/pdf'"
                                            aria-hidden="true"></i>
                                          <span class="text-white actionBtnmobile" *ngIf="videoName.doc_type =='video/mp4'">Play</span>
                                          <span class="text-white actionBtn" *ngIf="videoName.doc_type == 'image/jpeg' || videoName.doc_type == 'application/pdf'">Preview</span>
                                        </div>
                                        <div class="col-7 text-center pr-0 colActionDownload">
                                          <a [href]="videoName.path" [download]="videoName.name">
                                            <i class="fa fa-download text-white position-absolute downloadBtnMobile" aria-hidden="true"></i>
                                            <span class="text-white actionBtn1Mobile">Download</span>
                                          </a>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </mat-card>
                          </div>
                        </ng-template>
                      </owl-carousel-o> -->
                      <div class="" *ngIf="itrdata?.comments && itrdata.comments!= ''">
                        <div class="text-left">
                          <p class="feedBackTxt">{{'Feedback' | translate}}</p>
                          <!-- <textarea disabled rows="4" cols="50" class="textArea">
                            {{itrdata.comments}}
                            </textarea> -->
                            <textarea disabled class="textArea">{{itrdata.comments}}</textarea>
                        </div>
                      </div>

                      <div class="" *ngIf="itrdata.assessmentreport.length > 0">
                        <div class="">
                          <button mat-stroked-button (click)="openDocument(projectPreviewDialog, itrdata.assessmentreport[0], itrdata.assessmentreport[0].doc_type)" class="AssignmentBtn mt-3 w-100"><mat-icon class="assignmentIcon mr-2">wysiwyg</mat-icon>{{'Assessment report' | translate}}</button>
                        </div>
                      </div>
                    </div>
                    <!-- Oct 12, 2020 -->
                  </mat-expansion-panel>
                </mat-accordion><br>
              </div>
            </div>

          </div>
        </div>
      </ng-container>
      <div class="item2 mt-4" *ngIf="performLoader">
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
    </div>
      <div class="noCard" *ngIf="performDetails?.length < 1 && !performLoader">
        <figure>
          <img src="https://assets.lntedutech.com/application_images/noperform.webp" alt="assignment">
        </figure>
        <p>{{'You have no Perform activity at the moment!' | translate}}</p>
       
      </div>
    </mat-tab>
   
    <mat-tab label="{{'Project' | translate}}">
      <app-project-mobile [projectDetailPageData]="projectDetaildata" *ngIf="projectMobileResponsive"></app-project-mobile>

      <ng-container *ngIf="projectDetails?.length > 0 && !projectMobileResponsive">
        <div class="box-0-1" *ngFor="let project of projectDetails; let i = index">
          <mat-icon class="f_size_16 expansionarr" aria-hidden="false" (click)="resourseAccord(projectDetails, i);">{{project.isOpen?'keyboard_arrow_up':'keyboard_arrow_down'}}</mat-icon>

          <!-- Project Tab Desktop -->
          <div class="d-flex justify-content-between">
            <div class="projectActivityDetails" [ngClass]="project.projectActivity.showLearnerList ? 'activityhalfWidth' : 'activityFullWidth'">
              <div class="d-flex justify-content-between">
                <div class="projectLeftContent">
                  <div class="topic text-left d-flex">
                    <mat-icon class="assignIcon">assignment</mat-icon>
                    <span class="f_size_16 f_wt_600 projHead">{{project.projectActivity.module_id}}</span>
                  </div>
                  <div class="t-l-1 ml-4">
                    {{project.projectActivity.topic_id}}
                   </div>
                  <div class="t-l-1 ml-4">
                    {{'Activity Description:' | translate}} {{project.projectActivity.activityname}}
                  </div>
                  <div class="t-l-1 ml-4" *ngIf="project.projectActivity.activityoutcome">
                    {{'Activity Outcome:' | translate}} {{project.projectActivity.activityoutcome}}
                  </div>
                </div>
                <div class="projectRightContent">
                  <div class="groupData">
                    <button mat-mini-fab class="groupBtn" *ngIf="!project.projectActivity.showLearnerList">
                      <mat-icon class="grpIcon">group</mat-icon>
                    </button>
                    <span class="teamName" *ngIf="project.projectActivity.groupname && !project.projectActivity.showLearnerList">
                      {{project.projectActivity.groupname}} ({{project.projectActivity.groupDetails.length}})
                    </span>&nbsp;
                    <button mat-mini-fab class="arrBtn" *ngIf="!project.projectActivity.showLearnerList"
                      (click)="project.projectActivity.showLearnerList = !project.projectActivity.showLearnerList">
                      <mat-icon class="arrBack">arrow_back</mat-icon>
                    </button>
                  </div>
                  <div class="text-right activityStatus">
                    <span class="f_wt_600 alignRight status" *ngIf="(project.projectActivity.submitAction !== 'submit' || project.projectActivity.submit_status == 'notsubmitted') && project.projectActivity.grade_status != 'Evaluated'">
                      <span class="dot"></span>{{'Yet to submit' | translate}}
                    </span>
                    <span class="f_wt_600 alignRight projectSubmitstatus submitted" *ngIf="project.projectActivity.submitAction == 'submit' && project.projectActivity.grade_status == 'Not Evaluated'">
                      <span class="submitdot"></span>{{'Submitted' | translate}}
                    </span>
                    <span class="f_wt_600 alignRight graded" *ngIf="project.projectActivity.grade_status == 'Evaluated'">
                      <span class="gradedot"></span>{{'Graded' | translate}}
                    </span>
                  </div>
                  <div class="projTotalScore">
                    <div class="text-right">
                      <span class="totscore">
                        {{'Total score:' | translate}} <span *ngIf="!project.projectActivity.score_mark">-</span> <span *ngIf="project.projectActivity.score_mark">{{project.projectActivity.score_mark}}</span>
                        /{{project.projectActivity.total_mark}}</span>
                    </div>
                  </div>
                  <div class="d-flex justify-content-end projDate">
                    <div class="">
                      <span class="font-weight-bold">{{'Start date:' | translate}}</span>
                      <span class="textGrayColor1"> {{project.projectActivity.activitystartdate | date:'MMM dd, yyyy hh:mm a'}}</span>
                    </div>
                    <div class="projEndDate">
                      <span class="font-weight-bold">{{'End date:' | translate}}</span>
                      <span class="textGrayColor1"> {{project.projectActivity.activityenddate | date:'MMM dd, yyyy hh:mm a'}}</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-----------------------------Materials for activity--------------------->
              <div class="panel1" *ngIf="project.isOpen">
                <hr>
                <div class="row">
                  <div class="col-md-8 col-sm-12 col-12 second">
                    <div style="margin-bottom: 10px;" class="f_size_16 f_wt_600">
                      {{'Materials for activity' | translate}} ({{project.projectActivity.materialDetails.length}})
                    </div>
                    <h3 *ngIf="project.projectActivity.materialDetails && project.projectActivity.materialDetails.length == 0">{{'No materials found for this activity' | translate}}</h3>
                    <!--------------------------------New carousel------------------------>
                    <div class="materialsWrapper">
                      <drag-scroll #navActivity (reachesLeftBound)="leftBoundStatActivity($event)" (reachesRightBound)="rightBoundStatActivity($event)" class="trendingCategoriesScrollActivity" [scrollbar-hidden] = true [drag-scroll-y-disabled] = true>
                        <span drag-scroll-item class="slideLoop" *ngFor="let material of project.projectActivity.materialDetails; let i = index">
                          <div [ngClass]="project.projectActivity.materialDetails.length >= 4 ? 'carouselCol': 'carouselCol1'">
                            <mat-card class="p-0 carouselCard" (click)="projectPreviewDoc(projectPreviewDialog, videoDialog, material, 'material')">
                              <div class="row ml-0 mr-0 carouselRow1">
                                <div class="col-12 m-auto">
                                  <!-- <mat-icon class="imageIcon" *ngIf="material.doc_type =='image/jpeg'  || material.doc_type == 'image/png' || material.doc_type == 'image/jpg'">
                                    photo_size_select_actual</mat-icon> -->
                                    <em class="lxp-photo imageIcon" *ngIf="material.doc_type =='image/jpeg'  || material.doc_type == 'image/png' || material.doc_type == 'image/jpg'"></em>
                                  <!-- <mat-icon class="imageIcon" *ngIf="material.doc_type =='video/mp4' || material.doc_type =='video/quicktime'">play_circle_outline</mat-icon> -->
                                  <em class="lxp-PlayCircle imageIcon" *ngIf="material.doc_type =='video/mp4' || material.doc_type =='video/quicktime'"></em>
                                  <!-- <i class="fa fa-file-pdf-o pdfIcon" *ngIf="material.doc_type =='application/pdf' || material.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"
                                    aria-hidden="true"></i> -->
                                    <em class="lxp-pdf pdfIcon" *ngIf="material.doc_type =='application/pdf' || material.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"></em>
                                </div>
                              </div>
                              <div class="row ml-0 mr-0 carouselRow">
                                <div class="col-12 text-center mt-2 mb-2 pl-0 pr-0">
                                  <span class="carouselText" *ngIf="material.filename?.length > 19"
                                    matTooltip="{{material.filename}}" matTooltipClass="custom-mat-tooltip">{{(material.filename| slice:0:20)+'...'}}</span>
                                  <span class="carouselText" *ngIf="material.filename?.length < 19">{{material.filename}}</span>
                                </div>
                              </div>
                            </mat-card>
                          </div>
                        </span>
                      </drag-scroll>
                      <div class="draggable-button-container">
                        <div class="leftArrow">
                          <button [disabled]="leftNavDisabledActivity" [ngClass]="leftNavDisabledActivity ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveLeftActivity()" class="draggable-button float-left"> <mat-icon> chevron_left </mat-icon> </button>
                        </div>
                        <div class="rightArrow">
                          <button [disabled]="rightNavDisabledActivity" [ngClass]="rightNavDisabledActivity ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveRightActivity()" class="draggable-button float-right"> <mat-icon> chevron_right </mat-icon> </button>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-4 col-sm-12 col-12 third" *ngIf="project.projectActivity.grade_status !== 'Evaluated'">
                    <div class="f_size_16 f_wt_600 align-center work">{{'Your work' | translate}}</div>
                    <div [ngClass]="project.projectActivity.showLearnerList ? 'box-0-3' : 'box-0-2'">
                      <div class="fileData ml-auto mr-auto mb-3" *ngFor="let item of project.projectActivity.videodetails">
                        <!-- <mat-icon *ngIf="item.doc_type == 'video/mp4' || item.doc_type == 'video/quicktime'" class="videoPlay float-left">play_circle_outline</mat-icon> -->
                        <em class="lxp-PlayCircle videoPlay float-left" *ngIf="item.doc_type == 'video/mp4' || item.doc_type == 'video/quicktime'"></em>
                        <mat-icon *ngIf="item.doc_type == 'image/jpeg'|| item.doc_type == 'image/png' || item.doc_type =='image/jpg'" class="videoPlay float-left">photo</mat-icon>
                        <mat-icon *ngIf="item.doc_type == 'application/pdf' || item.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'" class="videoPlay float-left">picture_as_pdf </mat-icon>
                        <span class="uploadfileName" *ngIf="item.name.length <= 19"> {{item.name}} </span>                       
                        <span class="uploadfileName" *ngIf="item.name?.length > 19" matTooltip="{{item.name}}" matTooltipClass="custom-mat-tooltip">
                          {{(item.name| slice:0:20)+'...'}}
                        </span>
                        <mat-icon class="deleteIcon float-right" *ngIf="project.submitType == true" (click)="learnerSumbitdeleteVideo(project, item, 'delete')">delete</mat-icon>
                      </div>
                      <div class="align-center">
                        <input type="file" style="display: none" accept="video/mp4,video/quicktime,image/png,image/jpeg,image/jpg,application/pdf" #uploadInput [(ngModel)]="fileName" (change)="uploadDoc($event, project, 'upload')" />
                        <button mat-stroked-button class="upload-btn" (click)="uploadDocs()" [disabled]="project.submitType == false || project.enableSubmit == false"> 
                          <mat-icon class="icon-color m-t-m-2">add</mat-icon> {{'Add your files' | translate}} 
                        </button>
                        <p class="uploadMessage" >{{'Max File Size : 150 MB, Format : JPEG,PNG,PDF,MP4,MOV' | translate}}</p>
                        <button mat-stroked-button class="submit-btn" [disabled]="project.submitType == false || project.enableSubmit == false" (click)="learnerSumbitdeleteVideo(project, '' ,'submit')" 
                        *ngIf="project.projectActivity.videodetails.length > 0">{{'Submit' | translate}}</button>
                        <!-- <button mat-stroked-button class="submitted-btn mt-2" *ngIf="(project.projectActivity.videodetails.length == 0 || project.enableSubmit == false)"> Submit </button> -->
                      
                        <!-- <button mat-stroked-button class="submitted-btn" [disabled]="true" *ngIf="project.projectActivity.submitAction == 'submit'">Submitted</button>
                        <p *ngIf="project.projectActivity.submit_status == 'notsubmitted'">Submitted files cannot be edited</p> -->
                        <p *ngIf="project.projectActivity.submitAction == 'submit'">{{'Submitted on:' | translate}} {{project.submittedOn | date:'MMM dd, yyyy'}}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-------------------------------------Your files--------------------------------------->
              <div class="panel1 yourSubmissions" *ngIf="project.isOpen && project.projectActivity.grade_status == 'Evaluated'">
                <div class="row">
                  <div [ngClass]="project.projectActivity.showLearnerList ? 'col-xl-7 col-lg-7 col-md-7 col-sm-12 col-12' : 'col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12'">
                    <div class="f_size_16 f_wt_600">{{'Your submissions' | translate}} ({{project.projectActivity.videodetails.length}})</div>
                    <div class="submissionsWrapper">
                      <drag-scroll #navSubmissions (reachesLeftBound)="leftBoundStatSubmissions($event)" (reachesRightBound)="rightBoundStatSubmissions($event)" class="trendingCategoriesScrollActivity" [scrollbar-hidden] = true [drag-scroll-y-disabled] = true>
                        <span drag-scroll-item class="slideLoop" *ngFor="let video of project.projectActivity.videodetails; let i = index">
                          <div [ngClass]="project.projectActivity.videodetails.length >= 4 ? 'carouselCol': 'carouselCol1'">
                            <mat-card class="p-0 carouselCard" (mouseover)="hover = true; mouseover(i)" (mouseleave)="hover = false">

                              <div class="row ml-0 mr-0 carouselRow1">
                                <div class="col-12 m-auto" (click)="projectPreviewDoc(projectPreviewDialog,videoDialog, video, 'files')">
                                  <!-- <mat-icon class="imageIcon" *ngIf="video.doc_type =='image/jpeg'  || video.doc_type == 'image/png' || video.doc_type == 'image/jpg'">photo_size_select_actual</mat-icon> -->
                                  <em class="lxp-photo imageIcon" *ngIf="video.doc_type =='image/jpeg'  || video.doc_type == 'image/png' || video.doc_type == 'image/jpg'"></em>
                                  <!-- <mat-icon class="imageIcon" *ngIf="video.doc_type =='video/mp4' || video.doc_type =='video/quicktime'">play_circle_outline</mat-icon> -->
                                  <em class="lxp-PlayCircle imageIcon" *ngIf="video.doc_type =='video/mp4' || video.doc_type =='video/quicktime'"></em>
                                  <!-- <i class="fa fa-file-pdf-o pdfIcon" *ngIf="video.doc_type =='application/pdf' || video.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'" aria-hidden="true"></i> -->
                                  <em class="lxp-pdf pdfIcon"*ngIf="video.doc_type =='application/pdf' || video.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"></em>
                                </div>
                                <div (mouseleave)="hover = false" [ngClass]="hover && mouseOverIndex == i ? 'row ml-0 mr-0 carouselRowHover' : 'row ml-0 mr-0 carouselRow'">
                                  <div class="col-12 text-center mt-2 mb-2 pl-0 pr-0">
                                    <span class="carouselText" *ngIf="video.name?.length > 19">{{(video.name| slice:0:20)+'...'}}</span>
                                    <span class="carouselText" *ngIf="video.name?.length < 19">{{video.name}}</span>
                                    <div class="row ml-0 mr-0" *ngIf="hover && mouseOverIndex == i">
                                      <div class="col-12 pl-0 pr-0">
                                        <div class="row ml-0 mr-0 mt-2 playActions">
                                          <div class="col-5 text-left pr-0 colAction" (click)="projectPreviewDoc(projectPreviewDialog,videoDialog, video, 'files')">
                                            <!-- <mat-icon class="position-absolute text-white playBtn" *ngIf="video.doc_type =='video/mp4' || video.doc_type =='video/quicktime'">play_circle_outline</mat-icon> -->
                                            <em class="lxp-PlayCircle position-absolute text-white playBtn" *ngIf="video.doc_type =='video/mp4' || video.doc_type =='video/quicktime'"></em>
                                            <!-- <mat-icon class="position-absolute text-white playBtn" *ngIf="video.doc_type =='image/jpeg' || video.doc_type == 'image/jpg' || video.doc_type == 'image/png'">photo_size_select_actual</mat-icon> -->
                                            <em class="lxp-photo position-absolute text-white playBtn" *ngIf="video.doc_type =='image/jpeg' || video.doc_type == 'image/jpg' || video.doc_type == 'image/png'"></em>
                                              <!-- <i class="fa fa-file-pdf-o position-absolute text-white playBtn" *ngIf="video.doc_type =='application/pdf'"
                                              aria-hidden="true"></i> -->
                                            <span class="text-white actionBtn" *ngIf="video.doc_type =='video/mp4' || video.doc_type =='video/quicktime'">Play</span>
                                            <span class="text-white actionBtn" *ngIf="video.doc_type == 'image/jpeg' || video.doc_type == 'application/pdf' || video.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' || video.doc_type == 'image/jpg' || video.doc_type == 'image/png'">View</span>
                                          </div>
                                          <div class="col-7 text-center pr-0 colAction" (click)="downloadProject(video.videourl + blobKey, video.name)">
                                            <!-- <i class="fa fa-download text-white position-absolute downloadBtn" aria-hidden="true"></i> -->
                                            <em class="lxp-filedownload text-white position-absolute downloadBtn"></em>
                                            <span class="text-white actionBtn1">{{'Download' | translate}}</span>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </mat-card>
                          </div>
                        </span>
                      </drag-scroll>
                      <div class="draggable-button-container">
                        <div class="leftArrow">
                          <button [disabled]="leftNavDisabledSubmissions" [ngClass]="leftNavDisabledSubmissions ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveLeftSubmissions()" class="draggable-button float-left"> <mat-icon> chevron_left </mat-icon> </button>
                        </div>
                        <div class="rightArrow">
                          <button [disabled]="rightNavDisabledSubmissions" [ngClass]="rightNavDisabledSubmissions ? 'disableArrow' : 'showArrow'" mat-raised-button (click)="moveRightSubmissions()" class="draggable-button float-right"> <mat-icon> chevron_right </mat-icon> </button>
                        </div>
                      </div>
                    </div>
                    
                    <!-- <owl-carousel-o [options]="trendingCategorires" [ngClass]="project.projectActivity.videodetails.length >= 4 ? 'arrow': 'widthClass arrow' ">
                      <ng-template class="row ml-0 mr-0" carouselSlide *ngFor="let video of project.projectActivity.videodetails; let i = index">
                        <div [ngClass]="project.projectActivity.videodetails.length >= 4 ? 'col-3 w-100 pt-2 pb-2  carouselCol': 'col-3 w-100 pt-2 pb-2  carouselCol1'">
                          <mat-card class="p-0 carouselCard" (mouseover)="hover = true; mouseover(i)" (mouseleave)="hover = false">
                            <div class="row ml-0 mr-0 carouselRow1">
                              <div class="col-12 m-auto">
                                <mat-icon class="imageIcon" *ngIf="video.doc_type =='image/jpeg'  || video.doc_type == 'image/png' || video.doc_type == 'image/jpg'">photo_size_select_actual</mat-icon>
                                <mat-icon class="imageIcon" *ngIf="video.doc_type =='video/mp4'">play_circle_outline</mat-icon>
                                <i class="fa fa-file-pdf-o pdfIcon" *ngIf="video.doc_type =='application/pdf' || video.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'" aria-hidden="true"></i>
                              </div>
                            </div>
                            <div (mouseleave)="hover = false" [ngClass]="hover && mouseOverIndex == i ? 'row ml-0 mr-0 carouselRowHover' : 'row ml-0 mr-0 carouselRow'">
                              <div class="col-12 text-center mt-2 mb-2 pl-0 pr-0">
                                <span class="carouselText" *ngIf="video.name?.length > 19">{{(video.name| slice:0:20)+'...'}}</span>
                                <span class="carouselText" *ngIf="video.name?.length < 19">{{video.name}}</span>
                                <div class="row ml-0 mr-0" *ngIf="hover && mouseOverIndex == i">
                                  <div class="col-12 pl-0 pr-0">
                                    <div class="row ml-0 mr-0 mt-2 playActions">
                                      <div class="col-5 text-left pr-0 colAction" (click)="projectPreviewDoc(projectPreviewDialog,videoDialog, video, 'files')">
                                        <mat-icon class="position-absolute text-white playBtn" *ngIf="video.doc_type =='video/mp4'">play_circle_outline</mat-icon>
                                        <mat-icon class="position-absolute text-white playBtn" *ngIf="video.doc_type =='image/jpeg' || video.doc_type == 'image/jpg' || video.doc_type == 'image/png'">photo_size_select_actual</mat-icon>
                                          <i class="fa fa-file-pdf-o position-absolute text-white playBtn" *ngIf="video.doc_type =='application/pdf'"
                                          aria-hidden="true"></i>
                                        <span class="text-white actionBtn" *ngIf="video.doc_type =='video/mp4'">Play</span>
                                        <span class="text-white actionBtn" *ngIf="video.doc_type == 'image/jpeg' || video.doc_type == 'application/pdf' || video.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' || video.doc_type == 'image/jpg' || video.doc_type == 'image/png'">View</span>
                                      </div>
                                      <div class="col-7 text-center pr-0 colAction" (click)="downloadDoc(video, 'files')">
                                        <i class="fa fa-download text-white position-absolute downloadBtn" aria-hidden="true"></i><span class="text-white actionBtn1">Download</span>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </mat-card>
                        </div>
                      </ng-template>
                    </owl-carousel-o> -->
                  </div>
                  <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 d-flex justify-content-end flex-column">
                    <div class="" *ngIf="project?.projectActivity?.comments && project.projectActivity.comments!=''">
                      <div class="text-left">
                        <p class="feedBackTxt">{{'Feedback' | translate}}</p>
                          <textarea disabled class="textArea" [value]='project.projectActivity.comments'></textarea>
                      </div>
                    </div>
                    <div class="">
                      <div class="">
                        <button mat-stroked-button class="AssignmentBtn w-100" (click)="openDocument(projectPreviewDialog, project.projectActivity.assessmentreport ? project.projectActivity.assessmentreport[0] : null, project?.projectActivity?.assessmentreport)">
                          <mat-icon class="assignmentIcon mr-2">wysiwyg</mat-icon>
                          {{'Assessment report' | translate}}
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!------------------------------------Learner list------------------------------->
            <div class="learnerList first" *ngIf="project.projectActivity.showLearnerList">
              <div class="align-center groupData">
                <button mat-mini-fab class="groupBtn" *ngIf="project.projectActivity.showLearnerList">
                  <mat-icon class="grpIcon">group</mat-icon>
                </button>
                <span class="teamName" *ngIf="project.projectActivity.groupname">
                  {{project.projectActivity.groupname}} ({{project.projectActivity.groupDetails.length}})
                </span>
                <button mat-mini-fab class="arrBtn" *ngIf="project.projectActivity.showLearnerList"
                  (click)="project.projectActivity.showLearnerList = !project.projectActivity.showLearnerList">
                  <mat-icon class="arrBack">arrow_forward</mat-icon>
                </button>
              </div>
              <!-- </div> -->
              <div class="list learnerData">
                <ul class="list-group" *ngFor="let learner of project.projectActivity.groupDetails">
                  <li class="list-group-item">{{learner.name}}</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
      <div class="item2 mt-4" *ngIf="projectLoader">
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
    </div>
      <div class="noCard" *ngIf="projectDetails?.length < 1 && !projectLoader">
        <figure>
          <img src="https://assets.lntedutech.com/application_images/noproject.webp" alt="assignment">
        </figure>
        <p>{{'You have no Project activity at the moment!' | translate}}</p>
      
      </div>
    </mat-tab>
 
    <mat-tab label="{{'Practice Online' | translate}}">
      <ng-container *ngFor="let lab of labpracticeData">
        <div class="box-0-1">
          <div class="d-flex justify-content-between">
            <div class="w-100 projectActivityDetails">
              <div class="d-flex justify-content-between assignmentActivityDetails align-items-center">
                <div class="iconcontent">
                  <em class="lxp-Lab_Practice"></em>
                </div>
                <div class="labLeftContent">
                  <div class="topic text-left d-flex">
                    <!-- <mat-icon class="assignIcon">assignment</mat-icon> -->
                    <span class="f_size_16 f_wt_600 projHead">{{lab.labActivity.ebox_attempt_title}}</span>
                  </div>
                  <div class="t-l-1">
                    {{'Activity Description:' | translate}} {{lab.labActivity.activityname}}
                  </div>
                  <div class="t-l-1" *ngIf="lab?.labActivity?.activityoutcome">
                    {{'Activity Outcome:' | translate}} {{lab.labActivity.activityoutcome}}
                  </div>
                </div>
                <div class="labmiddleContent">
                  <div class="d-flex justify-content-end projDate">
                    <div class="projstartdate">
                      <span class="font-weight-bold">{{'Start date:' | translate}}</span>
                      <span class="textGrayColor1"> {{lab.labActivity.activitystartdate | date:'MMM dd, yyyy hh:mm a'}}</span>
                    </div>
                    <div class="projEndDate">
                      <span class="font-weight-bold">{{'End date:' | translate}}</span>
                      <span class="textGrayColor1"> {{lab.labActivity.activityenddate | date:'MMM dd, yyyy hh:mm a'}}</span>
                    </div>
                  </div>
                </div>
                <div class="practicesaction">
                  <button mat-stroked-button [ngClass]="lab.labActivity.status=='In Progress'?'practice-inProg-btn':lab.labActivity.status=='Completed'?'practice-Compl-btn':'practice-btn'" class="mt-2" (click)="getEboxURL(lab.labActivity.ebox_attempt_id)"><em *ngIf="lab.status=='Completed'" class="lxp-reset"></em>{{lab.labActivity.status=='In Progress'?'In Progress':lab.labActivity.status=='Completed'?'Completed':'Launch'}}</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
      <div class="item2 mt-4" *ngIf="praticalsLoader">
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
        <ngx-skeleton-loader count="1" [theme]="{'border-radius': '4px', height: '60px', 'margin-bottom':'10', 'background-color': '#d8d9dd', border: '1px solid white'}"></ngx-skeleton-loader>
    </div>
      <div class="noCard" *ngIf="labNoCard ">
        <figure>
          <img src="https://assets.lntedutech.com/application_images/noperform.webp" alt="assignment">
        </figure>
        <p>{{'You have no practices at the moment!' | translate}}</p>
      </div>
    </mat-tab>

  </mat-tab-group>
</div>
<!-------------------Preview for Project------------------>

<ng-template #projectPreviewDialog>
  <div>
    <button mat-mini-fab class="closeBtn">
      <mat-icon class="download-icon" (click)="closedialogbox()">close</mat-icon>
    </button>
  </div>
  <!-- <div *ngIf="previewDoc">
    <app-pdfreader [url]="previewDoc"></app-pdfreader>
  </div> -->

  <div class="row" *ngIf="previewDoc">
    <div class="col-12">
      <app-pdfreader [url]="previewDoc"></app-pdfreader>
    </div>
  </div>
</ng-template>
<!-- dialogue box for assignment tab view assignment-->
<ng-template #previewDialog>
  <div class="row">
    <div class="col-12">
      <button mat-mini-fab class="close-button">
        <mat-icon class="download-icon" (click)="closedialogbox()">close</mat-icon>
      </button>
    </div>
  </div>
  <div class="row" *ngIf="docpath">
    <div class="col-12">
      <app-pdfreader [url]="docpath"></app-pdfreader>
    </div>
  </div>
</ng-template>

<!---------------------- video play --------------------------------->
<ng-template #videoDialog>
  <div class="closeButton" (click)="closedialogbox()">
      <em class="lxp-Close"></em>
    <!-- <button mat-mini-fab class="close-buttonVideo">
      <mat-icon class="download-icon" (click)="closedialogbox()">close</mat-icon>
    </button> -->
  </div>
  <div class="playerWrapper">
    <app-video-player [url]="videoSource + blobKey"></app-video-player>
  </div>
</ng-template>

<!-- tooltip template for assignmnet tab -->
<ng-template #popTemplate class="tooltip-container">
  <span class="singleline-text">
    <span>
      {{'File size : 10mb, Format : jpg, png, jpeg, pdf' | translate }}
    </span>

  </span>
</ng-template>
<div class="spinner-container" *ngIf="isDownloadLoader">
  <mat-spinner diameter="50" strokeWidth="5"></mat-spinner>
</div>  