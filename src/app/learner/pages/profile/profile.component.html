<app-header></app-header>
<!-- <nav aria-label="breadcrumb">
  <ol class="breadcrumb" style="margin-bottom: 0 !important;">
    <li class="breadcrumb-item"><a [routerLink]="['/Learner/home']">Home</a></li>
    <li class="breadcrumb-item active" aria-current="page">Profile</li>
  </ol>
</nav> -->

<div class="profile animated animatedFadeInUp fadeInUp">


  <div class="bg-img">
    <span (click)="cannotEdit = !cannotEdit;" class="editText">
      <mat-icon matTooltip="Click here to change profile details" class="editIcon">create
      </mat-icon> Edit &nbsp;
    </span>

    <div class="row details-row">

      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 third" style="margin-top: 17.5em;">
        <div class="row info-row" *ngIf="userData">
          <div class="col-xl-8 col-lg-8 col-md-8 col-sm-10 col-10 bb user-info">
            <span class="f_size_13 f_wt_500 ">{{'Password : ********' | translate }}</span>
          </div>
          <div class="col-md-2 col-sm-2 col-2">
            <mat-icon [ngClass]="cannotEdit ? 'm-n f_size_17 bb' : 'f_size_17 bb'" *ngIf="editpopup "
              style="width: 17px;" matTooltip="Click here to change Password" (click)="editPassword(passwordDialog)">
              create</mat-icon>
          </div>
        </div>

        <div class="row m-t-25px">
          <div class="col-xl-8 col-lg-8 col-md-8 col-sm-10 col-10 bb user-info">
            <span class="f_size_13 f_wt_500">{{'Mobile :' | translate }} {{userData.user_mobile?.mobile_number || 'XXXXXXXXXX'}}</span>
          </div>
          <div class="col-md-2 col-sm-2 col-2">
            <mat-icon [ngClass]="cannotEdit ? 'm-n f_size_17 bb' : 'f_size_17 bb'" *ngIf="editpopup && enableMobileEdit"
              style="width: 17px;" matTooltip="Click here to change Mobile number" (click)="editmobno(mobDialog)">
              create</mat-icon>
          </div>
        </div>

        <div class="row m-t-25px  m-b-10">
          <div class="col-xl-8 col-lg-8 col-md-8 col-sm-10 col-10 bb user-info">
            <span class="f_size_13 f_wt_500">{{'Email :' | translate }} {{userData.email || 'example@domain.com'}}</span>
          </div>
          <div class="col-md-2 col-sm-2 col-2 ">
            <mat-icon [ngClass]="cannotEdit ? 'm-n f_size_17 bb-icon' : 'f_size_17  bb-icon'" *ngIf="editpopup "
              style="width: 17px;" matTooltip="Click here to change Email Id" (click)="editEmail(emailDialog)">
              create</mat-icon>
          </div>
        </div>


      </div>

      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 center first">
        <div *ngIf="!cannotEdit" style="margin-left: 21%; color: #333;">{{'Max size: 5 mb, upload format: jpg & png' | translate }}</div>
        <div class="row">
          <div class="profile-pic">
            <mat-icon *ngIf="!cannotEdit" class="cameraIcon" for="fileInput" (click)="fileInput.click()">camera_alt
            </mat-icon>
            <img
              [src]="profileForm.value.profile_img != 'null' && profileForm.value.profile_img != null  ? profileForm.value.profile_img : 'assets/learner/pro2.png'"
              id="imageUpload" accept=".png, .jpg, .jpeg" #fileInput alt="Avatar"
              [ngClass]="profileForm.value.profile_img ? 'avatar' : 'iconImg'">
            <input style="display: none;" id="fileInput" type='file' #fileInput (change)="onSelectFile($event)">
          </div>
        </div>

        <div class="row width_100">
          <div class="uname width_100 center_align">{{userData?.full_name || 'Full name | translate '}} </div>

          <div class="width_100 center_align stateDet">
            {{userData.state_detail && userData.state_detail[0].statename + ', '|| 'State | translate '}}
            {{userData.country_detail && userData.country_detail[0].countryname || '& Country | translate ' }}
          </div>

          <div class="f_wt_400 uID">

            <span class="f_size_16"> {{userData.user_dtl && userData.user_dtl.username || 'User Name | translate '}}
              &nbsp;&nbsp;</span>

            <span class="f_size_16">| &nbsp;&nbsp;
              {{userData && userData.user_profile && userData.user_profile.length > 0 ? (userData.user_profile[0] && userData.user_profile[0]?.gender && 
              userData.user_profile[0]?.gender =='M' ? 'Male | translate ' : userData.user_profile[0].gender =='F' ? 'Female | translate ' : 
            userData.user_profile[0].gender =='O' ? 'Rather Not Say | translate ' : 'Gender | translate ') : 'Gender | translate ' }}
              &nbsp;&nbsp;
            </span>

            <span class="f_size_16">
              | &nbsp;&nbsp;
              <!-- Student -->
              {{userData && userData.user_profile && userData.user_profile.length > 0 ? (userData.user_profile[0] && 
              userData.user_profile[0]?.is_student_or_professional =='student' ? 
            'Student | translate ' : userData.user_profile[0].is_student_or_professional =='professional' ? 'Professional | translate ' : 'Profession | translate ') : 'Profession | translate '}}
            </span>

          </div>

          <div class="width_100 bb center center_align p-b-10"
            *ngIf="userData?.language_detail && userData?.language_detail.length > 0">
            <!-- <div class="width_100 bb center center_align p-b-10"> -->
            <span class="f_size_15 color_label f_wt_500" *ngFor="let l of userData?.language_detail;let i = index">
              {{l.languagename && i != 0 ? ', ' + l.languagename : l.languagename || null}}
            </span>
            <!-- <span class="f_size_15 color_label f_wt_500">
              English
            </span> -->
          </div>

          <!-- <div class="width_100 bb center center_align p-b-10" *ngIf="!userData?.language_detail">
            <span class="f_size_15 color_label f_wt_500">
              Languages Known
            </span>
          </div> -->

          <div class="width_100 center_align m-b-10 color_blue f_wt_500 f_size_16 m-t-5px">
            {{'Member since' | translate }} &nbsp;
            {{(userData.user_dtl && (userData.user_dtl.created_on | date)) || ' __  __  __'}}
          </div>

        </div>
      </div>

      <div class="col-xl-4 col-lg-4 col-md-5 col-sm-12 col-12 second">
        <div class="profile-progress">
          <span class="percentText float_left no_margin f_size_16">{{'Profile progress' | translate }}</span><span
            class="percent  float_right f_size_16">{{profileForm.value.progress || '10'}}%</span>
          <mat-progress-bar mode="determinate" [value]="profileForm.value.progress || 10">
          </mat-progress-bar>
        </div>
      </div>
    </div>
  </div>


















  <div class="container-reg200 fourth">
    <div class="profile-details">



      <form [formGroup]="profileForm">
        <!-- ////// Info about you//////// -->
        <!-- <div class="row">
          <div class="form-group width_100">
            <label class="f_size_19">About me </label><label class="f_size_15">&nbsp; (1000 characters)</label>
            <textarea rows="5" [ngClass]="cannotEdit ? 'dis inputs  color_label  width_100' :
                'inputs  color_label  width_100'"
              [ngClass]="{ 'is-invalid': f.about_you.touched && f.about_you.errors }" formControlName="about_you"
              name="about_you"></textarea>
            <div *ngIf="f.about_you.touched && f.about_you.errors" class="mand">
              <div *ngIf="f.about_you.errors.minlength">Information about you must be minimum of
                {{f.about_you.errors.minlength.requiredLength}} characters </div>
              <div *ngIf="f.about_you.errors.maxlength">Information about you must be
                {{f.about_you.errors.maxlength.requiredLength}} maximum of characters</div>
            </div>
          </div>
        </div> -->
        <!-- Info End-->

        <!-- <br>
        <hr class="p-b-10px">
        <br *ngIf="!cannotEdit"> -->

        <!-- //////Gender part//////// -->
        <div class="row" *ngIf="!cannotEdit">
          <div class="col-md-4 col-lg-4 col-sm-12 col-12">
            <label class="p-b-10px f_size_19">{{'Gender' | translate }}</label>
            <span class="mand p-b-10px"> *</span>
            <div class="form-group">
              <mat-radio-group [disabled]='cannotEdit' formControlName="gender" name="gender">
                <mat-radio-button value="M">{{'Male' | translate }}</mat-radio-button>
                <mat-radio-button value="F">{{'Female' | translate }}</mat-radio-button>
                <mat-radio-button value="O">{{'Rather not say' | translate }}</mat-radio-button>
              </mat-radio-group>
            </div>
          </div>

          <div class="col-md-4 col-lg-4 col-sm-12 col-12">
            <label class="p-b-10px f_size_19">{{'I Am a' | translate }}</label>
            <span class="mand p-b-10px"> *</span>
            <div class="form-group ">
              <mat-radio-group [disabled]='cannotEdit' formControlName="is_student_or_professional"
                name="is_student_or_professional">
                <mat-radio-button value="student">{{'Student' | translate }}</mat-radio-button>
                <mat-radio-button value="professional">{{'Professional' | translate }}</mat-radio-button>
              </mat-radio-group>
            </div>
          </div>

          <div class="col-md-4 col-lg-4 col-sm-12 col-12 ">
            <div class="form-group p-b-10px">
              <label class="f_size_19">{{'Languages known' | translate }}</label><br>
              <mat-select [disabled]='cannotEdit' multiple class="inputs col-md-6 col-sm-12 col-12"
                [placeholder]="'Language' | translate " formControlName="languages_known" name="language">
                <mat-option *ngFor="let item of languageList" [value]="item._id">
                  {{item.languagename}}
                </mat-option>
              </mat-select>
              <!-- <mat-select [disabled]='cannotEdit' multiple
          [ngClass]="cannotEdit ? 'n dis inputs m-t-5px col-md-6 col-sm-12 col-12' : 'inputs m-t-5px col-md-6 col-sm-12 col-12'"
          placeholder="Language" formControlName="languages_known" name="language">
          <mat-option *ngFor="let item of languageList | sort: false : 'languagename'" [value]="item._id">
            {{item.languagename}}
          </mat-option>
        </mat-select>
        <ng-container *ngIf="lang">
            <input type="text" class="inputs col-md-6 col-sm-12 col-12"
           [ngClass]="cannotEdit ? 'dis inputs  color_blue  width_80' :
          'inputs  color_blue  width_80'"
           formControlName="languages_known">
          </ng-container> -->
            </div>
          </div>
        </div>

        <br *ngIf="!cannotEdit">
        <hr *ngIf="!cannotEdit" class="p-b-10px">
        <br *ngIf="!cannotEdit">




        <!-- ////////////Qualification row////////////// -->
        <label class="f_size_19 p-b-10px">{{'Qualification' | translate }}</label><span class="mand"> *</span><br>
        <div formArrayName="qualification" *ngFor="let qual of qualification.controls; let in=index">
          <div class="row p-b-10px" [formGroupName]="in">
            <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12 m-b-5px display_flex">


              <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" [placeholder]="'Level' | translate " formControlName="qualification"
                name="qualification" (selectionChange)="changed($event.value,in)">
                <mat-option [value]="lv._id" *ngFor="let lv of levelValue" [disabled]="lv.allowed=='N'"
                  (click)="checkSpec(qual,in,profileForm.qualification,lv)">
                  {{lv.level_name}}
                </mat-option>
              </mat-select>

              &nbsp;&nbsp;&nbsp;
              <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" [placeholder]="'Board/University' | translate "
                formControlName="board_university" name="board_university">
                <mat-option [value]="board._id" *ngFor="let board of boardValue[in], let univ of uniValue[in]">
                  {{board.Board_Name}}
                  {{univ.University_Name}}
                </mat-option>
              </mat-select>
              <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
            </div>
           
            <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12 m-b-5px display_flex">
              <!-- <mat-form-field *ngIf=""> -->
              <ng-container
                *ngIf="!qual.insCheck">
                <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" placeholder="Institute" formControlName="institute"
                  name="institute">
                  <mat-option [value]="item._id" *ngFor="let item of institutes">
                    {{item.institute_name}}
                  </mat-option>
                </mat-select>
              </ng-container>
              <!------------------------Institute textbox for 10th and 12th--------------------->
              <ng-container class="col-md-3 col-sm-12 col-12 display_flex"
                *ngIf="qual.insCheck">
                <input type="text" class="institute" [placeholder]="'Institute' | translate " [ngClass]="cannotEdit ? 'dis inputs color_blue background_trans width_80' :
     'inputs  background_trans width_80'" formControlName="institute">
              </ng-container>
              <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
              <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" [placeholder]="'Discipline' | translate " formControlName="discipline"
                name="discipline">
                <mat-option [value]="item._id" *ngFor="let item of disciplines[in]">
                  {{item.discipline_name}}
                </mat-option>
              </mat-select>

              <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
            </div>
            <!-- *ngIf="(qual?.value?.qualification !== '5e7dedc1dba4466d9704b3f2') && (qual?.value?.qualification !== '5e7deddfdba4466d9704b44a')" -->
            <div class="col-xl-3 col-lg-3 col-md-4  col-sm-12 col-12 m-b-5px display_flex">
              <ng-container
                *ngIf="!qual.insCheck">
                <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" [placeholder]="'Specification' | translate "
                  formControlName="specification" name="specification">
                  <mat-option [value]="item._id" *ngFor="let item of specValue">
                    {{item.specification_name}}
                  </mat-option>
                </mat-select>
              </ng-container>

              <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
              <ng-container>
                <input class="institute" type="tel" mask="0000" [ngClass]="cannotEdit ? 'dis inputs color_blue background_trans width_80' :
    'inputs  background_trans width_80'" [placeholder]="'Year of Passing' | translate " formControlName="year_of_passing"
                  (change)="yearOfpassing(in)">
              </ng-container>
            </div>

            <div class="col-xl-3 col-lg-3 col-md-4  col-sm-12 col-12 m-b-5px display_flex">
              <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
              <input type="tel" suffix="%" [ngClass]="cannotEdit ? 'dis inputs  width_50 color_label ' :
         'inputs  width_50'" [placeholder]="'Percentage' | translate " formControlName="percentage" maxlength="5"
                (blur)="formatPercentage(in)"
                oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
              <mat-icon *ngIf="!cannotEdit && profileForm.value.qualification.length > 1"
                (click)="removeQualification(in)" class="dIcon " [disabled]='cannotEdit'>delete_outline
              </mat-icon>
              <!-- <mat-icon *ngIf="!cannotEdit && profileForm.value.qualification.length > 1 && (qual?.value?.qualification !== '5e7dedc1dba4466d9704b3f2') && 
         (qual?.value?.qualification !== '5e7deddfdba4466d9704b44a')"
         (click)="removeQualification(in)" class="dIcon " [disabled]='cannotEdit'>delete_outline
       </mat-icon> -->
              <mat-icon (click)="addQualification(in)"
                *ngIf="!cannotEdit && in == profileForm.value.qualification.length -1 && profileForm.value.qualification.length < 15"
                class="addIcon">add
              </mat-icon>
              <!-- <div *ngIf="f.qualification && f.qualification[in] && f.qualification[in].percentage && f.qualification[in].percentage.touched && f.qualification[in].percentage.errors" class="mand">
         asdijsaio
       </div> -->
            </div>
          </div>
        </div>

        <br>
        <hr class="p-b-10px">
        <br>


        <label class="p-b-10px" class="f_size_19"> {{'Location' | translate }}</label>
        <span class="mand"> *</span>
        <br>

        <div class="row p-b-10px">
          <div class="col-md-4 col-lg-4 col-xl-3 col-sm-12 col-12">
            <div class="form-group width_100">
              <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs lap_s95' : 'inputs lap_s95'"
                [placeholder]="'Country' | translate " formControlName="country" name="country" (selectionChange)="getAllState()">
                <mat-option [value]="country._id" *ngFor="let country of countryValue">
                  {{country.countryname}}
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="col-md-4 col-lg-4 col-xl-3 col-sm-12 col-12 p-b-10px">
            <div class="form-group width_100">
              <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs lap_s95' : 'inputs lap_s95'"
                placeholder="State" formControlName="state" name="state" (selectionChange)="getDistrict()">
                <mat-option [value]="state._id" *ngFor="let state of stateValue">
                  {{state.statename}}
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="col-md-4 col-lg-4 col-xl-3 col-sm-12 col-12 p-b-10px">
            <div class="form-group width_100">
              <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs lap_s95' : 'inputs lap_s95'"
                [placeholder]="'District' | translate " formControlName="city_town" name="City">
                <mat-option [value]="city._id" *ngFor="let city of cityValue">
                  {{city.districtname}}
                </mat-option>
              </mat-select>
            </div>
          </div>
        </div>

        <br>
        <hr class="p-b-10px">
        <br>

        <!-- ////////////Certificate row////////////// -->
        <label class="p-b-10px" class="f_size_19">{{'Certificate' | translate }}</label><br>
        <div formArrayName="certificate" class="row p-b-10px"
          *ngFor="let certificate of certificate.controls; let i=index">
          <div class="col-xl-2 col-xl-2 col-lg-3 col-md-4 col-sm-4 col-8 display_flex">
            <input type="text" [ngClass]="cannotEdit ? 'dis inputs  color_label  width_100': 'inputs   width_100'"
              [placeholder]="'Certificate Link' | translate " formControlName="{{i}}">
            <!-- <mat-icon *ngIf="!cannotEdit && profileForm.value.certificate.length > 1" (click)="removeCertificates(i)"
         class="dIcon ">delete_outline</mat-icon>
       <mat-icon (click)="addCertificates(certificate.value,i)" *ngIf="!cannotEdit && i == profileForm.value.certificate.length -1 && 
         profileForm.value.certificate.length < 15" class="addIcon ">add
       </mat-icon> -->
          </div>
          <div class="col-md-1 col-sm-4 col-4 display_flex">
            <mat-icon *ngIf="!cannotEdit && profileForm.value.certificate.length > 1" (click)="removeCertificates(i)"
              class="dIcon ">delete_outline</mat-icon>
            <mat-icon (click)="addCertificates(certificate.value,i)" *ngIf="!cannotEdit && i == profileForm.value.certificate.length -1 && 
         profileForm.value.certificate.length < 15" class="addIcon ">add
            </mat-icon>
          </div>
        </div>

        <br>
        <hr>
        <br class="p-b-10px">

        <label class="p-b-10px" class="f_size_19">{{'Social media' | translate }}</label><br>
        <!-- ////////////Social Link row////////////// -->
        <div formArrayName="social_media" class="row p-b-10px"
          *ngFor="let social of social_media.controls; let ind=index">
          <div [ngClass]="cannotEdit ? 'col-xl-2 col-lg-2 col-md-3 col-sm-4 col-8 display_flex' :
       'col-md-2 col-sm-4 col-8 display_flex'" [formGroupName]="ind">
            <i class="fa fa-linkedin linkedin " style="
       cursor: default;
   " aria-hidden="true"></i>
            <input type="text" *ngIf="profileForm.value.link != '' && !cannotEdit" [ngClass]="cannotEdit ? 'inputs  width_80 dis' :
       'inputs  width_80'" [placeholder]="'Social media link' | translate " formControlName="link">
            <!-- {{profileForm.value.link}} -->
            <!-- <mat-icon (click)="addMediaLink()" class="p-5px" [disabled]='cannotEdit'>add_circle_outline
         </mat-icon>
         <mat-icon (click)="removeMediaLink(ind)" class="p-5px" [disabled]='cannotEdit'>delete</mat-icon> -->
          </div>
        </div>

        <!-- /////If professional////// -->
        <br *ngIf="profileForm.value.is_student_or_professional === 'professional'">
        <hr *ngIf="profileForm.value.is_student_or_professional === 'professional'">
        <br *ngIf="profileForm.value.is_student_or_professional === 'professional'">

        <div *ngIf="profileForm.value.is_student_or_professional == 'professional'">
          <label class="f_size_19 p-b-10px">{{'Experience' | translate }}</label><span class="mand"> *</span>
          <div class="row p-b-10px" formGroupName="professional">
            <div class="col-md-2 col-sm-4 col-8">
              <input type="text" [ngClass]="cannotEdit ? 'dis inputs width_80' :
           'inputs    width_80'" oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*)\./g, '$1');"
                [ngClass]="{ 'is-invalid': f.professional.controls.total_experience.touched && f.professional.controls.total_experience.errors }"
                [placeholder]="'Total Experience' | translate " formControlName="total_experience">
              <div class="mand" *ngIf="f.professional.controls.total_experience.touched && 
             f.professional.controls.total_experience.value > 70">{{'Total Experience should not be greater than 70' | translate }}
              </div>
              <div class="mand"
                *ngIf="f.professional.controls.total_experience.touched && f.professional.controls.total_experience.errors">
                <div *ngIf="f.professional.controls.total_experience.errors.required">{{'Total experience is required' | translate }}
                </div>
              </div>
            </div>
            <div class="col-md-2 col-sm-4 col-8">
              <input type="text" [ngClass]="cannotEdit ? 'dis inputs width_80' :
           'inputs    width_80'"
                [ngClass]="{ 'is-invalid': f.professional.controls.organization.touched && f.professional.controls.organization.errors }"
                [placeholder]="'Organization' | translate " formControlName="organization">
              <div *ngIf="f.professional.controls.organization.touched && f.professional.controls.organization.errors"
                class="mand">
                <div *ngIf="f.professional.controls.organization.errors.required">{{'Organization is required' | translate }}
                </div>
                <div *ngIf="f.professional.controls.organization.errors.pattern">{{'Organization is invalid' | translate }}
                </div>
                <div *ngIf="f.professional.controls.organization.errors.minlength">{{'Organization must be minimum of' | translate }}
                  {{f.professional.controls.organization.errors.minlength.requiredLength}} {{'characters' | translate }}
                </div>
              </div>
            </div>
            <div class="col-md-2 col-sm-4 col-8">
              <input type="text" [ngClass]="cannotEdit ? 'dis inputs width_80' :
           'inputs   width_80'" [placeholder]="'Job role' | translate " formControlName="job_role"
                [ngClass]="{ 'is-invalid': f.professional.controls.job_role.touched && f.professional.controls.job_role.errors }">
              <div *ngIf="f.professional.controls.job_role.touched && f.professional.controls.job_role.errors"
                class="mand">
                <div *ngIf="f.professional.controls.job_role.errors.required">{{'Job Role is required' | translate }}
                </div>
                <div *ngIf="f.professional.controls.job_role.errors.pattern">{{'Job role is invalid' | translate }}
                </div>
                <div *ngIf="f.professional.controls.job_role.errors.minlength">{{'Job Role must be minimum of' | translate }}
                  {{f.professional.controls.job_role.errors.minlength.requiredLength}} {{'characters' | translate }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <br *ngIf="cannotEdit">
        <hr>
        <br *ngIf="cannotEdit">

        <br> <br>
        <!-- //.Button -Submit -->
        <div class="row" *ngIf="!cannotEdit">
          <button mat-raised-button class="submit f_size_17 color_white f_wt_400" [disabled]="profileForm.invalid"
            (click)="updateProfile()">{{'SAVE' | translate }}</button>
        </div>
        <br> <br>









      </form>



      <!------------------------------Change Email Dialog---------------------->
      <ng-template #emailDialog>
        <span class="f_size_18 color_blue float_right">
          <i class="fa fa-times-circle-o" aria-hidden="true" (click)="closedialogbox()"></i>
        </span>
        <h1 class="head">{{'Change the Email ID' | translate }}</h1>
        <mat-dialog-content style="width: 300px;margin-top: 24px; height: 200px;">
          <form [formGroup]="mailForm">
            <div class="form-group">
              <label class="f_size_20 f_wt_400">{{'Enter new email id' | translate }}</label>
              <input type="text" formControlName="mailid" [placeholder]="'example@mail.com' | translate " class="form-control"
                [ngClass]="{ 'is-invalid': c.mailid.touched && c.mailid.errors }" required>
              <div *ngIf="c.mailid.touched && c.mailid.errors" class="invalid-feedback">
                <div *ngIf="c.mailid.errors.required">{{'Email is required' | translate }}</div>
                <div *ngIf="c.mailid.errors.pattern">{{'Email Id is invalid' | translate }}</div>
              </div>
            </div><br><br>
            <button   class="popupbtns" [disabled]="!mailForm.valid" (click)="updateEmail(mailForm.valid)">
              {{'Submit' | translate }}
            </button>
          </form><br>
        </mat-dialog-content>
        <mat-dialog-actions class="center_align">
          <div class="account" *ngIf="resendLabel">{{'Dont receive link?' | translate }}<button mat-raised-button
              class="no_border f_wt_500 background_trans color_blue" (click)="updateEmail(mailForm.valid)">{{'Resend
              link' | translate }}</button></div>
        </mat-dialog-actions>
      </ng-template>
      <!------------------------------Change mobileno Dialog---------------------->
      <ng-template #mobDialog>
        <span class="f_size_18 color_blue float_right">
          <i class="fa fa-times-circle-o" aria-hidden="true" (click)="closedialogbox()"></i>
        </span>
        <h1 class="head">{{'Change the Mobile No' | translate }}</h1>
        <mat-dialog-content style="width: 330px;margin-top: 24px;">
          <form [formGroup]="otpForm">
            <div class="form-group">
              <label class="f_size_20 f_wt_400">{{'Enter new mobile no' | translate }}</label>
              <input type="text" formControlName="mobile" placeholder="+91" maxlength="10" pattern="[1-9]{1}[0-9]{9}"
                mask="0000000000" class="form-control" [ngClass]="{ 'is-invalid': c.mobile.touched && c.mobile.errors}"
                required />
              <div *ngIf="c.mobile.errors" class="invalid-feedback">
                <div *ngIf="c.mobile.errors.required">{{'Mobile Number is required' | translate }}</div>
                <div *ngIf="c.mobile.errors.pattern">{{'Mobile Number is invalid' | translate }}</div>
                <div *ngIf="c.mobile.errors.minlength || c.mobile.errors.maxlength">{{'Mobile Number must be 10 digits' | translate }}
                </div>
              </div>
            </div>
            <p class="f_wt_500 color_blue float_left">{{'OTP will be send to this number' | translate }}</p>
            <div *ngIf="showotp"><br>
              <p class="f_wt_500 color_blue float_left">{{'OTP Code' | translate }}</p>
              <div class="otp">
                <ng-otp-input [config]="config" formControlName="otp" (onInputChange)="onOtpChange($event)" mask="0">
                </ng-otp-input>
              </div><br>
              <div>
                <p>{{minutes}}:{{seconds}}</p>
              </div>
              <br><br>
            </div>
            <div *ngIf="showotp">
              <button  class="popupbtns" [disabled]="verifybutton" (click)="otpverify()">{{'Verify' | translate }}</button>
            </div><br>
            <div *ngIf="showotp" class="account color_blue center_align pointer">Didn't get OTP?<button
                class="no_border f_wt_500 background_trans color_blue" (click)="Resendcode()">{{'Resend
                OTP' | translate }}</button></div>
          </form>
        </mat-dialog-content>
        <mat-dialog-actions *ngIf="isenable">
          <button class="popupbtns" [disabled]="!otpForm.valid" (click)="otpverification()">
            {{'Verify' | translate }}
          </button><br><br>
        </mat-dialog-actions>
      </ng-template>
      <!---------------------------------Password Dialog--------------------------------->
      <ng-template #passwordDialog>
        <span class="f_size_18 color_blue float_right">
          <i class="fa fa-times-circle-o" aria-hidden="true" (click)="closedialogbox()"></i>
        </span>
        <h1 class="head">{{'Change the Password' | translate }}</h1>
        <mat-dialog-content style="width: 380px;margin-top: 24px;">
          <form [formGroup]="passwordForm">
            <label class="f_size_19 f_wt_400">{{'Enter the current password' | translate }}</label>
            <div class="form-group">
              <input [type]="show ? 'text' : 'password'" name="password" formControlName="currentpassword"
                onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false"
                class="form-control"
                [ngClass]="{ 'is-invalid': c.currentpassword.touched && c.currentpassword.errors }" />
              <i [class]="show ? 'fa fa-eye errspan' : 'fa fa-eye-slash errspan'" (click)="show = !show"
                aria-hidden="true"></i>
              <div *ngIf="c.currentpassword.touched && c.currentpassword.errors" class="invalid-feedback">
                <div *ngIf="c.currentpassword.errors.required">{{'Current Password is required' | translate }}</div>
                <div *ngIf="c.currentpassword.errors.minlength">{{'Current Password must be at least 8 characters' | translate }}</div>
                <div *ngIf="c.currentpassword.errors.pattern">{{'Your password must contain at least one number and
                  have a
                  mixture of Special characters, uppercase and lowercase letters.' | translate }}</div>
              </div>
            </div><br>


            <label class="f_size_19 f_wt_400">{{'Enter the new password' | translate }}</label>
            <div class="form-group">
              <input [type]="showNew ? 'text' : 'password'" name="password" formControlName="newpassword"
                onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false"
                class="form-control "
                [ngClass]="{ 'is-invalid': c.newpassword.touched && c.newpassword.errors }" (keyup)="change($event)" />
              <i [class]="showNew ? 'fa fa-eye errspan' : 'fa fa-eye-slash errspan'" (click)="showNew = !showNew"
                aria-hidden="true"></i>
              <div *ngIf="c.newpassword.touched && c.newpassword.errors" class="invalid-feedback">
                <div *ngIf="c.newpassword.errors.required">{{'New Password is required' | translate }}</div>
                <div *ngIf="c.newpassword.errors.minlength">{{'New Password must be at least 8 characters' | translate }}</div>
                <div *ngIf="c.newpassword.errors.pattern">{{'Your password must contain at least one number and have a
                  mixture of Special characters, uppercase and lowercase letters.' | translate }}</div>
                <div *ngIf="c.newpassword.errors.mustMatch"> {{'Passwords must be same' | translate }}</div>
              </div>
            </div><br>
            <div class="box" id="message">
              <div class="row">
                <div class="col">
                  <p *ngIf="uppercase" id="uppercase" class="valid"><i class="fa fa-check" aria-hidden="true"></i>
                    {{'Uppercase' | translate }}</p>
                  <p *ngIf="lowercase" id="lowercase" class="valid"><i class="fa fa-check" aria-hidden="true"></i>
                    {{'Lowercase' | translate }}</p>
                </div>
                <div class="col">
                  <p *ngIf="spicalcharacter" id="specialcharacter" class="valid"><i class="fa fa-check"
                      aria-hidden="true"></i> {{'Special character' | translate }}</p>
                  <p *ngIf="number" id="number" class="valid"><i class="fa fa-check" aria-hidden="true"></i> {{'Number' | translate }}
                  </p>
                </div>
              </div>
            </div>
            <p class="head f_size_17">{{'The password should not be last password' | translate }}</p>
            <label class="f_size_19 f_wt_400">{{'Confirm the new password' | translate }}</label>
            <div class="form-group">
              <input [type]="showConNew ? 'text' : 'password'" name="password" formControlName="confirmpassword"
                onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false"
                class="form-control"
                [ngClass]="{ 'is-invalid': c.confirmpassword.touched && c.confirmpassword.errors }" />
              <i [class]="showConNew ? 'fa fa-eye errspan' : 'fa fa-eye-slash errspan'"
                (click)="showConNew = !showConNew" aria-hidden="true"></i>
              <div *ngIf="c.confirmpassword.touched && c.confirmpassword.errors" class="invalid-feedback">
                <div *ngIf="c.confirmpassword.errors.mustMatch">{{'Should be same as password' | translate }}</div>
              </div>
            </div>
          </form>
        </mat-dialog-content><br>
        <mat-dialog-actions>
          <button class="popupbtns" [disabled]="passwordForm.invalid" (click)="updatePassword()">
            {{'Submit' | translate }}
          </button><br><br>
        </mat-dialog-actions>
      </ng-template>
    </div>





  </div>
</div>

<!-- DEBUG
<br><br><br>VALID : <br>
<pre>about_you : {{profileForm.get('about_you').valid}}</pre>
<pre>gender : {{profileForm.get('gender').valid}}</pre>
<pre>is_student_or_professional : {{profileForm.get('is_student_or_professional').valid}}</pre>
<pre>languages_known : {{profileForm.get('languages_known').valid}}</pre>
<pre>country : {{profileForm.get('country').valid}}</pre>
<pre>state : {{profileForm.get('state').valid}}</pre>
<pre>city_town : {{profileForm.get('city_town').valid}}</pre>
<pre>progress : {{profileForm.get('progress').valid}}</pre>
<pre>certificate : {{profileForm.get('certificate').valid}}</pre>
<pre>qualification : {{profileForm.get('qualification').valid}}</pre>
<pre>social_media : {{profileForm.get('social_media').valid}}</pre>
<pre>professional : {{profileForm.get('professional').valid}}</pre>
<br> -->

<!-- {{profileForm.value | json}} -->