<app-header></app-header>
<div class="space"></div>
<button mat-button class="backbtn">
    <mat-icon [routerLink]="['/Learner/home']" class="backIcon">keyboard_backspace</mat-icon>
    &nbsp; Back to my course
</button>

<div class="row">
    <div class="col-12">
        <h1 class="name">{{course?.course_name | titlecase }}</h1>
    </div>
</div>

<mat-drawer-container [class.drawer-opened]="drawer.opened" class="example-container">
  <mat-drawer #drawer  class="drawer"  mode="side"  opened="true">
    <mat-toolbar class="header">
                <div class="row margin-15">
                    <div class="col-6 Outine">
                        Course outline
                    </div> |
                    <div class="col-6">
                        <div class="row">
                            <div class="col-2">
                                <mat-icon  class="alarmIcon">alarm</mat-icon>
                            </div>
                            <div class="col-4">
                                <span style="font-size: 12px; display: flex;margin-left: -12px;">{{courseTime}}</span>
                            </div>
                        </div>
                    </div>
        </div>
      <mat-icon class="close" (click)="drawer.close()">menu</mat-icon>
    </mat-toolbar>
    <div class="contents">
        
        <mat-accordion *ngFor="let res of course?.topicData; let i = index">
            <mat-expansion-panel class="panel" hideToggle="true" #example>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <span class="sqnumner">{{i+1}}</span>&nbsp;&nbsp; {{res?.modulename}}<br>
                    </mat-panel-title>
                    <mat-icon *ngIf="!example.expanded">add_circle_outline
                    </mat-icon>
                    <mat-icon *ngIf="example.expanded">remove_circle_outline
                    </mat-icon>
                </mat-expansion-panel-header>
                <div class="row" *ngFor="let mod of res?.moduledetails">
                    <div class="col-8">
                            <li><span>{{mod?.topicname}}</span></li>
                    </div>
                    <div class="col-4"><br>
                    </div>
                </div>
            </mat-expansion-panel>

        </mat-accordion>
    </div>
  </mat-drawer>

  <div class="main contents">
    <div class="videoplayer">
        <div class="left">
            <mat-icon *ngIf="!drawer.opened"  (click)="drawer.toggle()">menu</mat-icon>
            <iframe class="player" [src]="urlSafe"></iframe>
        </div>
    </div>
    <div class="margin-7per">
        <mat-tab-group>
            <mat-tab label="About the course">
                <h3 class="head-h1">Course description</h3>
                <div class="vertical"></div> 

                <div class="curInclu">This course includes :</div>
                <div class="row">
                    <div style="max-width: 180px;margin-left: -14px;" class="col-3">
                        <span class="font-color">20 hrs on demand video</span>
                    </div> |
                    <div style="max-width: 211px;" class="col-3">
                        <span class="font-color">136 downloadable resources</span>
                    </div> |
                    <div style="max-width: 100px;" class="col-2">
                        <span class="font-color">Self paced</span>
                    </div> |
                    <div style="max-width: 78px;" class="col-2">
                        <span class="font-color">English</span>
                    </div> |
                    <div class="col-2">
                        <span class="font-color">4 Days</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <p class="desc">
                            {{course?.course_description}}
                        </p>
                    </div>
                </div>
            </mat-tab>

            <mat-tab label="Resources">
               <mat-accordion >
            <mat-expansion-panel class="panel1" hideToggle="true" #example1 *ngFor="let res of content?.coursedetails; let i = index">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <span class="sqnumner">{{i+1}}</span>&nbsp;&nbsp;{{res?.modulename}}<br>
                    </mat-panel-title>
                    <mat-icon *ngIf="!example1.expanded">add_circle_outline
                    </mat-icon>
                    <mat-icon *ngIf="example1.expanded">remove_circle_outline
                    </mat-icon>
                </mat-expansion-panel-header>

                <div class="row margin-5">
                    <div class="col-12">
                        <section class="accordion" *ngFor="let mod of res?.moduledetails">
                          <input type="checkbox" name="collapse" [id]="mod?.topicname">
                          <h2 class="handle">
                            <label [for]="mod?.topicname"><span>{{mod?.topicname}}</span></label>
                          </h2>
                          <div class="content">
                            <div class="row" *ngFor="let file of mod.resourse?.files" >
                              <div class="col-12">
                                  <div class="row">
                                      <div class="col-2">
                                        <i class="fa fa-file-text size" aria-hidden="true"></i> 
                                      </div>
                                      <div class="col-6">
                                        {{file.type_name}}  
                                    </div>
                                    <div class="col-2" *ngIf="file?.size">
                                        {{file.size}}
                                    </div>
                                    <div class="col-2">
                                        <a class="link"  href="{{file?.path}}" download></a>
                                    </div>
                                  </div>
                                <!-- <a class="link"  href="{{file.path}}" download><i class="fa fa-file-text size" aria-hidden="true"></i>    {{file.type_name}}   <b class="size" *ngIf="file.size">({{file.size}})</b></a> -->
                               
                              </div>
                  
                            </div>
                          </div>
                        </section>
                    </div>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
            </mat-tab>
            <mat-tab label="Forum">
                Content 3
            </mat-tab>
        </mat-tab-group>
    </div>

  
    <div class="row margin-10">
        <div class="col-12">
            <h3 class="head-h2">Instructors</h3>
            <div class="vertical"></div>
            <div class="silder1">
                <owl-carousel-o [options]="customOptions"
                    [ngClass]="course?.author_details.lenght <= 3 ? 'widthClass arrow' : 'arrow'">
                    <ng-template carouselSlide [id]="author.author_name"
                        *ngFor="let author of course?.author_details">
                        <div class="instr-box" *ngIf="course?.author_details.lenght > 0">
                            <div class="row">
                                <div class="col-4">
                                    <img class="img-inst"[src]="author.image ? author?.image : 'assets/learner/pro2.png'"
                                    alt="">
                                </div>
                                <div class="col-6">
                                    <div class="authorname">{{author?.author_name | titlecase}}</div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 borderline">
                                    <p class="author-desc">{{author?.description}}</p>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </owl-carousel-o>
            </div>
        </div>
    </div>
    <div style="height: 100px">&nbsp;</div>
  </div>
</mat-drawer-container>