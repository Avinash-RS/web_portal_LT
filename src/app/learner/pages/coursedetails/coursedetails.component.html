<app-header></app-header>
<div class="space"></div>
<button mat-button class="backbtn" [routerLink]="['/Learner/home']">
    <mat-icon class="backIcon">keyboard_backspace</mat-icon>
    &nbsp; Back to my course
</button>

<div class="row">
    <div class="col-12">
        <h1 class="name">{{course?.course_name | titlecase }}</h1>
    </div>
</div>


<mat-drawer-container [class.drawer-opened]="drawer.opened" class="course-details-container">
    <mat-drawer #drawer class="drawer" mode="side" opened="true">
        <mat-toolbar class="header">
            <div class="row margin-15">
                <div class="col-6 Outine">
                    Course outline
                </div> |
                <div class="col-6">
                    <div class="row">
                        <div class="col-2">
                            <mat-icon class="alarmIcon">alarm</mat-icon>
                        </div>
                        <div class="col-4">
                            <span class="courseTime">{{courseTime}}</span>
                        </div>
                    </div>
                </div>
            </div>
            <mat-icon class="close" (click)="drawer.close()">menu</mat-icon>
        </mat-toolbar>
        <div class="contents">

            <mat-accordion *ngFor="let res of scromModuleData; let i = index">
                <mat-expansion-panel class="panel" hideToggle="true" #example>
                    <mat-expansion-panel-header>
                        <mat-panel-title class="module-container">
                            <!-- <span class="sqnumner">{{i+1}}</span>&nbsp;&nbsp; {{res?.modulename}} -->
                            <span>
                                <span class='index-number'>{{i+1}}</span>
                                <span style="padding-left:10px;font-weight: 500;">
                                    {{res?.title}}
                                </span>
                            </span>
                            <span style="margin-left:40px;font-weight: 500;height: 20px;">
                                <mat-icon class="time-icon">alarm</mat-icon>
                                <span class="course-time">
                                    {{res?.moduletime}}
                                </span>
                            </span>

                        </mat-panel-title>
                        <span *ngIf="res?.status == 'Passed'" class="material-icons mod-check-iconmod-check-icon">done</span>
                        <mat-icon *ngIf="!example.expanded" class="exp-icon">add_circle_outline
                        </mat-icon>
                        <mat-icon *ngIf="example.expanded" class="exp-icon">remove_circle_outline
                        </mat-icon>

                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-12">
                            <mat-vertical-stepper [linear]="isLeaner">
                                <ng-container *ngFor="let mod of res?.children; let j = index" >
                                        <mat-step [aria-labelledby]="mod.status === 'Passed' ? 'colgreen' : 
                                        mod.status === 'Process' ? 'colYellow' : 'colWhite'" >

                                            <ng-template  matStepLabel> 
                                                <span  (click)="playTopic(mod.link,mod.title,mod.status,res?.title,res?.status,res?.topic_len,j + 1)">
                                                {{mod?.title}}</span>
                                            </ng-template>
                                        </mat-step>
                                </ng-container>
                            </mat-vertical-stepper>
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </mat-drawer>

    <div class="main contents">
        <div class="spinner-container" *ngIf="loading">
            <mat-spinner diameter="40"></mat-spinner>
          </div>
        <!-- <div class="videoplayer"> -->
            <!-- <div class="left"> -->
                <mat-icon *ngIf="!drawer.opened" (click)="drawer.toggle()">menu</mat-icon>
                <iframe class="player" [src]="urlSafe"></iframe>
            <!-- </div> -->
        <!-- </div> -->
        <div class="">
            <mat-tab-group>
                <mat-tab label="About the course">
                    <h3 class="head-h1">Course description</h3>
                    <div class="vertical"></div>

                    <div class="curInclu">This course includes :</div>
                    <div class="row">
                        <div style="max-width: 180px;margin-left: -14px;" class="col-3">
                            <span class="font-color">20 hrs on demand video</span>
                        </div> |
                        <div style="max-width: 211px;" class="col-3">
                            <span class="font-color">{{course?.totalResourseCount}} downloadable resources</span>
                        </div> |
                        <div style="max-width: 100px;" class="col-2">
                            <span class="font-color">
                                {{course?.course_mode === 'self-placed' ? 'Self paced' : course?.course_mode}}</span>
                        </div> |
                        <div style="max-width: 78px;" class="col-2">
                            <span class="font-color">{{course?.course_language}}</span>
                        </div>
                        <!-- |
                    <div class="col-2">
                        <span class="font-color">4 Days</span>
                    </div> -->
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="desc" [innerHTML]="course?.course_long_description" >
                               
                            </div>
                        </div>
                    </div>
                    <div *ngIf="course?.author_details[0].author_name != ''">
                        <h3 class="head-h2">Instructors</h3>
                        <div class="vertical"></div>
                        <div class="instr-box" *ngFor="let author of course?.author_details">
                            <div class="row">
                                <div class="col-4">
                                    <img class="img-inst"
                                        [src]="author.image ? author?.image : 'assets/learner/pro2.png'" alt="">
                                </div>
                                <div class="col-6">
                                    <div class="authorname">{{author?.author_name | titlecase}}</div>
                                </div>

                                <div class="row margin-35 borderline">
                                    <div class="col-12">
                                        <p class="author-desc">{{author?.description}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>

                <mat-tab label="Resources">
                    <mat-accordion>
                        <ng-container *ngFor="let res of content?.coursedetails; let i = index">
                            <mat-expansion-panel class="panel1" hideToggle="true" #example1 *ngIf="res.resValue">
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        <span class="sqnumner">{{i+1}}</span>&nbsp;&nbsp;{{res?.modulename}}<br>
                                    </mat-panel-title>
                                    <mat-icon *ngIf="!example1.expanded">add_circle_outline
                                    </mat-icon>
                                    <mat-icon *ngIf="example1.expanded">remove_circle_outline
                                    </mat-icon>
                                </mat-expansion-panel-header>


                                <div class="row margin-5" *ngIf="res.resValue">
                                    <div class="col-12">
                                        <section class="accordion" *ngFor="let mod of res?.moduledetails">
                                            <ng-container *ngIf="mod.resourse?.files.length">
                                                <input type="checkbox" name="collapse" [id]="mod?.topicname">
                                                <h2 class="handle">
                                                    <label
                                                        [for]="mod?.topicname"><span>{{mod?.topicname}}</span></label>
                                                </h2>
                                                <div class="content">
                                                    <div class="row" *ngFor="let file of mod.resourse?.files">
                                                        <div class="col-12" style="margin-top:6px">
                                                            <div class="row">
                                                                <img *ngIf="file.doc_type == 'application/pdf'"
                                                                    class="size" alt=""
                                                                    src="assets/learner/fileicon/PDF_Icon.svg">
                                                                <img *ngIf="file.doc_type == 'link'" class="size" alt=""
                                                                    src="assets/learner/fileicon/Link_Icon.svg">
                                                                <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"
                                                                    class="size" alt=""
                                                                    src="assets/learner/fileicon/Excel_Icon.svg">
                                                                <img *ngIf="file.doc_type == 'image/jpeg' || file.doc_type == 'image/png' "
                                                                    class="size" alt=""
                                                                    src="assets/learner/fileicon/Image_Icon.svg">
                                                                <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.presentationml.presentation'"
                                                                    class="size" alt=""
                                                                    src="assets/learner/fileicon/PPT_Icon.svg">
                                                                <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                    class="size" alt=""
                                                                    src="assets/learner/fileicon/Word_Icon.svg">
                                                                <mat-icon class="docType"
                                                                    *ngIf="file.doc_type == 'text/plain' ">description
                                                                </mat-icon>
                                                                <div class="col-8">
                                                                    {{file.type_name}}
                                                                </div>
                                                                <div class="col-2 f_size_12" *ngIf="file?.size">
                                                                    {{file.size}}
                                                                </div>
                                                                <div class="col-1">
                                                                    <a href="{{file?.path}}" download>
                                                                        <mat-icon style="color: #333;font-size: 20px;">
                                                                            save_alt </mat-icon>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </section>
                                    </div>
                                </div>
                            </mat-expansion-panel>
                        </ng-container>
                    </mat-accordion>
                </mat-tab>
                <!-- <mat-tab label="Forum" >
         
            </mat-tab> -->
            </mat-tab-group>
        </div>


        <div style="height: 100px">&nbsp;</div>
    </div>
</mat-drawer-container>


<div class="footer">
    <!-- <span class="float_left">2020 LARSEN & TOUBRO LIMITED. All rights reserved.</span> <span class="float_right">Copyright & Terms | Privacy Policy</span> -->
  
    <span class="center_align">Â© 2020 L&T EduTech. &nbsp; &nbsp; | &nbsp; &nbsp;
      <span class="powered">Powered by :
        <img class="footericon" alt="" src="assets/learner/LT_small.svg">
      </span>
    </span>
  
  </div>