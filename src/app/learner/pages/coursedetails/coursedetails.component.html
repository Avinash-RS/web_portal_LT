<!-- <span *ngIf="sider"> -->
    <!-- Added for course restriction(DRM) -->
    <div oncontextmenu="return false">
        <app-header></app-header>
        <!-- </span> -->
        <!-- <div style="height: 2px;" (mouseover)="sider=true"></div> -->
        <div class="container007 animated animatedFadeInUp fadeInUp bodybg">
            <div>
                <mat-drawer-container [class.drawer-opened]="drawer.opened" class="example-container">
                    <mat-drawer #drawer class="drawer" mode="side" opened="{{drawersOpen}}">
        
                        <div [ngClass]="viewScrollBar ? 'afterHover': 'beforeHover'">
                            <mat-toolbar class="header">
        
                                <mat-icon *ngIf="!drawer.opened" (click)="drawer.toggle()"> menu </mat-icon>
                                <div class="d-flex justify-content-between align-items-center leftHeaderWrapper">
                                    <div class="Outine">
                                        {{'Course Outline' | translate }}
                                    </div>
                                    <div class="divider">
                                        <span> | </span>
                                    </div>
                                    <div class="thirdRow d-flex justify-content-between align-items-center">
                                        <div class="alarmTiming d-flex justify-content-between align-items-center">
                                            <!-- Satish demo comment -->
                                            <!-- ? content?.coursetime : '01:00:00' -->
                                            <!-- <span
                                                class="courseTime">{{content?.coursetime? content?.coursetime : '01:00:00'}}</span> -->
                                            <mat-icon class="alarmIcon">alarm</mat-icon>
                                            <span class="courseTime">16:00:00</span>
                                        </div>
                                        <div class="closeBtn">
                                            <mat-icon *ngIf="drawer.opened" (click)="drawer.close()">close</mat-icon>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="row">
                                    <div class="col-4 Outine">
                                        {{'Course Outline' | translate }}
                                    </div>
                                    <div class="col-3 divider">
                                        <span> | </span>
                                    </div>
                                    <div class="col-5">
                                        <div class="row time">
                                            <div class="col-2">
                                                <mat-icon class="alarmIcon">alarm</mat-icon>
                                            </div>
                                            <div class="col-4">
                                                    <span
                                                    class="courseTime">16:00:00</span>
                                            </div>
                                            <div class="col-4 col-md-2">
                                                <mat-icon class="closeBtn" *ngIf="drawer.opened" (click)="drawer.close()">close
                                                </mat-icon>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                            </mat-toolbar>
        
                            <div class="row">
                                <div class="contents" (mouseenter)="viewScrollBar = true" (mouseleave)="viewScrollBar = false">
                                    <!-- getModuleDataForForum(scromModuleData?.length, i + 1, res)" -->
                                    <!-- Level 1 -->
                                    <!-- <div style="padding-top: 1em;
                                        font-size: 16px;
                                        padding-left: 14px;">{{'WK-' + scromModuleData.length}}</div> -->
                                    <mat-accordion *ngFor="let res of scromModuleData; let i = index" multi displayMode=""
                                        (click)="getSelectedIndex(i); ">
                                        <mat-expansion-panel class="panel" hideToggle="true" #example
                                            [expanded]="moduleHolder === i">
                                            <mat-expansion-panel-header class="moduleHeadHight">
                                                <mat-panel-title class="module-container">
                                                    <div style="margin-bottom: 3px;">
                                                        Week-{{i+1}}
                                                    </div>
                                                        <div class="row titleHeight">
                                                            <div>
                                                                <mat-icon *ngIf="res?.status == 'Passed'" class="material-icons mar">done </mat-icon>
                                                            </div>
                                                           
                                                            <div
                                                            [ngClass]="res?.status == 'Passed'? 'index-number-read' : 'index-number-unread'">
                                                                <span class="custom-index">{{i+1}}.</span>
                                                            </div>
                                                            <div>
                                                                <div
                                                                [ngClass]="res?.status == 'Passed'? 'index-number-read' : 'index-number-unread'">
                                                                    <div class="modhead">
                                                                        <p *ngIf="res?.title?.length >= 67" class="moduleName"
                                                                            tooltip="{{res?.title}}" placement="right">
                                                                            {{res?.title | slice:0:71}}...</p>
                                                                        <p *ngIf="res?.title?.length < 67" class="moduleName">
                                                                            <!-- {{res?.title}} -->
                                                                            {{res?.title}}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    <!-- </div> -->
        
                                                    <!-- <div class="row">
                                                            <div class="moduleund">
                                                                <span class="time-icon">
                                                                    <mat-icon class="time-icon">alarm</mat-icon>
                                                                    {{res?.moduletime ? res?.moduletime : '01:00:00' }}
                                                                </span>
                                                            </div>
                                                        </div> -->
            
                                                    </mat-panel-title>
            
                                                    <mat-icon *ngIf="!example.expanded" class="exp-icon">add_circle_outline
                                                    </mat-icon>
                                                    <mat-icon *ngIf="example.expanded" class="exp-icon">remove_circle_outline
                                                    </mat-icon>
                                                </mat-expansion-panel-header>
            
                                                <div class="row"  *ngIf = "treeCourse == true">
                                                    <div class="col-12" *ngFor="let mod of res?.children; let j = index" >
                                                        <!-- Level 2 -->
                                                        <!-- <div > -->
                                                            <mat-accordion  (click)="getsubSelectedIndex(j);">
                                                                <mat-expansion-panel class="panel"  hideToggle="true"  #example1
                                                                [expanded]="selectedIndex1 === j">
                                                                <mat-expansion-panel-header class="moduleHeadHight">
                                                                    <mat-panel-title class="module-container">
                                                                        <span class="topicnm"
                                                                        >
                                                                        <p class="titleName" *ngIf="mod?.title?.length >= 65"
                                                                            tooltip="{{mod?.title}}" placement="right">
                                                                            {{mod?.title | slice:0:69}}...
                                                                        </p>
        
                                                                    </span>
        
                                                                    <span class="topicnm" *ngIf="mod?.title?.length < 65">
        
                                                                        <p class="titleName">
                                                                            {{mod?.title}}
                                                                        </p>
                                                                    </span>
                                                                    </mat-panel-title>
                                                                    <mat-icon *ngIf="!example1.expanded" class="exp-icon-sub">add_circle_outline
                                                                    </mat-icon>
                                                                    <mat-icon *ngIf="example1.expanded" class="exp-icon-sub">remove_circle_outline
                                                                    </mat-icon>
                                                                </mat-expansion-panel-header>
                                                                <div class="row">
                                                                    <div class="col-12">
                                                                        <!-- Level 3 -->
                                                                        <mat-accordion (click)="getsupersubSelectedIndex(k);" *ngFor="let thiredLvl of mod?.children; let k = index" >
                                                                            <mat-expansion-panel class="panel"  hideToggle="true"  #example1
                                                                            [expanded]="selectedIndex2 === k">
                                                                            <mat-expansion-panel-header class="moduleHeadHight">
                                                                                <mat-panel-title class="module-container">
                                                                                    <span class="topicnm"
                                                                                        *ngIf="thiredLvl?.title?.length >= 65"
                                                                                        tooltip="{{thiredLvl?.title}}"
                                                                                        placement="right">
                                                                                        <p class="titleName">
                                                                                            {{thiredLvl?.title | slice:0:56}}...
                                                                                        </p>
        
                                                                                    </span>
        
                                                                                    <span class="topicnm"
                                                                                        *ngIf="thiredLvl?.title?.length < 65">
        
                                                                                        <p class="titleName">
                                                                                            {{thiredLvl?.title}}
                                                                                        </p>
                                                                                    </span>
        
                                                                                </mat-panel-title>
                                                                                <mat-icon *ngIf="!example1.expanded"
                                                                                    class="exp-icon-supersub">add_circle_outline
                                                                                </mat-icon>
                                                                                <mat-icon *ngIf="example1.expanded"
                                                                                    class="exp-icon-supersub">
                                                                                    remove_circle_outline
                                                                                </mat-icon>
                                                                            </mat-expansion-panel-header>
                                                                            <!-- Level 4 -->
                                                                            <mat-vertical-stepper [linear]="isLeaner"
                                                                                [ngClass]="thiredLvl?.title?.length > 39?'headerDown': ''">
                                                                                <ng-container
                                                                                    *ngFor="let fourLvl of thiredLvl?.children; let l = index">
                                                                                    <mat-step
                                                                                        [aria-labelledby]="fourLvl?.status === 'Passed' ? 'colgreen' :  fourLvl?.status === 'process' ? 'colYellow' : 'colWhite'">
                                                                                        <ng-template matStepLabel>
                                                                                            <span class="topicnm"
                                                                                                *ngIf="fourLvl?.title?.length >= 65"
                                                                                                tooltip="{{fourLvl?.title}}"
                                                                                                placement="right"
                                                                                                (click)="playTopic(fourLvl.link,fourLvl.title,fourLvl.status,fourLvl?.title,fourLvl?.status,scromModuleData?.length,fourLvl?.topic_len,l + 1,i)">
                                                                                                <p class="titleName">
                                                                                                    {{fourLvl?.title | slice:0:56}}...
                                                                                                </p>
        
                                                                                            </span>
        
                                                                                            <span class="topicnm"
                                                                                                *ngIf="fourLvl?.title?.length < 65"
                                                                                                (click)="playTopic(fourLvl.link,fourLvl.title,fourLvl.status,fourLvl?.title,fourLvl?.status,scromModuleData?.length,fourLvl?.topic_len,l + 1,i)">
        
                                                                                                <p class="titleName">
                                                                                                    {{fourLvl?.title}}
                                                                                                </p>
                                                                                            </span>
        
                                                                                        </ng-template>
                                                                                    </mat-step>
                                                                                </ng-container>
                                                                            </mat-vertical-stepper>
                                                                            <!-- <mat-accordion (click)="getfourSelectedIndex(l);" *ngFor="let fourLvl of thiredLvl?.children; let l = index" >
                                                                                <mat-expansion-panel class="panel" *ngIf="fourLvl?.children?.length > 0" hideToggle="true"  #example1
                                                                                [expanded]="selectedIndex3 === l">
                                                                                <mat-expansion-panel-header class="moduleHeadHight">
                                                                                    <mat-panel-title class="module-container">
                                                                                        <span class="topicnm"
                                                                                        >
                                                                                        <p class="titleName" *ngIf="fourLvl?.title?.length >= 65"
                                                                                            tooltip="{{fourLvl?.title}}" placement="right">
                                                                                            {{fourLvl?.title | slice:0:56}}...
                                                                                        </p>
                                                                                        <p class="titleName" *ngIf="fourLvl?.title?.length < 65">
                                                                                            {{fourLvl?.title}}
                                                                                        </p>
                                                                                    </span>
                                                                                    </mat-panel-title>
                                                                                    <mat-icon *ngIf="!example1.expanded" class="exp-icon-supersub">add_circle_outline
                                                                                    </mat-icon>
                                                                                    <mat-icon *ngIf="example1.expanded" class="exp-icon-supersub">remove_circle_outline
                                                                                    </mat-icon>
                                                                                </mat-expansion-panel-header>
                                                                            </mat-expansion-panel>
                                                                            </mat-accordion> -->
                                                                            <!-- Level 4 end  -->
                                                                        </mat-expansion-panel>
                                                                    </mat-accordion>
                                                                    <!-- Level 3 end -->
                                                                </div>
                                                            </div>
                                                        </mat-expansion-panel>
        
                                                    </mat-accordion>
                                                    <!-- </div> -->
        
                                                    <!-- Level 2 end -->
        
                                                </div>
                                            </div>
        
        
                                            <div *ngIf="treeCourse != true">
                                                <mat-vertical-stepper [linear]="isLeaner"
                                                    [ngClass]="res?.title?.length > 39?'headerDown': ''">
                                                    <ng-container *ngFor="let mod of res?.children; let j = index">
                                                        <mat-step
                                                            [aria-labelledby]="mod?.status === 'Passed' ? 'colgreen' :  mod?.status === 'process' ? 'colYellow' : 'colWhite'">
                                                            <ng-template matStepLabel>
                                                                <span class="topicnm" *ngIf="mod?.title?.length >= 65"
                                                                    tooltip="{{mod?.title}}" placement="right"
                                                                    (click)="playTopic(mod.link,mod.title,mod.status,res?.title,res?.status,scromModuleData?.length,res?.topic_len,j + 1,i)">
                                                                    <p class="titleName" [ngClass]="(j===nextPrevHolder && i===moduleHolder) ? 'titleSelected' : ''">
                                                                        {{mod?.title | slice:0:56}}...
                                                                    </p>
        
                                                                </span>
        
                                                                <span class="topicnm" *ngIf="mod?.title.length < 65"
                                                                    (click)="playTopic(mod.link,mod.title,mod.status,res?.title,res?.status,scromModuleData?.length,res?.topic_len,j + 1,i)">
        
                                                                    <p class="titleName" [ngClass]="(j===nextPrevHolder && i===moduleHolder) ? 'titleSelected' : ''">
                                                                        {{mod?.title}}
                                                                    </p>
                                                                </span>
        
                                                            </ng-template>
                                                        </mat-step>
                                                    </ng-container>
                                                </mat-vertical-stepper>
                                            </div>
        
                                        </mat-expansion-panel>
                                    </mat-accordion>
                                    <!-- Level 3 end -->
                                </div>
                            </div>
        
        
                        </div>
                    </mat-drawer>
        
                    <!-- header menu starts here -->
        
                    <div [ngClass]="drawer.opened==true?'main-opn':'main-cls'">
                        <mat-toolbar>
                            <mat-icon class="drawerHamIcon" *ngIf="!drawer.opened" (click)="drawer.toggle()">
                                menu
                            </mat-icon>
        
                            <div [ngClass]="drawer.opened==true?'prevBtnOpn':'prevBtn'" *ngIf="scromModuleData?.length !== 0">
                                <button class=" pointer" mat-button [disabled]="isprevEnable"
                                    (click)="topicPrve()">{{'Prev' | translate }}</button>
                                <span class="">|</span>
                                <button class=" pointer" mat-button [disabled]="isNextEnable" (click)="topicNext()">
                                    {{'Next' | translate }}</button>
                                <span class="fullScr">
                                    <mat-icon (click)="makeFullScreen()">fullscreen</mat-icon>
                                </span>
                            </div>
        
                        </mat-toolbar>
                        <!-- tabs starts here -->
                        <div class="row ml-0 mr-0 ">
                            <div class="col-10 text-left m-auto moileView">
                                <span>{{selectedName | titlecase}}</span>
                                <!-- <span *ngIf="course?.course_name?.length > 30">{{(course?.course_name | slice:0:20)+'...'}}</span> -->
                            </div>
                            <div class="col-2 text-right mobileHoriz">
                                <mat-icon class="ml-3 mt-3 mb-3" [matMenuTriggerFor]="menu">more_vert</mat-icon>
                                <mat-menu #menu="matMenu" class="mobVideoMenu">
                                    <button (click)="selectedTabIndex = 0; selectedName = detailData?.course_name ? detailData?.course_name : course?.course_name" [ngClass]="selectedTabIndex == 0 ? 'redBG' : 'greyBG'" class="matTabMenu" mat-menu-item>
                                        <span>{{detailData?.course_name ? detailData?.course_name : course?.course_name}}</span>
                                    </button>
                                    <button (click)="selectedTabIndex = 1; selectedName = 'About the course'" [ngClass]="selectedTabIndex == 1 ? 'redBG' : 'greyBG'" class="matTabMenu" mat-menu-item>
                                        <span>About the course</span>
                                    </button>
                                    <button (click)="selectedTabIndex = 2; selectedName = 'Resources'" [ngClass]="selectedTabIndex == 2 ? 'redBG' : 'greyBG'" class="matTabMenu" mat-menu-item>
                                        <span>Resources</span>
                                    </button>
                                    <!-- <button (click)="selectedTabIndex = 3; selectedName = 'Assignments'" class="matTabMenu"
                                        mat-menu-item>
                                        <span>Assignments</span>
                                    </button>
                                    <button
                                        *ngIf="userDetail.is_forum_config && selectedModuleData === null || selectedModuleData === undefined"
                                        (click)="selectedTabIndex = 4; selectedName = 'Forum'" class="matTabMenu" mat-menu-item>
                                        <span>Forum</span>
                                    </button> -->
                                </mat-menu>
                            </div>
                        </div>
                        <mat-tab-group #demo3Tab [(selectedIndex)]="selectedTabIndex" #tabs
                            (selectedTabChange)="tabSelection($event)"
                            [ngClass]="drawer.opened==true?'drawerOpnTab':'drawerClsTab'">
                            <mat-tab class="pointer">
                                <ng-template mat-tab-label>
                                    <!-- Satish demo comment -->
                                    <!-- <label  class="pointer lab" *ngIf="course?.course_name?.length>28"
                                            matTooltip="{{course?.course_name}}" matTooltipPosition="below"
                                            matTooltipClass='custom-mat-tooltip'>{{(course?.course_name | slice:0:28)+'...'}}
                                        </label> -->
                                    <!-- *ngIf="course?.course_name?.length<=28" -->
                                    <label
                                        class="pointer lab">{{detailData?.course_name ? detailData?.course_name : course?.course_name}}
                                    </label>
                                </ng-template>
        
                                <div [ngClass]="drawer.opened==true?'example-sidenav-content-opn':'example-sidenav-content-cls'"
                                    class="">
                                    <div class="playerWrapper">
                                        <iframe title="player" id="myPlayer" class="player" [src]="urlSafe" allowfullscreen></iframe>
                                    </div>
                                </div>
        
                            </mat-tab>
                            <!-- about the course tab -->
                            <mat-tab label="About the course" class="aboutCourseTab">
                                <div [ngClass]="drawer.opened==true?'drawerOpnAboutCourse':'drawerClsAboutCourse'">
                                    <h3 class="head-h1">{{'Course description' | translate}}</h3>
                                    <div class="vertical"></div>
        
                                    <div class="curInclu">{{ 'This course includes :' | translate}}</div>
                                    <div class="row display_flex">
                                        <div style="max-width: 196px;">
                                            <span class="font-color;padding: 5px">{{content?.totalResourseCount}}
                                                {{'downloadable resources'| translate}}</span>
                                        </div>
        
                                        <span *ngIf="course?.course_mode"> &nbsp; |&nbsp;</span>
                                        <div style="max-width: 100px;">
                                            <span class="font-color;padding: 5px">
                                                {{course?.course_mode === 'self-placed' ? 'Self paced' : course?.course_mode}}</span>
                                        </div>
        
                                        <span *ngIf="course?.course_language"> &nbsp; |&nbsp;</span>
                                        <div style="max-width: 78px;">
                                            <span class="font-color;padding: 5px">{{course?.course_language}}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div [ngClass]=" drawer.opened? 'desc_opn':'desc_cls'"  [innerHTML]="course?.course_long_description">
                                            </div>
                                        </div>
                                    </div>
        
                                    <div *ngIf="course?.author_details[0].author_name != ''">
                                        <h3 class="head-h2">{{'Instructors'| translate}}</h3>
                                        <div class="vertical"></div>
                                        <div class="instr-box" *ngFor="let author of course?.author_details">
                                            <div class="row">
                                                <div class="col-4">
                                                    <img class="img-inst"
                                                        [src]="author.image ? author?.image : 'assets/learner/pro2.png'" alt="">
                                                </div>
                                                <div class="col-6">
                                                    <div class="authorname">{{author?.author_name | titlecase| translate}}</div>
                                                </div>
        
                                                <div class="row margin-35 borderline">
                                                    <div class="col-12 bottom-border">
                                                        <p class="author-desc">{{author?.description}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </mat-tab>
                            <!-- resource tab -->
                            <mat-tab label="Resources">
                                <div [ngClass]="drawer.opened==true?'drawerOpnResource':'drawerClsResource'">
                                    <mat-accordion>
                                        <ng-container *ngIf="content?.noresource">
                                            <ng-container *ngFor="let res of content?.coursedetails; let i = index">
                                                <mat-expansion-panel class="panel1" hideToggle="true" #example1
                                                    [expanded]="selectedIndex === i" *ngIf="res.resValue">
                                                    <mat-expansion-panel-header style="height: 50px !important;">
                                                        <mat-panel-title>
                                                            <span
                                                                class="sqnumner">{{i+1}}.</span>&nbsp;&nbsp;{{res?.modulename}}<br>
                                                        </mat-panel-title>
                                                        <mat-icon class="exp2" *ngIf="!example1.expanded">add_circle_outline
                                                        </mat-icon>
                                                        <mat-icon class="exp2" *ngIf="example1.expanded">remove_circle_outline
                                                        </mat-icon>
                                                    </mat-expansion-panel-header>
        
        
                                                    <div class="row margin-5">
                                                        <div class="col-12">
                                                            <mat-list *ngFor="let mod of res?.moduledetails">
                                                                <mat-list-item *ngIf="res.resValue">
                                                                    <div mat-line class="modTopName"
                                                                        *ngIf="mod.resourse?.files.length">
                                                                        {{mod?.topicname}} :</div>
                                                                    <div class="content">
                                                                        <div class="row"
                                                                            *ngFor="let file of mod.resourse?.files">
                                                                            <div class="col-12" style="margin-top:6px">
                                                                                <div class="row">
                                                                                    <img *ngIf="file.doc_type == 'application/pdf'"
                                                                                        class="size" alt=""
                                                                                        src="assets/learner/fileicon/PDF_Icon.svg">
                                                                                    <img *ngIf="file.doc_type == 'link'"
                                                                                        class="size" alt=""
                                                                                        src="assets/learner/fileicon/Link_Icon.svg">
                                                                                    <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"
                                                                                        class="size" alt=""
                                                                                        src="assets/learner/fileicon/Excel_Icon.svg">
                                                                                    <img *ngIf="file.doc_type == 'image/jpeg' || file.doc_type == 'image/png' "
                                                                                        class="size" alt=""
                                                                                        src="assets/learner/fileicon/Image_Icon.svg">
                                                                                    <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.presentationml.presentation'"
                                                                                        class="size" alt=""
                                                                                        src="assets/learner/fileicon/PPT_Icon.svg">
                                                                                    <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                                        class="size" alt=""
                                                                                        src="assets/learner/fileicon/Word_Icon.svg">
        
                                                                                    <img *ngIf="file.doc_type == 'application/msword'"
                                                                                        class="size" alt=""
                                                                                        src="assets/learner/fileicon/Word_Icon.svg">
        
                                                                                    <img *ngIf="file.doc_type == 'application/vnd.ms-excel'"
                                                                                        class="size" alt=""
                                                                                        src="assets/learner/fileicon/Excel_Icon.svg">
        
                                                                                    <mat-icon class="docType"
                                                                                        *ngIf="file.doc_type == 'text/plain' ">
                                                                                        description
                                                                                    </mat-icon>
                                                                                    <div class="col-8">
                                                                                        {{file.type_name}}
                                                                                    </div>
        
                                                                                    <div class="col-2 f_size_12"
                                                                                        *ngIf="file?.type_name =='Link'">
                                                                                        <span class="ml-2">
                                                                                            NA
                                                                                        </span>
        
                                                                                    </div>
                                                                                    <div class="col-2 f_size_12"
                                                                                        *ngIf="file?.size">
                                                                                        {{file.size}}
                                                                                    </div>
                                                                                    <div class="col-1">
                                                                                        <a href="{{file?.path}}"
                                                                                            (click)="add_topic_reference(res)"
                                                                                            download>
                                                                                            <mat-icon
                                                                                                style="color: #333;font-size: 20px;">
                                                                                                save_alt </mat-icon>
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </mat-list-item>
                                                            </mat-list>
                                                        </div>
                                                    </div>
                                                </mat-expansion-panel>
                                            </ng-container>
                                        </ng-container>
        
        
                                        <ng-container *ngIf="!content?.noresource">
                                            <span
                                                style="padding: 16px;">{{'This course does not have resource files.'| translate}}</span>
                                        </ng-container>
                                    </mat-accordion>
                                </div>
                            </mat-tab>
                            <!-- assignment tab -->
                            <!-- <mat-tab label="Assignments" class="discussion_forum"
                                    *ngIf="assignmentContent?.coursedetails.length">
                                    <div [ngClass]="drawer.opened==true?'drawerOpnAss':'drawerClsAss'">
                                        <mat-accordion>
                                            <ng-container>
                                                <ng-container *ngFor="let res of assignmentContent?.coursedetails; let i = index">
            
                                                    <mat-expansion-panel class="panel1" hideToggle="true" #example1
                                                        [expanded]="selectedIndex === i">
                                                        <mat-expansion-panel-header style="height: 50px !important;">
                                                            <mat-panel-title>
                                                                <span
                                                                    class="sqnumner">{{i+1}}.</span>&nbsp;&nbsp;<span>{{res?.modulename}}
                                                                </span>
            
                                                            </mat-panel-title>
                                                            <mat-icon class="exp2" *ngIf="!example1.expanded">add_circle_outline
                                                            </mat-icon>
                                                            <mat-icon class="exp2" *ngIf="example1.expanded">remove_circle_outline
                                                            </mat-icon>
                                                        </mat-expansion-panel-header>
            
            
                                                        <div class="row margin-5">
                                                            <div class="col-12">
                                                                <mat-list *ngFor="let mod of res?.moduledetails">
                                                                    <mat-list-item>
                                                                        <div mat-line class="modName">
                                                                            <span> {{mod?.topicname}} :</span>
            
                                                                        </div>
            
                                                                        <div class="row" *ngFor="let file of mod.resourse?.files">
                                                                            <div class="col-12 detailrow pl-0 mt-3"
                                                                                *ngIf="file?.assignment === true">
                                                                                <div class="row">
                                                                                    <div class="col-2 no-cursor">
                                                                                        <div class="row">
                                                                                            <span
                                                                                                class="singleline-text "><b>{{'Assignment name' | translate }}</b></span>
                                                                                        </div>
                                                                                        <div class="row">
                                                                                            <img *ngIf="file.doc_type == 'application/pdf'"
                                                                                                class="size" alt=""
                                                                                                src="assets/learner/fileicon/PDF_Icon.svg">
                                                                                            <img *ngIf="file.doc_type == 'link'"
                                                                                                class="size" alt=""
                                                                                                src="assets/learner/fileicon/Link_Icon.svg">
                                                                                            <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"
                                                                                                class="size" alt=""
                                                                                                src="assets/learner/fileicon/Excel_Icon.svg">
                                                                                            <img *ngIf="file.doc_type == 'image/jpeg' || file.doc_type == 'image/png' "
                                                                                                class="size" alt=""
                                                                                                src="assets/learner/fileicon/Image_Icon.svg">
                                                                                            <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.presentationml.presentation'"
                                                                                                class="size" alt=""
                                                                                                src="assets/learner/fileicon/PPT_Icon.svg">
                                                                                            <img *ngIf="file.doc_type == 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                                                class="size" alt=""
                                                                                                src="assets/learner/fileicon/Word_Icon.svg">
                                                                                            <img *ngIf="file.doc_type == 'application/msword'"
                                                                                                class="size" alt=""
                                                                                                src="assets/learner/fileicon/Word_Icon.svg">
                                                                                            <img *ngIf="file.doc_type == 'application/vnd.ms-excel'"
                                                                                                class="size" alt=""
                                                                                                src="assets/learner/fileicon/Excel_Icon.svg">
                                                                                            <mat-icon class="docType no-cursor"
                                                                                                *ngIf="file.doc_type == 'text/plain' ">
                                                                                                description </mat-icon>&nbsp;
                                                                                            <span class="textTruncate"
                                                                                                tooltip="{{file.type_name}}"
                                                                                                placement="bottom">
                                                                                                {{file.type_name}}
                                                                                            </span>
                                                                                        </div>
                                                                                        <div class="col-2 f_size_12"
                                                                                            *ngIf="file?.type_name =='Link'">
                                                                                            <span class="ml-2">
                                                                                                NA
                                                                                            </span>
            
                                                                                        </div>
                                                                                        <div class="col-2 f_size_12"
                                                                                            *ngIf="file?.size">
                                                                                            {{file.size}}
                                                                                        </div>
                                                                                    </div>
            
                                                                                    <div class="col-1 no-cursor">
                                                                                        <div class="row">
                                                                                            <span><b>{{'Question' | translate }}</b></span>
                                                                                        </div>
                                                                                        <div class="row">
                                                                                            <span class="ml-3">
                                                                                                <mat-icon *ngIf="file.enableView"
                                                                                                    (click)="previewDoc(previewDialog,file)"
                                                                                                    class="viewDoc">find_in_page
                                                                                                </mat-icon>
                                                                                                <mat-icon *ngIf="!file.enableView"
                                                                                                    class="viewDoc">find_in_page
                                                                                                </mat-icon>
                                                                                            </span>
            
                                                                                        </div>
                                                                                    </div>
            
                                                                                    <div class="col-2">
                                                                                        <div class="row">
                                                                                            <span><b>{{'Start date' | translate }}</b></span>
                                                                                        </div>
                                                                                        <div class="row">
                                                                                            <span class="singleline-text">
                                                                                                {{file.startDate  | date :'MMM d, y h:mm a'
                                                                                                }}
                                                                                            </span>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-2">
                                                                                        <div class="row">
                                                                                            <span><b>{{'End date' | translate }}</b></span>
                                                                                        </div>
                                                                                        <div class="row">
                                                                                            <span class="singleline-text">
                                                                                                {{file.endDate  | date :'MMM d, y h:mm a'
                                                                                                }}
                                                                                            </span>
                                                                                        </div>
                                                                                    </div>
            
            
                                                                                    <div class="col-1">
                                                                                        <div class="row">
                                                                                            <span>
                                                                                                <b>{{'Upload' | translate }}</b>
                                                                                            </span>
                                                                                        </div>
                                                                                        <div class="row">
            
                                                                                            <span>
                                                                                                <button class="uploadBtn"
                                                                                                    [disabled]="!file?.enableUpload"
                                                                                                    (click)="fileInput.click()">
                                                                                                    <span class="uploadIcon">
                                                                                                        <i class="fa fa-upload searchicon ml-3 tooltip-350"
                                                                                                            [tooltip]="popTemplate"
                                                                                                            placement="bottom"
                                                                                                            aria-hidden="true"
                                                                                                            placement="bottom"></i></span></button>
            
                                                                                            </span>
            
                                                                                            <input
                                                                                                class="form-control border-right-0"
                                                                                                type='file' id="upload-photo"
                                                                                                #fileInput
                                                                                                (change)="uploadAssignmentsFile($event,file._id,res?.modulename,mod?.topicname,file.type_name,file?.score,file?.endDate,file?.path)">
            
                                                                                        </div>
                                                                                    </div>
            
                                                                                    <div class="col-1">
                                                                                        <div class="row">
                                                                                            <span class="singleline-text"><b>
                                                                                                    {{'Max score' | translate }}</b></span>
                                                                                        </div>
                                                                                        <div class="row">
                                                                                            <span class="ml-3">
                                                                                                {{file?.score}}
                                                                                            </span>
            
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class=col-1>
                                                                                        <div class="row">
                                                                                            <span class="singleline-text">
                                                                                                <b>
                                                                                                    {{'Obtained score' | translate }}
                                                                                                </b>
                                                                                            </span>
                                                                                        </div>
                                                                                        <div class="row">
                                                                                            <span class="ml-5">
                                                                                                {{file?.score_mark}}
                                                                                            </span>
                                                                                        </div>
            
                                                                                    </div>
                                                                                    <div class="col-2 status-col">
                                                                                        <div class="row">
                                                                                            <span><b>{{'Status' | translate }}</b></span>
                                                                                        </div>
            
                                                                                        <div class="row">
                                                                                            <div class="disply no-cursor"
                                                                                                *ngIf="file.doc_status === false && file.grade_status === 'Not Evaluated'">
                                                                                                <div class="icon">
                                                                                                    {{'Submitted' | translate }}
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="disply no-cursor"
                                                                                                *ngIf="file.doc_status && file.grade_status != 'Evaluated'">
                                                                                                <div class="not-submited">
                                                                                                    {{'Yet to Submit' | translate }}
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="disply no-cursor"
                                                                                                *ngIf="file.grade_status === 'Evaluated'">
                                                                                                <div class="grade"
                                                                                                    style="padding-top: 4px;color: green;">
                                                                                                    {{'Graded' | translate }}</div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
            
            
                                                                    </mat-list-item>
                                                                    <hr>
                                                                </mat-list>
                                                            </div>
                                                        </div>
                                                    </mat-expansion-panel>
                                                </ng-container>
                                            </ng-container>
            
                                        </mat-accordion>
                                    </div>
            
                                    <ng-template #previewDialog>
                                     
                                        <div>
                                            <button mat-mini-fab class="download-button">
                                                <mat-icon class="download-icon" (click)="downloadPdf(docpath)">get_app</mat-icon>
                                            </button>
                                        </div>
                                        <div>
                                            <button mat-mini-fab class="close-button">
                                                <mat-icon class="download-icon" (click)="closedialogbox()">close</mat-icon>
                                            </button>
                                        </div>
                                        
                                        <div *ngIf="docpath">
                                            <app-pdfreader [url]="docpath"></app-pdfreader>
                                        </div>
                                    </ng-template>
                                </mat-tab> -->
        
                            <!-- <mat-tab>
                                    <div [ngClass]="drawer.opened==true?'example-sidenav-content-opn':'example-sidenav-content-cls'"
                                    class="">
                                    <iframe id="myPlayer" class="player" [src]="urlSafe" allowfullscreen></iframe>
                                </div>           
                             </mat-tab> -->
        
                        </mat-tab-group>
                    </div>
                </mat-drawer-container>
            </div>
            <div class="performanceMobile" *ngIf="performOverLay && selectedName == 'perform'">
                <app-performance-page-mobile [detailDataToPerform]='detailData' [courceDetails]='course'>
                </app-performance-page-mobile>
            </div>
        </div>
    </div>




<ng-template #popTemplate class="tooltip-container">
    <span class="singleline-text">
        <span>
            {{'File size : 10mb, Format : jpg, png, jpeg, pdf' | translate }}
        </span>

    </span>
</ng-template>
<div class="footer" [ngClass]="{'posAb' : tabInd === 3 }">
    <span class="powered">
        <span class="forgot1">2020 © L&T EduTech All Rights Reserved</span>
    </span>
</div>