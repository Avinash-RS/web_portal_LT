<app-header></app-header>

<div class="row">
    <div class="col-10">
        <div class="f_size_22 myC-head animated animatedFadeInUp fadeInUp ">{{'My Courses' }}</div>
    </div>
    <div class="col-2 mt-4">
      <span>
            <mat-button class="available-course-btn">
              <mat-select panelClass="mat-select-panel" class="mypanel" placeholder="{{catalogueDetails?.catalogueName | titlecase}}" name="availableCourses"
              [(value)]="availableCourses" 
                    [(ngModel)]="availableCourses" (selectionChange)="getCoureBasedOnCatalog(catalogueDetails,availableCourses,previewDialog)"
                    required>
                    <mat-select-trigger>{{categoryData?.categoryName | titlecase}}</mat-select-trigger>
                    <mat-option *ngFor="let category of categoryDetails" [value]="category" class="availableCourseOption">
                    
                            {{category.categoryName | titlecase}}
                    
                        <span matBadge="{{category.totalCount}}"></span>
                    </mat-option>
                </mat-select> 

            </mat-button>
        </span> 
    </div>
</div>

<!-- tabs here -->
<div class="row">
    <div class="col-12">
        <mat-tab-group mat-align-tabs="start" animationDuration="1000ms"
            class=" col-xl-12 col-lg-12 col-md-12 col-sm-12 myCc container p-0 ">
            <mat-tab>
                <ng-template matTabLabel>
                    <span (click)="getEnrolledCourses('','')" matBadge="{{incomplete?.length}}" matBadgeOverlap="false">{{'Ongoing' }}</span>
                </ng-template>

 <!-- Card start -->
                <div *ngFor="let course of incomplete ;let j=index">
                    <mat-card class="coursebg card12" matRipple>
                        <div class="row">
                            <div class="col-7 l-b-2">
                                <div class="row">
                                    <div class="col-2">
                                        <div class="courseHover" (click)="gotoDesc(course)" data-toggle="modal"
                                            data-target="#myModal">
                                            <img alt="Course Img" src="{{course.course_img_url}}" class="courseImg">
                                            <div class="overlay">
                                                <mat-icon class="text"> play_arrow </mat-icon>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-8 m-t-2">
                                        <div class="p-l-8 f_size_18 f_wt_500 pointer">
                                            <span>
                                                {{course.course_name}}
                                            </span>
                                            <button class="status" *ngIf="course?.course_type === 'free_course'">Free</button>
                                            <button class="status" *ngIf="course?.course_type === 'primer_course'">Primer</button>
                                        </div>
                                        <div class="row">
                                            <div class="col-10 p-l-3 width_100 m-l-2 color_black2 f_size_14 descmc f_wt_400  pointer"
                                                (click)="gotoDesc(course)">
                                                <p style="margin-left: 41px;">
                                                    {{(course.course_description?.length > 100)? (course.course_description | slice:0:100)+'...':(course.course_description) }}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-10">
                                                <button class="clr" (click)="goToAssignment(course)" [disabled]="course.assignmentCount == 0">
                                                    <mat-icon class="btn-icon">description</mat-icon>
                                                    <span>Assignments ({{course.assignmentCount}})</span>
                                                </button>


                                                <button class="clr ml-4" (click)="goToForum(course)"
                                                [disabled]="course.forumCount == 0">
                                                    <mat-icon class="btn-icon">forum</mat-icon>
                                                    <span>Discussion Forum ({{course.forumCount}})</span>
                                                </button>
                                            </div>
                                            <div class="">
                                                <button mat-stroked-button data-toggle="modal" data-target="#myModal"
                                                    *ngIf="course?.coursePlayerStatus?.status !== 'completed'"
                                                    class=" btl-alin blue_clr cap pointer" (click)="gotoDesc(course)">
                                                    <mat-icon class="icon-color">play_circle_outline</mat-icon>
                                                    <span class="cap f_wt_400">
                                                        {{course?.coursePlayerStatus?.status === 'incomplete ' ? 'Resume ' : 
                                                          course?.coursePlayerStatus?.status === 'suspend  ' ? 'Resume  ' : 'Start'  }}&nbsp;
                                                    </span>
                                                </button>
                                                <button mat-stroked-button
                                                    *ngIf="course?.coursePlayerStatus?.status === 'completed'"
                                                    class="btl-alin blue_clr cap pointer" data-toggle="modal"
                                                    data-target="#myModal" (click)="gotoDesc(course)">
                                                    <mat-icon class="icon-color">replay</mat-icon>
                                                    <span class="cap f_wt_400">
                                                        {{'Replay' }}&nbsp;
                                                    </span>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row pointer">
                                            <div class="col-12 m-t-30" >
                                                <div class="upcoming" (click)="navToCal()" *ngIf="activity?.activity_details.activitytype == 'Live Classroom'">Upcoming... {{activity?.activity_details.startdate | date :' h:mm a'}} to {{activity?.activity_details.enddate | date :' h:mm a'}} | Live classroom
                                                    <mat-icon class="video">videocam</mat-icon></div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-2">
                                        <div class="aligned-with-icon">
                                            <mat-icon class="timer"> alarm_on </mat-icon>
                                            {{course?.course_duration != 1  ? (course.course_duration ? course.course_duration + ' hours' : '1' + ' hour') : '1' + 'hour'}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-5" *ngIf="course?.course_type != 'free_course'">
                                <div class="row m-t-2 m-l-2p f_size_13">
                                    <div class="col-3">
                                        <div>Activity 
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="f_size_13">Learning effort
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Points earned
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Final score
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                </div>

                                <div class="row m-t-2 m-l-2p">
                                    <div class="col-3">
                                        <div class="m-t">
                                            <sapn class="padscore">4</sapn>
                                            <sapn class="f_size_22">/</sapn> <span class="f_size_20">20</span>
                                        </div>
                                        <div class="m-t-8">Pending</div>
                                    </div>
                                    <div class="col-3">
                                        <div class="progess pointer">
                                            <circle-progress
                                                [percent]="course?.coursePlayerStatus?.course_percentage|| 0"
                                                [radius]="10"  [outerStrokeWidth]="2" [innerStrokeWidth]="2" [space]="-2"
                                                [outerStrokeGradient]="true" [outerStrokeGradientStopColor] = "'#53a9ff'"
                                                [outerStrokeColor]="'#4882c2'" [innerStrokeColor]="'#e7e8ea'"
                                                [titleFontSize]="7" [unitsFontSize]="7" [showSubtitle]="false"
                                                [animation]="true" [animationDuration]="100" [startFromZero]="false"
                                                [responsive]="true">
                                            </circle-progress>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="point">56</div>
                                    </div>
                                    <div class="col-3">
                                        <div class="finalScore">- - -</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </mat-card>
                </div>
                <!-- card end -->


                <div *ngIf="incomplete?.length === 0">
                    <mat-card class="coursebg width_90">
                        <div class="row width_90 no_margin">
                            <div class="col-1 display_flex pointer no_pl"
                                (click)="gotoDesc(course)">
                                <div class="lineer"></div>
                                <img alt="Course Img" src="assets/noCourseImg.jpg" class="courseImgs">
                            </div>
                            <div class="col-11  no_pl errorboxx">
                                <span style="font-size: medium;">{{'You have no ongoing courses at the moment.' | translate }}</span>
                            </div>
                        </div>
                    </mat-card>
                </div>
            </mat-tab>
            <mat-tab>
                <ng-template matTabLabel>
                    <span (click)="getEnrolledCourses('','')" matBadge="{{completed?.length}}" matBadgeOverlap="false">{{'Completed' | translate }}</span>
                </ng-template>
                <div *ngFor="let course of completed ;let j=index">
                    <mat-card class="coursebg card12" matRipple>
                        <!-- <div class="row width_100 no_margin"> -->
                        <!-- <div class="col-12 display_flex pointer no_pl" (click)="gotoDesc(course)"> -->
                        <div class="row">
                            <!-- // Card start -->
                            <div class="col-7 l-b-2">
                                <div class="row">
                                    <div class="col-2">
                                        <div class="courseHover" (click)="gotoDesc(course)" data-toggle="modal"
                                            data-target="#myModal">
                                            <img alt="Course Img" src="{{course.course_img_url}}" class="courseImg">
                                            <div class="overlay">
                                                <mat-icon class="text"> play_arrow </mat-icon>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-8 m-t-2">
                                        <div class="p-l-8 f_size_18 f_wt_500 pointer">
                                            <span>
                                                {{course.course_name}}
                                            </span>
                                            <button class="status" *ngIf="course?.course_type === 'free_course'">Free</button>
                                            <button class="status" *ngIf="course?.course_type === 'primer_course'">Primer</button>
                                        </div>
                                        <div class="row">
                                            <div class="col-10 p-l-3 width_100 m-l-2 color_black2 f_size_14 descmc f_wt_400  pointer"
                                                (click)="gotoDesc(course)">
                                                <p style="margin-left: 41px;">
                                                    {{(course.course_description?.length > 100)? (course.course_description | slice:0:100)+'...':(course.course_description) }}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-10">
                                                <button class="clr" (click)="goToAssignment(course)" [disabled]="course.assignmentCount == 0">
                                                    <mat-icon class="btn-icon">description</mat-icon>
                                                    <span>Assignments ({{course.assignmentCount}})</span>
                                                </button>


                                                <button class="clr ml-4" (click)="goToForum(course)"
                                                [disabled]="course.forumCount == 0">
                                                    <mat-icon class="btn-icon">forum</mat-icon>
                                                    <span>Discussion Forum ({{course.forumCount}})</span>
                                                </button>
                                            </div>
                                            <div class="">
                                                <button mat-stroked-button data-toggle="modal" data-target="#myModal"
                                                    *ngIf="course?.coursePlayerStatus?.status !== 'completed'"
                                                    class=" btl-alin blue_clr cap pointer" (click)="gotoDesc(course)">
                                                    <mat-icon class="icon-color">play_circle_outline</mat-icon>
                                                    <span class="cap f_wt_400">
                                                        {{course?.coursePlayerStatus?.status === 'incomplete' ? 'Resume' : 
                      course?.coursePlayerStatus?.status === 'suspend' ? 'Resume' : 'Start' | translate }}&nbsp;
                                                    </span>
                                                </button>
                                                <button mat-stroked-button
                                                    *ngIf="course?.coursePlayerStatus?.status === 'completed'"
                                                    class="btl-alin blue_clr cap pointer" data-toggle="modal"
                                                    data-target="#myModal" (click)="gotoDesc(course)">
                                                    <mat-icon class="icon-color">replay</mat-icon>
                                                    <span class="cap f_wt_400">
                                                        {{'Replay' | translate }}&nbsp;
                                                    </span>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row pointer ">
                                            <div class="col-12 m-t-30" >
                                                <span class="upcoming" (click)="navToCal()" *ngIf="activity?.activity_details.activitytype == 'Live Classroom'" >Upcoming... {{activity?.activity_details.startdate | date :' h:mm a'}} to {{activity?.activity_details.enddate | date :' h:mm a'}} | Live classroom
                                                    <mat-icon class="video">videocam</mat-icon></span>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-2">
                                        <div class="aligned-with-icon">
                                            <mat-icon class="timer"> alarm_on </mat-icon>
                                            {{course?.course_duration != 1  ? (course.course_duration ? course.course_duration + ' hours' : '1' + ' hour') : '1' + 'hour'}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-5"  *ngIf="course?.course_type != 'free_course'">
                                <div class="row m-t-2 m-l-2p f_size_13">
                                    <div class="col-3">
                                        <div>Activity 
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Learning effort
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Points earned
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Final score
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                </div>

                                <div class="row m-t-2 m-l-2p">
                                    <div class="col-3">
                                        <div class="m-t">
                                            <sapn class="padscore">4</sapn>
                                            <sapn class="f_size_22">/</sapn> <span class="f_size_20">20</span>
                                        </div>
                                        <span>Pending</span>
                                    </div>
                                    <div class="col-3">
                                        <div class="progess pointer">
                                            <circle-progress
                                                [percent]="course?.coursePlayerStatus?.course_percentage|| 0"
                                                [radius]="10"  [outerStrokeWidth]="2" [innerStrokeWidth]="2" [space]="-2"
                                                [outerStrokeGradient]="true" [outerStrokeGradientStopColor] = "'#53a9ff'"
                                                [outerStrokeColor]="'#4882c2'" [innerStrokeColor]="'#e7e8ea'"
                                                [titleFontSize]="7" [unitsFontSize]="7" [showSubtitle]="false"
                                                [animation]="true" [animationDuration]="100" [startFromZero]="false"
                                                [responsive]="true">
                                            </circle-progress>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="point">56</div>
                                    </div>
                                    <div class="col-3">
                                        <div class="finalScore">- - -</div>
                                    </div>
                                </div>
                            </div>
                            <!-- card end -->
                        </div>
                    </mat-card>
                </div>

                <div *ngIf="completed?.length === 0">
                    <mat-card class="coursebg width_90">
                        <div class="row width_90 no_margin">
                            <div class="col-1 display_flex pointer no_pl"
                                (click)="gotoDesc(course)">
                                <div class="lineer"></div>
                                <img alt="Course Img" src="assets/noCourseImg.jpg" class="courseImgs">
                            </div>
                            <div class="col-11 errorboxx">
                                <span style="font-size: medium;">
                                    {{'You have no completed courses at the moment.' }}</span>
                            </div>
                        </div>
                    </mat-card>
                </div>
            </mat-tab>
            <mat-tab >
                <ng-template matTabLabel>
                    <span (click)="getEnrolledCourses('','')" matBadge="{{enrolledCourses?.length}}" matBadgeOverlap="false">{{'All' }}</span>
                </ng-template>
                <div *ngFor="let course of enrolledCourses ;let j=index">
                    <mat-card class="coursebg card12" matRipple>
                        <!-- <div class="row width_100 no_margin"> -->
                        <!-- <div class="col-12 display_flex pointer no_pl" (click)="gotoDesc(course)"> -->
                        <div class="row">
                            <!-- // Card start -->
                            <div class="col-7 l-b-2">
                                <div class="row">
                                    <div class="col-2">
                                        <div class="courseHover" (click)="gotoDesc(course)" data-toggle="modal"
                                            data-target="#myModal">
                                            <img alt="Course Img" src="{{course.course_img_url}}" class="courseImg">
                                            <div class="overlay">
                                                <mat-icon class="text"> play_arrow </mat-icon>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-8 m-t-2">
                                        <div class="p-l-8 f_size_18 f_wt_500 pointer">
                                            <span >
                                                {{course.course_name}}
                                            </span>
                                            <button class="status" *ngIf="course?.course_type === 'free_course'">Free</button>
                                            <button class="status" *ngIf="course?.course_type === 'primer_course'">Primer</button>
                                        </div>
                                        <div class="row">
                                            <div class="col-10 p-l-3 width_100 m-l-2 color_black2 f_size_14 descmc f_wt_400  pointer"
                                                (click)="gotoDesc(course)">
                                                <p style="margin-left: 41px;">
                                                    {{(course.course_description?.length > 100)? (course.course_description | slice:0:100)+'...':(course.course_description) }}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-10">
                                                <button class="clr" (click)="goToAssignment(course)"
                                                [disabled]="course.assignmentCount == 0">
                                                    <mat-icon class="btn-icon">description</mat-icon>
                                                    <span>Assignments ({{course.assignmentCount}})</span>
                                                </button>


                                                <button class="clr ml-4" (click)="goToForum(course)"
                                                [disabled]="course.forumCount == 0">
                                                    <mat-icon class="btn-icon">forum</mat-icon>
                                                    <span>Discussion Forum ({{course.forumCount}})</span>
                                                </button>
                                            </div>
                                            <div class="">
                                                <button mat-stroked-button data-toggle="modal" data-target="#myModal"
                                                    *ngIf="course?.coursePlayerStatus?.status !== 'completed'"
                                                    class=" btl-alin blue_clr cap pointer" (click)="gotoDesc(course)">
                                                    <mat-icon class="icon-color">play_circle_outline</mat-icon>
                                                    <span class="cap f_wt_400">
                                                        {{course?.coursePlayerStatus?.status === 'incomplete ' ? 'Resume  ' : 
                      course?.coursePlayerStatus?.status === 'suspend ' ? 'Resume ' : 'Start' }}&nbsp;
                                                    </span>
                                                </button>
                                                <button mat-stroked-button
                                                    *ngIf="course?.coursePlayerStatus?.status === 'completed'"
                                                    class="btl-alin blue_clr cap pointer" data-toggle="modal"
                                                    data-target="#myModal" (click)="gotoDesc(course)">
                                                    <mat-icon class="icon-color">replay</mat-icon>
                                                    <span class="cap f_wt_400">
                                                        {{'Replay'  }}&nbsp;
                                                    </span>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row pointer ">
                                            <div class="col-12 m-t-30" >
                                                <span class="upcoming" (click)="navToCal()" *ngIf="activity?.activity_details.activitytype == 'Live Classroom'">Upcoming... {{activity?.activity_details.startdate | date :' h:mm a'}} to {{activity?.activity_details.enddate | date :' h:mm a'}} | Live classroom
                                                    <mat-icon class="video">videocam</mat-icon></span>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-2">
                                        <div class="aligned-with-icon">
                                            <mat-icon class="timer"> alarm_on </mat-icon>
                                            {{course?.course_duration != 1  ? (course.course_duration ? course.course_duration + ' hours' : '1' + ' hour') : '1' + 'hour'}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-5" *ngIf="course?.course_type != 'free_course'">
                                <div class="row m-t-2 m-l-2p f_size_13">
                                    <div class="col-3">
                                        <div>Activity 
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Learning effort
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Points earned
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Final score
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                </div>

                                <div class="row m-t-2 m-l-2p">
                                    <div class="col-3">
                                        <div class="m-t">
                                            <sapn class="padscore">4</sapn>
                                            <sapn class="f_size_22">/</sapn> <span class="f_size_20">20</span>
                                        </div>
                                        <span>Pending</span>
                                    </div>
                                    <div class="col-3">
                                        <div class="progess pointer">
                                            <circle-progress
                                                [percent]="course?.coursePlayerStatus?.course_percentage|| 0"
                                                [radius]="10"  [outerStrokeWidth]="2" [innerStrokeWidth]="2" [space]="-2"
                                                [outerStrokeGradient]="true" [outerStrokeGradientStopColor] = "'#53a9ff'"
                                                [outerStrokeColor]="'#4882c2'" [innerStrokeColor]="'#e7e8ea'"
                                                [titleFontSize]="7" [unitsFontSize]="7" [showSubtitle]="false"
                                                [animation]="true" [animationDuration]="100" [startFromZero]="false"
                                                [responsive]="true">
                                            </circle-progress>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="point">56</div>
                                    </div>
                                    <div class="col-3">
                                        <div class="finalScore">- - -</div>
                                    </div>
                                </div>
                            </div>
                            <!-- card end -->
                        </div>
                    </mat-card>
                </div>



                <div *ngIf="enrolledCourses?.length === 0">
                    <mat-card class="coursebg width_90">
                        <div class="row width_90 no_margin">
                            <div class="col-xl-1 display_flex pointer no_pl"
                                (click)="gotoDesc(course)">
                                <div class="lineer"></div>
                                <img alt="Course Img" src="assets/noCourseImg.jpg" class="courseImgs">
                            </div>
                            <div class="col-xl-11  no_pl errorboxx">
                                <span style="font-size: medium;">
                                    {{'You have no enrolled courses at the moment.' }}</span>
                            </div>
                        </div>
                    </mat-card>
                </div>
            </mat-tab>
            <!-----------------------------------Category tabs----------------------------->
            <ng-container *ngFor="let categorytab of categoryDetails">
            <mat-tab *ngIf="categorytab.enrollCount">
                <ng-template matTabLabel >
                    <span (click)="getEnrolledCourses(catalogueDetails.catalogueId,categorytab.categoryId)"
                      matBadge="{{categorytab.enrollCount}}"
                        matBadgeOverlap="false">{{categorytab.categoryName}}</span>
                </ng-template>

                <div *ngFor="let course of enrolledCourses ;let j=index">
                    <mat-card class="coursebg card12" matRipple>
                        <!-- <div class="row width_100 no_margin"> -->
                        <!-- <div class="col-12 display_flex pointer no_pl" (click)="gotoDesc(course)"> -->
                        <div class="row">
                            <!-- // Card start -->
                            <div class="col-7 l-b-2">
                                <div class="row">
                                    <div class="col-2">
                                        <div class="courseHover" (click)="gotoDesc(course)" data-toggle="modal"
                                            data-target="#myModal">
                                            <img alt="Course Img" src="{{course.course_img_url}}" class="courseImg">
                                            <div class="overlay">
                                                <mat-icon class="text"> play_arrow </mat-icon>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-8 m-t-2">
                                        <div class="p-l-8 f_size_18 f_wt_500 pointer">
                                            <span >
                                                {{course.course_name}}
                                            </span>
                                            <button class="status" *ngIf="course?.course_type === 'free_course'">Free</button>
                                            <button class="status" *ngIf="course?.course_type === 'primer_course'">Primer</button>
                                        </div>
                                        <div class="row">
                                            <div class="col-10 p-l-3 width_100 m-l-2 color_black2 f_size_14 descmc f_wt_400  pointer"
                                                (click)="gotoDesc(course)">
                                                <p style="margin-left: 41px;">
                                                    {{(course.course_description?.length > 100)? (course.course_description | slice:0:100)+'...':(course.course_description) }}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-10">
                                                <button class="clr" (click)="goToAssignment(course)"
                                                [disabled]="course.assignmentCount == 0">
                                                    <mat-icon class="btn-icon">description</mat-icon>
                                                    <span>Assignments ({{course.assignmentCount}})</span>
                                                </button>


                                                <button class="clr ml-4" (click)="goToForum(course)"
                                                [disabled]="course.forumCount == 0">
                                                    <mat-icon class="btn-icon">forum</mat-icon>
                                                    <span>Discussion Forum ({{course.forumCount}})</span>
                                                </button>
                                            </div>
                                            <div class="">
                                                <button mat-stroked-button data-toggle="modal" data-target="#myModal"
                                                    *ngIf="course?.coursePlayerStatus?.status !== 'completed'"
                                                    class=" btl-alin blue_clr cap pointer" (click)="gotoDesc(course)">
                                                    <mat-icon class="icon-color">play_circle_outline</mat-icon>
                                                    <span class="cap f_wt_400">
                                                        {{course?.coursePlayerStatus?.status === 'incomplete ' ? 'Resume  ' : 
                      course?.coursePlayerStatus?.status === 'suspend ' ? 'Resume ' : 'Start' }}&nbsp;
                                                    </span>
                                                </button>
                                                <button mat-stroked-button
                                                    *ngIf="course?.coursePlayerStatus?.status === 'completed'"
                                                    class="btl-alin blue_clr cap pointer" data-toggle="modal"
                                                    data-target="#myModal" (click)="gotoDesc(course)">
                                                    <mat-icon class="icon-color">replay</mat-icon>
                                                    <span class="cap f_wt_400">
                                                        {{'Replay'  }}&nbsp;
                                                    </span>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row pointer ">
                                            <div class="col-12 m-t-30" >
                                                <span class="upcoming" (click)="navToCal()" *ngIf="activity?.activity_details.activitytype == 'Live Classroom'" >Upcoming... {{activity?.activity_details.startdate | date :' h:mm a'}} to {{activity?.activity_details.enddate | date :' h:mm a'}} | Live classroom
                                                    <mat-icon class="video">videocam</mat-icon></span>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-2">
                                        <div class="aligned-with-icon">
                                            <mat-icon class="timer"> alarm_on </mat-icon>
                                            {{course?.course_duration != 1  ? (course.course_duration ? course.course_duration + ' hours' : '1' + ' hour') : '1' + 'hour'}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-5" *ngIf="course?.course_type != 'free_course'">
                                <div class="row m-t-2 m-l-2p f_size_13">
                                    <div class="col-3">
                                        <div>Activity 
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Learning effort
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Points earned
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div>Final score
                                            <mat-icon #tooltip="matTooltip"  matTooltip="Info about the action" class="infoIcon" fontSet="material-icons-outlined">info</mat-icon>
                                        </div>
                                    </div>
                                </div>

                                <div class="row m-t-2 m-l-2p">
                                    <div class="col-3">
                                        <div class="m-t">
                                            <sapn class="padscore">4</sapn>
                                            <sapn class="f_size_22">/</sapn> <span class="f_size_20">20</span>
                                        </div>
                                        <span>Pending</span>
                                    </div>
                                    <div class="col-3">
                                        <div class="progess pointer">
                                            <circle-progress
                                                [percent]="course?.coursePlayerStatus?.course_percentage|| 0"
                                                [radius]="10"  [outerStrokeWidth]="2" [innerStrokeWidth]="2" [space]="-2"
                                                [outerStrokeGradient]="true" [outerStrokeGradientStopColor] = "'#53a9ff'"
                                                [outerStrokeColor]="'#4882c2'" [innerStrokeColor]="'#e7e8ea'"
                                                [titleFontSize]="7" [unitsFontSize]="7" [showSubtitle]="false"
                                                [animation]="true" [animationDuration]="100" [startFromZero]="false"
                                                [responsive]="true">
                                            </circle-progress>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="point">56</div>
                                    </div>
                                    <div class="col-3">
                                        <div class="finalScore">- - -</div>
                                    </div>
                                </div>
                            </div>
                            <!-- card end -->
                        </div>
                    </mat-card>
                </div>

                <div *ngIf="enrolledCourses?.length === 0">
                    <mat-card class="coursebg width_90">
                        <div class="row width_90 no_margin">
                            <div class="col-1 display_flex pointer no_pl"
                                (click)="gotoDesc(course)">
                                <div class="lineer"></div>
                                <img alt="Course Img" src="assets/noCourseImg.jpg" class="courseImgs">
                            </div>
                            <div class="col-11 errorboxx">
                                <span style="font-size: medium;">
                                    {{'You have no courses at the moment.' }}</span>
                            </div>
                        </div>
                    </mat-card>
                </div>
            </mat-tab>
        </ng-container>
        </mat-tab-group>




    </div>
</div>

<ng-template #previewDialog>

    <div class="row">
        <div class="col-4">
            <span class="f_wt_600 size">{{categoryPopupData.categoryName  | titlecase}} ({{categoryPopupData.totalCount}})</span>
        </div>
        <div class="col-6">
            <input matInput class="form-control search" placeholder="Search" [(ngModel)]="courseSearch">
        </div>
        <div class="col-2">
            <button mat-mini-fab class="close-button">
                <mat-icon class="download-icon" (click)="closedialogbox()">close</mat-icon>
              </button>
        </div>
    </div>
    <br>
      <div class="row">
   
      <!-- <mat-icon>search</mat-icon> -->
    </div>
    <div class="row">
        <div class="col-4 mt-4" *ngFor="let course of allcourses">
        <!-- <div class="col-4 mt-4" *ngFor="let course of allcourses | search : courseSearch"> -->
            <mat-card class="box-shadow">
                <div class="row">
                    <a>
                        <img alt="course image" src="{{course.course_img_url}}" class="courseImage">
                        <div class="overlay">
                            <p class="shortdesc">
                                {{(course.course_description?.length>120)? (course.course_description | slice:0:120)+'...':(course.course_description) }}
                            </p>
                        </div>
                    </a>
                </div><br>
                <div class="row mb-3">
                    <span class="courseName">{{course.course_name}}</span>
                </div><br>
                <div class="row">
                    <div class="col" style="text-align: center;">
                        <button mat-stroked-button class="blue_clr claimbtn" *ngIf="course.clamaiedStatus == 'false'"
                        (click)="claimCourse(course.course_id)">Claim</button>
                        <button mat-stroked-button class="blue_clr claimbtn" [disabled]="course.clamaiedStatus == 'true'"
                         *ngIf="course.clamaiedStatus == 'true'"
                        >Claimed</button>
                    </div>
                </div>
            </mat-card>
        </div>
    </div>
    </ng-template>




<div class="spinner-container" *ngIf="loading">
    <mat-spinner diameter="40" class="mat-spinner-color"></mat-spinner>
</div>

<!-- Model for mobile user  -->
<div class="modal" *ngIf="show" id="myModal" role="dialog">
    <div class="modal-content">
        <div class="modal-header">
            <span style="font-size:22px; color: red;">{{'Alert !' | translate }}</span>
        </div>
        <div class="modal-body">
            <p class="f_size_16">{{'Courses works best in Laptop / Desktop.' | translate }}</p>
            <p class="f_size_16">{{'Accessing courses via mobile is forbidden.' | translate }} </p>
            <div class="row">
                <div class="col-8">
                    <p><b>{{'Recommended browsers' | translate }}</b></p>
                </div>
                <div class="col-1">
                    <a class="showbtn" (click)="alterDescriptionText()"> {{ showShortDesciption ? '>>': '<<' }}</a>
                </div>
            </div>
            <div [ngClass]="{'show-less': showShortDesciption}">
                <p>{{'L&T supports the most recent versions of the following browsers.' | translate }}</p>
                <ul>
                    <li>{{'Google Chrome' | translate }} ({{'recommended' | translate }})</li>
                    <li>{{'Firefox' | translate }}</li>
                    <li>{{'Safari' | translate }}</li>
                    <li>{{'Internet Explorer 11' | translate }}</li>
                    <li>{{'Microsoft Edge' | translate }}</li>

                </ul>
                <p>If you're using an older browser , updating your browser can help solve problems.</p>
            </div>


        </div>
        <div class="modal-footer">
            <button class="roundbtn" data-dismiss="modal" (click)="close()">Close</button>
        </div>
    </div>
</div>


<br>
<br>
<div *ngIf="!loading">

    <div class="footer">
        <!-- <span class="center_align"> 2020 L&T EduTech. &nbsp; &nbsp; | &nbsp; &nbsp; -->
        <span class="powered">
            <!-- <img width="160px" alt="" src="assets/learner/LnT-Full-black-logo.svg"> -->
            <span class="forgot1">2020  L&T EduTech All Rights Reserved</span>
        </span>
        <!-- </span> -->

    </div>

</div>