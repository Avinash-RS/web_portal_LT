<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
<<<<<<< HEAD
    <li class="breadcrumb-item"><a [routerLink]="['/Admin/auth/dashboard']">Home</a></li>
=======
    <li class="breadcrumb-item"><a [routerLink]="['/Admin/auth/userManagement']">Home</a></li>
>>>>>>> 73f6ce0d281a1e33db9170fe3cae7f193d9f43e7
    <li class="breadcrumb-item"><a [routerLink]="['/Admin/auth/enrollment']">Course enrolment</a></li>
    <li class="breadcrumb-item active" aria-current="page">Profile</li>
  </ol>
</nav>

<div class="container qualification pb-5">
  <h1 style="padding-left: 12px"> Learner management</h1>
  <div class="container margin20">
    <div class="row">
      <div class="col-12 bg-white">
        <mat-tab-group>
          <mat-tab label="User profile">
            <br>
            <form>
              <div class="row pt-3">
                <div class="col-lg-3  col-md-3 ">
                  <div class="form-group  m-0 " style="padding-left: inherit;">
                    <img [src]="profiledetail?.user_profile[0]?.profile_img || '../../../../assets/learner/avatar2.png'"
                      alt="Avatar">
                  </div>
                </div>
              </div>
              <div class="row pt-3">
                <div class="col-lg-3 col-md-3 ">
                </div>
                <div class="col-lg-3 col-md-3">
                  <div class="form-group  m-0">
                    <label class="common-label1">Full name : </label>
                    <!-- <mat-form-field appearance="outline" class="custom-branch-select-outline col-sm-6"> -->
                    {{profiledetail?.full_name}}
                    <!-- </mat-form-field> -->
                  </div>
                </div>
                <div class="col-lg-3 col-md-3">
                  <div class="form-group  m-0">
                    <label class=" common-label1">User name : </label>
                    <!-- <mat-form-field appearance="outline" class="custom-branch-select-outline col-sm-6"> -->
                    {{profiledetail?.user_dtl?.username}}
                    <!-- </mat-form-field> -->
                  </div>
                </div>
                <div class="col-lg-3 col-md-3">
                  <div class="form-group  m-0">
                    <label class="common-label1">DOJ LXP : </label>
                    <!-- <mat-form-field color="accent" appearance="outline" class="custom-branch-select-outline col-sm-6"> -->
                    {{profiledetail?.user_dtl?.created_on | date: 'dd MMM, yyyy'  }}
                    <!-- </mat-form-field> -->
                  </div>
                </div>
              </div>
              <div class="row pt-3">
                <div class="col-lg-3 col-md-3">
                </div>
                <div class="col-lg-3 col-md-3  ">
                  <div class="form-group  m-0">
                    <label class=" common-label1">Gender : </label> {{profiledetail?.user_profile[0].gender}}
                  </div>
                </div>
                <div class="col-lg-3 col-md-3">
                  <div class="form-group  m-0">
                    <label class=" common-label1">I am a : </label>
                    {{profiledetail?.user_profile[0]?.is_student_or_professional}}
                  </div>
                </div>
                <div class="col-lg-3 col-md-3">
                  <div class="form-group m-0">
                    <label class=" common-label1">Languages known : </label>
                    {{profiledetail?.language_detail[0]?.languagename}}
                  </div>
                </div>
              </div>
              <div class="row pt-3">
                <div class="col-lg-3 col-md-3">

                </div>
                <div class="col-lg-5 col-md-5">
                  <div class="form-group  m-0">
                    <div class="form-group  m-0">
                      <label class="common-label1">Location : </label>
                      {{profiledetail?.country_detail[0]?.countryname}},
                      {{profiledetail?.state_detail[0]?.statename}},
                      {{profiledetail?.district_detail[0]?.districtname}}
                    </div>
                  </div>

                </div>
              </div>
              <div class="row pt-3">
                <div class="col-lg-3 col-md-3">
                  <div class="form-group  m-0">
                  </div>
                </div>
                <div class="col-lg-9 col-md-9">
                  <div class="form-group  m-0">
                    <label class=" common-label1">Qualification : </label>

                    <div class="row" style="overflow-x:auto;">
                      <div class="col-md-12 col-sm-12 col-12">
                         <!-- <table class="profileTable">
                          <tr>
                            <th>Board</th>
                            <th>Discipline</th>
                            <th>Institute</th>
                            <th>Level</th>
                            <th>Specification</th>
                            <th>Year of passing</th>
                            <th>Percentage</th>
                          </tr>
                          <tr *ngFor="let qual of profiledetail?.qualification">
                            <td>{{qual?.board[0]?.Board_Name}}</td>
                            <td>{{qual?.discipline[0]?.discipline_name}}</td>
                            <td>{{qual?.institute_detail[0]?.institute_name}}</td>
                            <td>{{qual?.level_detail[0]?.level_name}}</td>
                            <td>{{qual?.specification_detail[0]?.specification_name}}</td>
                            <td>{{qual?.year_of_passing}}</td>
                            <td>{{qual?.percentage}}</td>
                          </tr>
                        </table> -->
                        <!-- <br> -->
                        <form [formGroup]="profileForm">
                          <div formArrayName="qualification" *ngFor="let qual of qualification.controls; let in=index">
                            <div class="row p-b-10px" [formGroupName]="in">
                              <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12 m-b-5px display_flex">
                                <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" placeholder="Level" formControlName="qualification"
                                  name="qualification" (selectionChange)="changed($event.value,in)">
                                  <mat-option [value]="lv._id" *ngFor="let lv of levelValue" [disabled]="lv.allowed=='N'"
                                    (click)="checkSpec(qual,in,profileForm.qualification,lv)">
                                    {{lv.level_name}}
                                  </mat-option>
                                </mat-select>
                  
                                &nbsp;&nbsp;&nbsp;
                                <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" placeholder="Board/University"
                                  formControlName="board_university" name="board_university">
                                  <mat-option [value]="board._id" *ngFor="let board of boardValue, let univ of uniValue">
                                    {{board.Board_Name}}
                                    {{univ.University_Name}}
                                  </mat-option>
                                </mat-select>
                                <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
                              </div>
                  
                              <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12 m-b-5px display_flex">
                                <!-- <mat-form-field *ngIf=""> -->
                                <ng-container
                                  *ngIf="(qual?.value?.qualification !== '5e7dedc1dba4466d9704b3f2') && (qual?.value?.qualification !== '5e7deddfdba4466d9704b44a')">
                                  <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" placeholder="Institute" formControlName="institute"
                                    name="institute">
                                    <mat-option [value]="item._id" *ngFor="let item of institutes">
                                      {{item.institute_name}}
                                    </mat-option>
                                  </mat-select>
                                </ng-container>
                                <!------------------------Institute textbox for 10th and 12th--------------------->
                                <ng-container class="col-md-3 col-sm-12 col-12 display_flex"
                                  *ngIf="(qual?.value?.qualification == '5e7dedc1dba4466d9704b3f2') || (qual?.value?.qualification == '5e7deddfdba4466d9704b44a')">
                                  <input type="text" class="institute" placeholder="Institute" [ngClass]="cannotEdit ? 'dis inputs color_blue background_trans width_80' :
                       'inputs color_blue background_trans width_80'" formControlName="institute">
                                </ng-container>
                                <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
                                <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" placeholder="Discipline" formControlName="discipline"
                                  name="discipline">
                                  <mat-option [value]="item._id" *ngFor="let item of disciplines">
                                    {{item.discipline_name}}
                                  </mat-option>
                                </mat-select>
                  
                                <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
                              </div>
                              <!-- *ngIf="(qual?.value?.qualification !== '5e7dedc1dba4466d9704b3f2') && (qual?.value?.qualification !== '5e7deddfdba4466d9704b44a')" -->
                              <div class="col-xl-3 col-lg-3 col-md-4  col-sm-12 col-12 m-b-5px display_flex">
                                <ng-container
                                  *ngIf="(qual?.value?.qualification !== '5e7dedc1dba4466d9704b3f2') && (qual?.value?.qualification !== '5e7deddfdba4466d9704b44a')">
                                  <mat-select [disabled]='cannotEdit' [ngClass]="cannotEdit ? 'n dis inputs' : 'inputs'" placeholder="Specification"
                                    formControlName="specification" name="specification">
                                    <mat-option [value]="item._id" *ngFor="let item of specValue">
                                      {{item.specification_name}}
                                    </mat-option>
                                  </mat-select>
                                </ng-container>
                  
                                <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
                                <ng-container>
                                  <input class="institute" type="tel" mask="0000" [ngClass]="cannotEdit ? 'dis inputs color_blue background_trans width_80' :
                      'inputs color_blue background_trans width_80'" placeholder="Year of Passing" formControlName="year_of_passing"
                                    (change)="yearOfpassing(in)">
                                </ng-container>
                              </div>
                  
                              <div class="col-xl-3 col-lg-3 col-md-4  col-sm-12 col-12 m-b-5px display_flex">
                                <span class="lapview">&nbsp;&nbsp;&nbsp;</span>
                                <input type="tel" suffix="%" [ngClass]="cannotEdit ? 'dis inputs  width_50 color_label ' :
                           'inputs  width_50'" placeholder="Percentage" formControlName="percentage" maxlength="5"
                                  (blur)="formatPercentage(in)"
                                  oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                              </div>
                            </div>
                          </div>
                          </form>
                      </div>
                    </div>
                    <br>
                    <!-- {{profiledetail?.qualification}} -->

                  </div>
                </div>

              </div>
            </form>


          </mat-tab>

          <mat-tab label="Activities">
            <br> <br>

            <mat-table style="margin-left:2%" #table [dataSource]="dataSource">
              <ng-container matColumnDef="sno">
                <mat-header-cell *matHeaderCellDef>
                  S.no
                </mat-header-cell>
                <mat-cell *matCellDef="let row;let i = index">
                  <!-- <span class="mobile-label">S.No</span> -->
                  <span class="desktop-data"> {{i+1}}</span>
                  <!-- <span class="mobile-data"> {{i+1}}</span> -->
                </mat-cell>
              </ng-container>
              <ng-container *ngFor="let column of columns" [matColumnDef]="column.columnDef">
                <mat-header-cell *matHeaderCellDef>
                  <!-- <i class="fa fa-sort" aria-hidden="true"></i> -->
                  {{ column.header }}
                </mat-header-cell>
                <mat-cell (click)="datachange(row,column,enrolldialog)" *matCellDef="let row">{{ column.cell(row) }}
                </mat-cell>
              </ng-container>
              <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
              <mat-row *matRowDef="let row; columns: displayedColumns;let i = index"></mat-row>
            </mat-table>
            <br> <br>
            <!-- <mat-paginator #paginator [length]="resultsLength" [pageSize]="10" (page)="next($event)"
                showFirstLastButtons>
              </mat-paginator> -->

          </mat-tab>

          <mat-tab label="Enrolled courses">
            <br> <br>
            <mat-table #table style="margin-left:2%" [dataSource]="dataSource1">
              <ng-container matColumnDef="sno">
                <mat-header-cell *matHeaderCellDef>
                  S.no
                </mat-header-cell>
                <mat-cell *matCellDef="let row;let i = index">
                  <!-- <span class="mobile-label">S.No</span> -->
                  <span class="desktop-data"> {{i+1}}</span>
                  <!-- <span class="mobile-data"> {{i+1}}</span> -->
                </mat-cell>
              </ng-container>
              <ng-container *ngFor="let column of columns1" [matColumnDef]="column.columnDef">
                <mat-header-cell *matHeaderCellDef>
                  <!-- <i class="fa fa-sort" aria-hidden="true"></i> -->
                  {{ column.header }}
                </mat-header-cell>
                <mat-cell (click)="datachange(row,column,enrolldialog)" *matCellDef="let row">{{ column.cell(row) }}
                </mat-cell>
              </ng-container>
              <mat-header-row *matHeaderRowDef="displayedColumns1"></mat-header-row>
              <mat-row *matRowDef="let row; columns: displayedColumns1;let i = index"></mat-row>
            </mat-table>
            <br> <br>
            <!-- <mat-paginator #paginator [length]="resultsLength" [pageSize]="10" (page)="next($event)"
              showFirstLastButtons>
            </mat-paginator> -->
          </mat-tab>

        </mat-tab-group>
      </div>

    </div>
  </div>
</div>